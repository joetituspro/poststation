(()=>{"use strict";var e={972:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(601),o=r.n(n),a=r(314),i=r.n(a)()(o());i.push([e.id,'/*! tailwindcss v4.1.18 | MIT License | https://tailwindcss.com */\n@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-translate-x:0;--tw-translate-y:0;--tw-translate-z:0;--tw-scale-x:1;--tw-scale-y:1;--tw-scale-z:1;--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-space-y-reverse:0;--tw-divide-y-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-leading:initial;--tw-font-weight:initial;--tw-tracking:initial;--tw-ordinal:initial;--tw-slashed-zero:initial;--tw-numeric-figure:initial;--tw-numeric-spacing:initial;--tw-numeric-fraction:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-outline-style:solid;--tw-blur:initial;--tw-brightness:initial;--tw-contrast:initial;--tw-grayscale:initial;--tw-hue-rotate:initial;--tw-invert:initial;--tw-opacity:initial;--tw-saturate:initial;--tw-sepia:initial;--tw-drop-shadow:initial;--tw-drop-shadow-color:initial;--tw-drop-shadow-alpha:100%;--tw-drop-shadow-size:initial;--tw-backdrop-blur:initial;--tw-backdrop-brightness:initial;--tw-backdrop-contrast:initial;--tw-backdrop-grayscale:initial;--tw-backdrop-hue-rotate:initial;--tw-backdrop-invert:initial;--tw-backdrop-opacity:initial;--tw-backdrop-saturate:initial;--tw-backdrop-sepia:initial;--tw-duration:initial;--tw-ease:initial}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-serif:ui-serif,Georgia,Cambria,"Times New Roman",Times,serif;--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-50:oklch(97.1% .013 17.38);--color-red-100:oklch(93.6% .032 17.717);--color-red-200:oklch(88.5% .062 18.334);--color-red-300:oklch(80.8% .114 19.571);--color-red-400:oklch(70.4% .191 22.216);--color-red-500:oklch(63.7% .237 25.331);--color-red-600:oklch(57.7% .245 27.325);--color-red-700:oklch(50.5% .213 27.518);--color-red-800:oklch(44.4% .177 26.899);--color-red-900:oklch(39.6% .141 25.723);--color-red-950:oklch(25.8% .092 26.042);--color-orange-50:oklch(98% .016 73.684);--color-orange-100:oklch(95.4% .038 75.164);--color-orange-200:oklch(90.1% .076 70.697);--color-orange-300:oklch(83.7% .128 66.29);--color-orange-400:oklch(75% .183 55.934);--color-orange-500:oklch(70.5% .213 47.604);--color-orange-600:oklch(64.6% .222 41.116);--color-orange-700:oklch(55.3% .195 38.402);--color-orange-800:oklch(47% .157 37.304);--color-orange-900:oklch(40.8% .123 38.172);--color-orange-950:oklch(26.6% .079 36.259);--color-amber-50:oklch(98.7% .022 95.277);--color-amber-100:oklch(96.2% .059 95.617);--color-amber-200:oklch(92.4% .12 95.746);--color-amber-300:oklch(87.9% .169 91.605);--color-amber-400:oklch(82.8% .189 84.429);--color-amber-500:oklch(76.9% .188 70.08);--color-amber-600:oklch(66.6% .179 58.318);--color-amber-700:oklch(55.5% .163 48.998);--color-amber-800:oklch(47.3% .137 46.201);--color-amber-900:oklch(41.4% .112 45.904);--color-amber-950:oklch(27.9% .077 45.635);--color-yellow-50:oklch(98.7% .026 102.212);--color-yellow-100:oklch(97.3% .071 103.193);--color-yellow-200:oklch(94.5% .129 101.54);--color-yellow-300:oklch(90.5% .182 98.111);--color-yellow-400:oklch(85.2% .199 91.936);--color-yellow-500:oklch(79.5% .184 86.047);--color-yellow-600:oklch(68.1% .162 75.834);--color-yellow-700:oklch(55.4% .135 66.442);--color-yellow-800:oklch(47.6% .114 61.907);--color-yellow-900:oklch(42.1% .095 57.708);--color-yellow-950:oklch(28.6% .066 53.813);--color-lime-50:oklch(98.6% .031 120.757);--color-lime-100:oklch(96.7% .067 122.328);--color-lime-200:oklch(93.8% .127 124.321);--color-lime-300:oklch(89.7% .196 126.665);--color-lime-400:oklch(84.1% .238 128.85);--color-lime-500:oklch(76.8% .233 130.85);--color-lime-600:oklch(64.8% .2 131.684);--color-lime-700:oklch(53.2% .157 131.589);--color-lime-800:oklch(45.3% .124 130.933);--color-lime-900:oklch(40.5% .101 131.063);--color-lime-950:oklch(27.4% .072 132.109);--color-green-50:oklch(98.2% .018 155.826);--color-green-100:oklch(96.2% .044 156.743);--color-green-200:oklch(92.5% .084 155.995);--color-green-300:oklch(87.1% .15 154.449);--color-green-400:oklch(79.2% .209 151.711);--color-green-500:oklch(72.3% .219 149.579);--color-green-600:oklch(62.7% .194 149.214);--color-green-700:oklch(52.7% .154 150.069);--color-green-800:oklch(44.8% .119 151.328);--color-green-900:oklch(39.3% .095 152.535);--color-green-950:oklch(26.6% .065 152.934);--color-emerald-50:oklch(97.9% .021 166.113);--color-emerald-100:oklch(95% .052 163.051);--color-emerald-200:oklch(90.5% .093 164.15);--color-emerald-300:oklch(84.5% .143 164.978);--color-emerald-400:oklch(76.5% .177 163.223);--color-emerald-500:oklch(69.6% .17 162.48);--color-emerald-600:oklch(59.6% .145 163.225);--color-emerald-700:oklch(50.8% .118 165.612);--color-emerald-800:oklch(43.2% .095 166.913);--color-emerald-900:oklch(37.8% .077 168.94);--color-emerald-950:oklch(26.2% .051 172.552);--color-teal-50:oklch(98.4% .014 180.72);--color-teal-100:oklch(95.3% .051 180.801);--color-teal-200:oklch(91% .096 180.426);--color-teal-300:oklch(85.5% .138 181.071);--color-teal-400:oklch(77.7% .152 181.912);--color-teal-500:oklch(70.4% .14 182.503);--color-teal-600:oklch(60% .118 184.704);--color-teal-700:oklch(51.1% .096 186.391);--color-teal-800:oklch(43.7% .078 188.216);--color-teal-900:oklch(38.6% .063 188.416);--color-teal-950:oklch(27.7% .046 192.524);--color-cyan-50:oklch(98.4% .019 200.873);--color-cyan-100:oklch(95.6% .045 203.388);--color-cyan-200:oklch(91.7% .08 205.041);--color-cyan-300:oklch(86.5% .127 207.078);--color-cyan-400:oklch(78.9% .154 211.53);--color-cyan-500:oklch(71.5% .143 215.221);--color-cyan-600:oklch(60.9% .126 221.723);--color-cyan-700:oklch(52% .105 223.128);--color-cyan-800:oklch(45% .085 224.283);--color-cyan-900:oklch(39.8% .07 227.392);--color-cyan-950:oklch(30.2% .056 229.695);--color-sky-50:oklch(97.7% .013 236.62);--color-sky-100:oklch(95.1% .026 236.824);--color-sky-200:oklch(90.1% .058 230.902);--color-sky-300:oklch(82.8% .111 230.318);--color-sky-400:oklch(74.6% .16 232.661);--color-sky-500:oklch(68.5% .169 237.323);--color-sky-600:oklch(58.8% .158 241.966);--color-sky-700:oklch(50% .134 242.749);--color-sky-800:oklch(44.3% .11 240.79);--color-sky-900:oklch(39.1% .09 240.876);--color-sky-950:oklch(29.3% .066 243.157);--color-blue-50:oklch(97% .014 254.604);--color-blue-100:oklch(93.2% .032 255.585);--color-blue-200:oklch(88.2% .059 254.128);--color-blue-300:oklch(80.9% .105 251.813);--color-blue-400:oklch(70.7% .165 254.624);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-600:oklch(54.6% .245 262.881);--color-blue-700:oklch(48.8% .243 264.376);--color-blue-800:oklch(42.4% .199 265.638);--color-blue-900:oklch(37.9% .146 265.522);--color-blue-950:oklch(28.2% .091 267.935);--color-indigo-50:oklch(96.2% .018 272.314);--color-indigo-100:oklch(93% .034 272.788);--color-indigo-200:oklch(87% .065 274.039);--color-indigo-300:oklch(78.5% .115 274.713);--color-indigo-400:oklch(67.3% .182 276.935);--color-indigo-500:oklch(58.5% .233 277.117);--color-indigo-600:oklch(51.1% .262 276.966);--color-indigo-700:oklch(45.7% .24 277.023);--color-indigo-800:oklch(39.8% .195 277.366);--color-indigo-900:oklch(35.9% .144 278.697);--color-indigo-950:oklch(25.7% .09 281.288);--color-violet-50:oklch(96.9% .016 293.756);--color-violet-100:oklch(94.3% .029 294.588);--color-violet-200:oklch(89.4% .057 293.283);--color-violet-300:oklch(81.1% .111 293.571);--color-violet-400:oklch(70.2% .183 293.541);--color-violet-500:oklch(60.6% .25 292.717);--color-violet-600:oklch(54.1% .281 293.009);--color-violet-700:oklch(49.1% .27 292.581);--color-violet-800:oklch(43.2% .232 292.759);--color-violet-900:oklch(38% .189 293.745);--color-violet-950:oklch(28.3% .141 291.089);--color-purple-50:oklch(97.7% .014 308.299);--color-purple-100:oklch(94.6% .033 307.174);--color-purple-200:oklch(90.2% .063 306.703);--color-purple-300:oklch(82.7% .119 306.383);--color-purple-400:oklch(71.4% .203 305.504);--color-purple-500:oklch(62.7% .265 303.9);--color-purple-600:oklch(55.8% .288 302.321);--color-purple-700:oklch(49.6% .265 301.924);--color-purple-800:oklch(43.8% .218 303.724);--color-purple-900:oklch(38.1% .176 304.987);--color-purple-950:oklch(29.1% .149 302.717);--color-fuchsia-50:oklch(97.7% .017 320.058);--color-fuchsia-100:oklch(95.2% .037 318.852);--color-fuchsia-200:oklch(90.3% .076 319.62);--color-fuchsia-300:oklch(83.3% .145 321.434);--color-fuchsia-400:oklch(74% .238 322.16);--color-fuchsia-500:oklch(66.7% .295 322.15);--color-fuchsia-600:oklch(59.1% .293 322.896);--color-fuchsia-700:oklch(51.8% .253 323.949);--color-fuchsia-800:oklch(45.2% .211 324.591);--color-fuchsia-900:oklch(40.1% .17 325.612);--color-fuchsia-950:oklch(29.3% .136 325.661);--color-pink-50:oklch(97.1% .014 343.198);--color-pink-100:oklch(94.8% .028 342.258);--color-pink-200:oklch(89.9% .061 343.231);--color-pink-300:oklch(82.3% .12 346.018);--color-pink-400:oklch(71.8% .202 349.761);--color-pink-500:oklch(65.6% .241 354.308);--color-pink-600:oklch(59.2% .249 .584);--color-pink-700:oklch(52.5% .223 3.958);--color-pink-800:oklch(45.9% .187 3.815);--color-pink-900:oklch(40.8% .153 2.432);--color-pink-950:oklch(28.4% .109 3.907);--color-rose-50:oklch(96.9% .015 12.422);--color-rose-100:oklch(94.1% .03 12.58);--color-rose-200:oklch(89.2% .058 10.001);--color-rose-300:oklch(81% .117 11.638);--color-rose-400:oklch(71.2% .194 13.428);--color-rose-500:oklch(64.5% .246 16.439);--color-rose-600:oklch(58.6% .253 17.585);--color-rose-700:oklch(51.4% .222 16.935);--color-rose-800:oklch(45.5% .188 13.697);--color-rose-900:oklch(41% .159 10.272);--color-rose-950:oklch(27.1% .105 12.094);--color-slate-50:oklch(98.4% .003 247.858);--color-slate-100:oklch(96.8% .007 247.896);--color-slate-200:oklch(92.9% .013 255.508);--color-slate-300:oklch(86.9% .022 252.894);--color-slate-400:oklch(70.4% .04 256.788);--color-slate-500:oklch(55.4% .046 257.417);--color-slate-600:oklch(44.6% .043 257.281);--color-slate-700:oklch(37.2% .044 257.287);--color-slate-800:oklch(27.9% .041 260.031);--color-slate-900:oklch(20.8% .042 265.755);--color-slate-950:oklch(12.9% .042 264.695);--color-gray-50:oklch(98.5% .002 247.839);--color-gray-100:oklch(96.7% .003 264.542);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-300:oklch(87.2% .01 258.338);--color-gray-400:oklch(70.7% .022 261.325);--color-gray-500:oklch(55.1% .027 264.364);--color-gray-600:oklch(44.6% .03 256.802);--color-gray-700:oklch(37.3% .034 259.733);--color-gray-800:oklch(27.8% .033 256.848);--color-gray-900:oklch(21% .034 264.665);--color-gray-950:oklch(13% .028 261.692);--color-zinc-50:oklch(98.5% 0 0);--color-zinc-100:oklch(96.7% .001 286.375);--color-zinc-200:oklch(92% .004 286.32);--color-zinc-300:oklch(87.1% .006 286.286);--color-zinc-400:oklch(70.5% .015 286.067);--color-zinc-500:oklch(55.2% .016 285.938);--color-zinc-600:oklch(44.2% .017 285.786);--color-zinc-700:oklch(37% .013 285.805);--color-zinc-800:oklch(27.4% .006 286.033);--color-zinc-900:oklch(21% .006 285.885);--color-zinc-950:oklch(14.1% .005 285.823);--color-neutral-50:oklch(98.5% 0 0);--color-neutral-100:oklch(97% 0 0);--color-neutral-200:oklch(92.2% 0 0);--color-neutral-300:oklch(87% 0 0);--color-neutral-400:oklch(70.8% 0 0);--color-neutral-500:oklch(55.6% 0 0);--color-neutral-600:oklch(43.9% 0 0);--color-neutral-700:oklch(37.1% 0 0);--color-neutral-800:oklch(26.9% 0 0);--color-neutral-900:oklch(20.5% 0 0);--color-neutral-950:oklch(14.5% 0 0);--color-stone-50:oklch(98.5% .001 106.423);--color-stone-100:oklch(97% .001 106.424);--color-stone-200:oklch(92.3% .003 48.717);--color-stone-300:oklch(86.9% .005 56.366);--color-stone-400:oklch(70.9% .01 56.259);--color-stone-500:oklch(55.3% .013 58.071);--color-stone-600:oklch(44.4% .011 73.639);--color-stone-700:oklch(37.4% .01 67.558);--color-stone-800:oklch(26.8% .007 34.298);--color-stone-900:oklch(21.6% .006 56.043);--color-stone-950:oklch(14.7% .004 49.25);--color-black:#000;--color-white:#fff;--spacing:.25rem;--breakpoint-sm:40rem;--breakpoint-md:48rem;--breakpoint-lg:64rem;--breakpoint-xl:80rem;--breakpoint-2xl:96rem;--container-3xs:16rem;--container-2xs:18rem;--container-xs:20rem;--container-sm:24rem;--container-md:28rem;--container-lg:32rem;--container-xl:36rem;--container-2xl:42rem;--container-3xl:48rem;--container-4xl:56rem;--container-5xl:64rem;--container-6xl:72rem;--container-7xl:80rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height:calc(1.5/1);--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height:calc(2.25/1.875);--text-4xl:2.25rem;--text-4xl--line-height:calc(2.5/2.25);--text-5xl:3rem;--text-5xl--line-height:1;--text-6xl:3.75rem;--text-6xl--line-height:1;--text-7xl:4.5rem;--text-7xl--line-height:1;--text-8xl:6rem;--text-8xl--line-height:1;--text-9xl:8rem;--text-9xl--line-height:1;--font-weight-thin:100;--font-weight-extralight:200;--font-weight-light:300;--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--font-weight-extrabold:800;--font-weight-black:900;--tracking-tighter:-.05em;--tracking-tight:-.025em;--tracking-normal:0em;--tracking-wide:.025em;--tracking-wider:.05em;--tracking-widest:.1em;--leading-tight:1.25;--leading-snug:1.375;--leading-normal:1.5;--leading-relaxed:1.625;--leading-loose:2;--radius-xs:.125rem;--radius-sm:.25rem;--radius-md:.375rem;--radius-lg:.5rem;--radius-xl:.75rem;--radius-2xl:1rem;--radius-3xl:1.5rem;--radius-4xl:2rem;--shadow-2xs:0 1px #0000000d;--shadow-xs:0 1px 2px 0 #0000000d;--shadow-sm:0 1px 3px 0 #0000001a,0 1px 2px -1px #0000001a;--shadow-md:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a;--shadow-lg:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--shadow-xl:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a;--shadow-2xl:0 25px 50px -12px #00000040;--inset-shadow-2xs:inset 0 1px #0000000d;--inset-shadow-xs:inset 0 1px 1px #0000000d;--inset-shadow-sm:inset 0 2px 4px #0000000d;--drop-shadow-xs:0 1px 1px #0000000d;--drop-shadow-sm:0 1px 2px #00000026;--drop-shadow-md:0 3px 3px #0000001f;--drop-shadow-lg:0 4px 4px #00000026;--drop-shadow-xl:0 9px 7px #0000001a;--drop-shadow-2xl:0 25px 25px #00000026;--text-shadow-2xs:0px 1px 0px #00000026;--text-shadow-xs:0px 1px 1px #0003;--text-shadow-sm:0px 1px 0px #00000013,0px 1px 1px #00000013,0px 2px 2px #00000013;--text-shadow-md:0px 1px 1px #0000001a,0px 1px 2px #0000001a,0px 2px 4px #0000001a;--text-shadow-lg:0px 1px 2px #0000001a,0px 3px 2px #0000001a,0px 4px 8px #0000001a;--ease-in:cubic-bezier(.4,0,1,1);--ease-out:cubic-bezier(0,0,.2,1);--ease-in-out:cubic-bezier(.4,0,.2,1);--animate-spin:spin 1s linear infinite;--animate-ping:ping 1s cubic-bezier(0,0,.2,1)infinite;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--animate-bounce:bounce 1s infinite;--blur-xs:4px;--blur-sm:8px;--blur-md:12px;--blur-lg:16px;--blur-xl:24px;--blur-2xl:40px;--blur-3xl:64px;--perspective-dramatic:100px;--perspective-near:300px;--perspective-normal:500px;--perspective-midrange:800px;--perspective-distant:1200px;--aspect-video:16/9;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;-webkit-text-decoration:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab, red, red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}body{background-color:var(--color-gray-50)}}@layer components;@layer utilities{.pointer-events-auto{pointer-events:auto}.pointer-events-none{pointer-events:none}.visible{visibility:visible}.sr-only{clip-path:inset(50%);white-space:nowrap;border-width:0;width:1px;height:1px;margin:-1px;padding:0;position:absolute;overflow:hidden}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.static{position:static}.sticky{position:sticky}.inset-0{inset:calc(var(--spacing)*0)}.inset-x-0{inset-inline:calc(var(--spacing)*0)}.inset-y-0{inset-block:calc(var(--spacing)*0)}.start-2{inset-inline-start:calc(var(--spacing)*2)}.start-3{inset-inline-start:calc(var(--spacing)*3)}.-top-1{top:calc(var(--spacing)*-1)}.top-0{top:calc(var(--spacing)*0)}.top-0\\.5{top:calc(var(--spacing)*.5)}.top-1{top:calc(var(--spacing)*1)}.top-2{top:calc(var(--spacing)*2)}.top-3{top:calc(var(--spacing)*3)}.top-8{top:calc(var(--spacing)*8)}.-right-1{right:calc(var(--spacing)*-1)}.right-0{right:calc(var(--spacing)*0)}.right-3{right:calc(var(--spacing)*3)}.right-4{right:calc(var(--spacing)*4)}.bottom-2{bottom:calc(var(--spacing)*2)}.bottom-4{bottom:calc(var(--spacing)*4)}.left-0{left:calc(var(--spacing)*0)}.left-0\\.5{left:calc(var(--spacing)*.5)}.left-1{left:calc(var(--spacing)*1)}.left-2{left:calc(var(--spacing)*2)}.left-3{left:calc(var(--spacing)*3)}.z-10{z-index:10}.z-20{z-index:20}.z-30{z-index:30}.z-40{z-index:40}.z-50{z-index:50}.z-9999{z-index:9999}.z-99970{z-index:99970}.z-99980{z-index:99980}.z-99995{z-index:99995}.z-99999{z-index:99999}.z-\\[999999\\]{z-index:999999}.order-1{order:1}.order-2{order:2}.col-span-2{grid-column:span 2/span 2}.container{width:100%}@media (min-width:40rem){.container{max-width:40rem}}@media (min-width:48rem){.container{max-width:48rem}}@media (min-width:64rem){.container{max-width:64rem}}@media (min-width:80rem){.container{max-width:80rem}}@media (min-width:96rem){.container{max-width:96rem}}.m-0{margin:calc(var(--spacing)*0)}.-mx-4{margin-inline:calc(var(--spacing)*-4)}.-mx-6{margin-inline:calc(var(--spacing)*-6)}.-mx-8{margin-inline:calc(var(--spacing)*-8)}.mx-1{margin-inline:calc(var(--spacing)*1)}.mx-2{margin-inline:calc(var(--spacing)*2)}.mx-auto{margin-inline:auto}.my-5{margin-block:calc(var(--spacing)*5)}.-mt-2{margin-top:calc(var(--spacing)*-2)}.-mt-4{margin-top:calc(var(--spacing)*-4)}.mt-0{margin-top:calc(var(--spacing)*0)}.mt-0\\.5{margin-top:calc(var(--spacing)*.5)}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-1\\.5{margin-top:calc(var(--spacing)*1.5)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-6{margin-top:calc(var(--spacing)*6)}.mr-1{margin-right:calc(var(--spacing)*1)}.mr-auto{margin-right:auto}.-mb-px{margin-bottom:-1px}.mb-0{margin-bottom:calc(var(--spacing)*0)}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-5{margin-bottom:calc(var(--spacing)*5)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.mb-8{margin-bottom:calc(var(--spacing)*8)}.-ml-2{margin-left:calc(var(--spacing)*-2)}.ml-0{margin-left:calc(var(--spacing)*0)}.ml-0\\.5{margin-left:calc(var(--spacing)*.5)}.ml-1{margin-left:calc(var(--spacing)*1)}.ml-2{margin-left:calc(var(--spacing)*2)}.ml-7{margin-left:calc(var(--spacing)*7)}.ml-auto{margin-left:auto}.box-border{box-sizing:border-box}.line-clamp-2{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.block{display:block}.contents{display:contents}.flex{display:flex}.grid{display:grid}.hidden{display:none}.inline{display:inline}.inline-block{display:inline-block}.inline-flex{display:inline-flex}.table{display:table}.field-sizing-content{field-sizing:content}.h-2{height:calc(var(--spacing)*2)}.h-3{height:calc(var(--spacing)*3)}.h-3\\.5{height:calc(var(--spacing)*3.5)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-7{height:calc(var(--spacing)*7)}.h-8{height:calc(var(--spacing)*8)}.h-9{height:calc(var(--spacing)*9)}.h-10{height:calc(var(--spacing)*10)}.h-12{height:calc(var(--spacing)*12)}.h-16{height:calc(var(--spacing)*16)}.h-full{height:100%}.max-h-60{max-height:calc(var(--spacing)*60)}.max-h-72{max-height:calc(var(--spacing)*72)}.max-h-96{max-height:calc(var(--spacing)*96)}.max-h-112{max-height:calc(var(--spacing)*112)}.min-h-0{min-height:calc(var(--spacing)*0)}.min-h-10{min-height:calc(var(--spacing)*10)}.min-h-24{min-height:calc(var(--spacing)*24)}.min-h-\\[38px\\]{min-height:38px}.min-h-screen{min-height:100vh}.w-2{width:calc(var(--spacing)*2)}.w-3{width:calc(var(--spacing)*3)}.w-3\\.5{width:calc(var(--spacing)*3.5)}.w-4{width:calc(var(--spacing)*4)}.w-5{width:calc(var(--spacing)*5)}.w-6{width:calc(var(--spacing)*6)}.w-8{width:calc(var(--spacing)*8)}.w-9{width:calc(var(--spacing)*9)}.w-10{width:calc(var(--spacing)*10)}.w-11{width:calc(var(--spacing)*11)}.w-12{width:calc(var(--spacing)*12)}.w-16{width:calc(var(--spacing)*16)}.w-20{width:calc(var(--spacing)*20)}.w-24{width:calc(var(--spacing)*24)}.w-28{width:calc(var(--spacing)*28)}.w-32{width:calc(var(--spacing)*32)}.w-40{width:calc(var(--spacing)*40)}.w-52{width:calc(var(--spacing)*52)}.w-64{width:calc(var(--spacing)*64)}.w-72{width:calc(var(--spacing)*72)}.w-80{width:calc(var(--spacing)*80)}.w-full{width:100%}.max-w-2xl{max-width:var(--container-2xl)}.max-w-4xl{max-width:var(--container-4xl)}.max-w-5xl{max-width:var(--container-5xl)}.max-w-28{max-width:calc(var(--spacing)*28)}.max-w-32{max-width:calc(var(--spacing)*32)}.max-w-56{max-width:calc(var(--spacing)*56)}.max-w-72{max-width:calc(var(--spacing)*72)}.max-w-\\[80vw\\]{max-width:80vw}.max-w-\\[120px\\]{max-width:120px}.max-w-\\[200px\\]{max-width:200px}.max-w-full{max-width:100%}.max-w-lg{max-width:var(--container-lg)}.max-w-md{max-width:var(--container-md)}.max-w-none{max-width:none}.max-w-sm{max-width:var(--container-sm)}.max-w-xs{max-width:var(--container-xs)}.min-w-0{min-width:calc(var(--spacing)*0)}.min-w-32{min-width:calc(var(--spacing)*32)}.min-w-48{min-width:calc(var(--spacing)*48)}.min-w-full{min-width:100%}.flex-1{flex:1}.flex-shrink,.shrink{flex-shrink:1}.shrink-0{flex-shrink:0}.flex-grow,.grow{flex-grow:1}.border-collapse{border-collapse:collapse}.origin-left{transform-origin:0}.-translate-x-1{--tw-translate-x:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-x-full{--tw-translate-x:-100%;translate:var(--tw-translate-x)var(--tw-translate-y)}.translate-x-0{--tw-translate-x:calc(var(--spacing)*0);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-1{--tw-translate-y:calc(var(--spacing)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-2{--tw-translate-y:calc(var(--spacing)*-2);translate:var(--tw-translate-x)var(--tw-translate-y)}.-translate-y-4{--tw-translate-y:calc(var(--spacing)*-4);translate:var(--tw-translate-x)var(--tw-translate-y)}.scale-75{--tw-scale-x:75%;--tw-scale-y:75%;--tw-scale-z:75%;scale:var(--tw-scale-x)var(--tw-scale-y)}.scale-100{--tw-scale-x:100%;--tw-scale-y:100%;--tw-scale-z:100%;scale:var(--tw-scale-x)var(--tw-scale-y)}.rotate-90{rotate:90deg}.rotate-180{rotate:180deg}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.animate-bounce{animation:var(--animate-bounce)}.animate-spin{animation:var(--animate-spin)}.cursor-pointer{cursor:pointer}.touch-manipulation{touch-action:manipulation}.resize{resize:both}.resize-y{resize:vertical}.appearance-none{appearance:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-row{flex-direction:row}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.items-end{align-items:flex-end}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.justify-start{justify-content:flex-start}.gap-0{gap:calc(var(--spacing)*0)}.gap-0\\.5{gap:calc(var(--spacing)*.5)}.gap-1{gap:calc(var(--spacing)*1)}.gap-1\\.5{gap:calc(var(--spacing)*1.5)}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}.gap-6{gap:calc(var(--spacing)*6)}:where(.space-y-0>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*0)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*0)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-0\\.5>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*.5)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*.5)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-1>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*1)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*1)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-3>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*3)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*3)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}:where(.space-y-6>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*6)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*6)*calc(1 - var(--tw-space-y-reverse)))}.gap-y-4{row-gap:calc(var(--spacing)*4)}:where(.divide-y>:not(:last-child)){--tw-divide-y-reverse:0;border-bottom-style:var(--tw-border-style);border-top-style:var(--tw-border-style);border-top-width:calc(1px*var(--tw-divide-y-reverse));border-bottom-width:calc(1px*calc(1 - var(--tw-divide-y-reverse)))}:where(.divide-y-2>:not(:last-child)){--tw-divide-y-reverse:0;border-bottom-style:var(--tw-border-style);border-top-style:var(--tw-border-style);border-top-width:calc(2px*var(--tw-divide-y-reverse));border-bottom-width:calc(2px*calc(1 - var(--tw-divide-y-reverse)))}:where(.divide-gray-100>:not(:last-child)){border-color:var(--color-gray-100)}:where(.divide-gray-200>:not(:last-child)){border-color:var(--color-gray-200)}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:var(--radius-2xl)}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.rounded-none{border-radius:0}.rounded-xl{border-radius:var(--radius-xl)}.border{border-style:var(--tw-border-style);border-width:1px}.border-0{border-style:var(--tw-border-style);border-width:0}.border-2{border-style:var(--tw-border-style);border-width:2px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-r{border-right-style:var(--tw-border-style);border-right-width:1px}.border-b{border-bottom-style:var(--tw-border-style);border-bottom-width:1px}.border-b-2{border-bottom-style:var(--tw-border-style);border-bottom-width:2px}.border-dashed{--tw-border-style:dashed;border-style:dashed}.border-none{--tw-border-style:none;border-style:none}.border-emerald-200{border-color:var(--color-emerald-200)}.border-gray-100{border-color:var(--color-gray-100)}.border-gray-200{border-color:var(--color-gray-200)}.border-gray-300{border-color:var(--color-gray-300)}.border-indigo-100{border-color:var(--color-indigo-100)}.border-indigo-200{border-color:var(--color-indigo-200)}.border-indigo-300{border-color:var(--color-indigo-300)}.border-indigo-500{border-color:var(--color-indigo-500)}.border-red-200{border-color:var(--color-red-200)}.border-red-300{border-color:var(--color-red-300)}.border-transparent{border-color:#0000}.border-t-indigo-600{border-top-color:var(--color-indigo-600)}.bg-amber-100{background-color:var(--color-amber-100)}.bg-black{background-color:var(--color-black)}.bg-black\\/30{background-color:#0000004d}@supports (color:color-mix(in lab, red, red)){.bg-black\\/30{background-color:color-mix(in oklab,var(--color-black)30%,transparent)}}.bg-black\\/50{background-color:#00000080}@supports (color:color-mix(in lab, red, red)){.bg-black\\/50{background-color:color-mix(in oklab,var(--color-black)50%,transparent)}}.bg-blue-100{background-color:var(--color-blue-100)}.bg-emerald-50{background-color:var(--color-emerald-50)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-50\\/50{background-color:#f9fafb80}@supports (color:color-mix(in lab, red, red)){.bg-gray-50\\/50{background-color:color-mix(in oklab,var(--color-gray-50)50%,transparent)}}.bg-gray-50\\/95{background-color:#f9fafbf2}@supports (color:color-mix(in lab, red, red)){.bg-gray-50\\/95{background-color:color-mix(in oklab,var(--color-gray-50)95%,transparent)}}.bg-gray-100{background-color:var(--color-gray-100)}.bg-gray-200{background-color:var(--color-gray-200)}.bg-gray-200\\/80{background-color:#e5e7ebcc}@supports (color:color-mix(in lab, red, red)){.bg-gray-200\\/80{background-color:color-mix(in oklab,var(--color-gray-200)80%,transparent)}}.bg-gray-900{background-color:var(--color-gray-900)}.bg-green-100{background-color:var(--color-green-100)}.bg-green-600{background-color:var(--color-green-600)}.bg-indigo-50{background-color:var(--color-indigo-50)}.bg-indigo-50\\/60{background-color:#eef2ff99}@supports (color:color-mix(in lab, red, red)){.bg-indigo-50\\/60{background-color:color-mix(in oklab,var(--color-indigo-50)60%,transparent)}}.bg-indigo-100{background-color:var(--color-indigo-100)}.bg-indigo-500{background-color:var(--color-indigo-500)}.bg-indigo-600{background-color:var(--color-indigo-600)}.bg-red-50{background-color:var(--color-red-50)}.bg-red-100{background-color:var(--color-red-100)}.bg-red-500{background-color:var(--color-red-500)}.bg-red-600{background-color:var(--color-red-600)}.bg-transparent{background-color:#0000}.bg-white{background-color:var(--color-white)}.bg-white\\/80{background-color:#fffc}@supports (color:color-mix(in lab, red, red)){.bg-white\\/80{background-color:color-mix(in oklab,var(--color-white)80%,transparent)}}.bg-yellow-100{background-color:var(--color-yellow-100)}.bg-linear-to-br{--tw-gradient-position:to bottom right}@supports (background-image:linear-gradient(in lab, red, red)){.bg-linear-to-br{--tw-gradient-position:to bottom right in oklab}}.bg-linear-to-br{background-image:linear-gradient(var(--tw-gradient-stops))}.bg-gradient-to-br{--tw-gradient-position:to bottom right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-indigo-500{--tw-gradient-from:var(--color-indigo-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-600{--tw-gradient-to:var(--color-purple-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.mask-repeat{-webkit-mask-repeat:repeat;mask-repeat:repeat}.object-cover{object-fit:cover}.p-0{padding:calc(var(--spacing)*0)}.p-1{padding:calc(var(--spacing)*1)}.p-1\\.5{padding:calc(var(--spacing)*1.5)}.p-2{padding:calc(var(--spacing)*2)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-8{padding:calc(var(--spacing)*8)}.px-0{padding-inline:calc(var(--spacing)*0)}.px-1{padding-inline:calc(var(--spacing)*1)}.px-1\\.5{padding-inline:calc(var(--spacing)*1.5)}.px-2{padding-inline:calc(var(--spacing)*2)}.px-2\\.5{padding-inline:calc(var(--spacing)*2.5)}.px-3{padding-inline:calc(var(--spacing)*3)}.px-4{padding-inline:calc(var(--spacing)*4)}.px-5{padding-inline:calc(var(--spacing)*5)}.px-6{padding-inline:calc(var(--spacing)*6)}.px-8{padding-inline:calc(var(--spacing)*8)}.py-0{padding-block:calc(var(--spacing)*0)}.py-0\\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.py-1\\.5{padding-block:calc(var(--spacing)*1.5)}.py-2{padding-block:calc(var(--spacing)*2)}.py-2\\.5{padding-block:calc(var(--spacing)*2.5)}.py-3{padding-block:calc(var(--spacing)*3)}.py-4{padding-block:calc(var(--spacing)*4)}.py-5{padding-block:calc(var(--spacing)*5)}.py-8{padding-block:calc(var(--spacing)*8)}.py-10{padding-block:calc(var(--spacing)*10)}.py-12{padding-block:calc(var(--spacing)*12)}.py-16{padding-block:calc(var(--spacing)*16)}.pt-0{padding-top:calc(var(--spacing)*0)}.pt-0\\.5{padding-top:calc(var(--spacing)*.5)}.pt-1{padding-top:calc(var(--spacing)*1)}.pt-2{padding-top:calc(var(--spacing)*2)}.pt-4{padding-top:calc(var(--spacing)*4)}.pt-5{padding-top:calc(var(--spacing)*5)}.pt-6{padding-top:calc(var(--spacing)*6)}.pr-1{padding-right:calc(var(--spacing)*1)}.pr-1\\.5{padding-right:calc(var(--spacing)*1.5)}.pr-2{padding-right:calc(var(--spacing)*2)}.pr-2\\.5{padding-right:calc(var(--spacing)*2.5)}.pr-4{padding-right:calc(var(--spacing)*4)}.pr-8{padding-right:calc(var(--spacing)*8)}.pr-10{padding-right:calc(var(--spacing)*10)}.pr-16{padding-right:calc(var(--spacing)*16)}.pb-1{padding-bottom:calc(var(--spacing)*1)}.pb-2{padding-bottom:calc(var(--spacing)*2)}.pb-2\\.5{padding-bottom:calc(var(--spacing)*2.5)}.pb-5{padding-bottom:calc(var(--spacing)*5)}.pb-6{padding-bottom:calc(var(--spacing)*6)}.pl-1{padding-left:calc(var(--spacing)*1)}.pl-1\\.5{padding-left:calc(var(--spacing)*1.5)}.pl-2{padding-left:calc(var(--spacing)*2)}.pl-2\\.5{padding-left:calc(var(--spacing)*2.5)}.pl-4{padding-left:calc(var(--spacing)*4)}.pl-7{padding-left:calc(var(--spacing)*7)}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.align-middle{vertical-align:middle}.font-mono{font-family:var(--font-mono)}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.text-\\[8px\\]\\!{font-size:8px!important}.text-\\[10px\\]{font-size:10px}.text-\\[11px\\]{font-size:11px}.text-\\[14px\\]{font-size:14px}.leading-none{--tw-leading:1;line-height:1}.leading-relaxed{--tw-leading:var(--leading-relaxed);line-height:var(--leading-relaxed)}.leading-snug{--tw-leading:var(--leading-snug);line-height:var(--leading-snug)}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-normal{--tw-font-weight:var(--font-weight-normal);font-weight:var(--font-weight-normal)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.tracking-wider{--tw-tracking:var(--tracking-wider);letter-spacing:var(--tracking-wider)}.text-wrap{text-wrap:wrap}.whitespace-nowrap{white-space:nowrap}.text-amber-700{color:var(--color-amber-700)}.text-blue-800{color:var(--color-blue-800)}.text-emerald-600{color:var(--color-emerald-600)}.text-emerald-800{color:var(--color-emerald-800)}.text-gray-100{color:var(--color-gray-100)}.text-gray-300{color:var(--color-gray-300)}.text-gray-400{color:var(--color-gray-400)}.text-gray-500{color:var(--color-gray-500)}.text-gray-600{color:var(--color-gray-600)}.text-gray-700{color:var(--color-gray-700)}.text-gray-800{color:var(--color-gray-800)}.text-gray-900{color:var(--color-gray-900)}.text-green-600{color:var(--color-green-600)}.text-green-800{color:var(--color-green-800)}.text-indigo-100{color:var(--color-indigo-100)}.text-indigo-600{color:var(--color-indigo-600)}.text-indigo-700{color:var(--color-indigo-700)}.text-indigo-800{color:var(--color-indigo-800)}.text-indigo-900{color:var(--color-indigo-900)}.text-orange-500{color:var(--color-orange-500)}.text-red-500{color:var(--color-red-500)}.text-red-600{color:var(--color-red-600)}.text-red-700{color:var(--color-red-700)}.text-red-800{color:var(--color-red-800)}.text-white{color:var(--color-white)}.text-yellow-800{color:var(--color-yellow-800)}.lowercase{text-transform:lowercase}.uppercase{text-transform:uppercase}.italic{font-style:italic}.tabular-nums{--tw-numeric-spacing:tabular-nums;font-variant-numeric:var(--tw-ordinal,)var(--tw-slashed-zero,)var(--tw-numeric-figure,)var(--tw-numeric-spacing,)var(--tw-numeric-fraction,)}.underline{text-decoration-line:underline}.placeholder-transparent::placeholder{color:#0000}.opacity-0{opacity:0}.opacity-25{opacity:.25}.opacity-50{opacity:.5}.opacity-75{opacity:.75}.opacity-100{opacity:1}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px var(--tw-shadow-color,#0000001a),0 2px 4px -2px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-none{--tw-shadow:0 0 #0000;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px var(--tw-shadow-color,#0000001a),0 8px 10px -6px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-0{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(0px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-indigo-500{--tw-ring-color:var(--color-indigo-500)}.outline{outline-style:var(--tw-outline-style);outline-width:1px}.blur{--tw-blur:blur(8px);filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.filter{filter:var(--tw-blur,)var(--tw-brightness,)var(--tw-contrast,)var(--tw-grayscale,)var(--tw-hue-rotate,)var(--tw-invert,)var(--tw-saturate,)var(--tw-sepia,)var(--tw-drop-shadow,)}.backdrop-blur{--tw-backdrop-blur:blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-blur-sm{--tw-backdrop-blur:blur(var(--blur-sm));-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,);backdrop-filter:var(--tw-backdrop-blur,)var(--tw-backdrop-brightness,)var(--tw-backdrop-contrast,)var(--tw-backdrop-grayscale,)var(--tw-backdrop-hue-rotate,)var(--tw-backdrop-invert,)var(--tw-backdrop-opacity,)var(--tw-backdrop-saturate,)var(--tw-backdrop-sepia,)}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-colors{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-opacity{transition-property:opacity;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.transition-transform{transition-property:transform,translate,scale,rotate;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-200{--tw-duration:.2s;transition-duration:.2s}.duration-300{--tw-duration:.3s;transition-duration:.3s}.ease-in-out{--tw-ease:var(--ease-in-out);transition-timing-function:var(--ease-in-out)}.ease-out{--tw-ease:var(--ease-out);transition-timing-function:var(--ease-out)}.\\[animation-delay\\:-0\\.3s\\]{animation-delay:-.3s}.\\[animation-delay\\:-0\\.15s\\]{animation-delay:-.15s}@media (hover:hover){.group-hover\\:opacity-100:is(:where(.group):hover *){opacity:1}}.peer-placeholder-shown\\:top-1\\/2:is(:where(.peer):placeholder-shown~*){top:50%}.peer-placeholder-shown\\:-translate-y-1\\/2:is(:where(.peer):placeholder-shown~*){--tw-translate-y:calc(calc(1/2*100%)*-1);translate:var(--tw-translate-x)var(--tw-translate-y)}.peer-placeholder-shown\\:scale-100:is(:where(.peer):placeholder-shown~*){--tw-scale-x:100%;--tw-scale-y:100%;--tw-scale-z:100%;scale:var(--tw-scale-x)var(--tw-scale-y)}.peer-placeholder-shown\\:opacity-0:is(:where(.peer):placeholder-shown~*){opacity:0}.peer-focus\\:top-2:is(:where(.peer):focus~*){top:calc(var(--spacing)*2)}.peer-focus\\:-translate-y-4:is(:where(.peer):focus~*){--tw-translate-y:calc(var(--spacing)*-4);translate:var(--tw-translate-x)var(--tw-translate-y)}.peer-focus\\:scale-75:is(:where(.peer):focus~*){--tw-scale-x:75%;--tw-scale-y:75%;--tw-scale-z:75%;scale:var(--tw-scale-x)var(--tw-scale-y)}.peer-focus\\:px-1:is(:where(.peer):focus~*){padding-inline:calc(var(--spacing)*1)}.peer-focus\\:text-indigo-600:is(:where(.peer):focus~*){color:var(--color-indigo-600)}.peer-focus\\:opacity-100:is(:where(.peer):focus~*){opacity:1}.placeholder\\:text-gray-400::placeholder{color:var(--color-gray-400)}@media (hover:hover){.hover\\:border-gray-300:hover{border-color:var(--color-gray-300)}.hover\\:border-gray-400:hover{border-color:var(--color-gray-400)}.hover\\:border-indigo-300:hover{border-color:var(--color-indigo-300)}.hover\\:border-red-300:hover{border-color:var(--color-red-300)}.hover\\:bg-gray-50:hover{background-color:var(--color-gray-50)}.hover\\:bg-gray-50\\/80:hover{background-color:#f9fafbcc}@supports (color:color-mix(in lab, red, red)){.hover\\:bg-gray-50\\/80:hover{background-color:color-mix(in oklab,var(--color-gray-50)80%,transparent)}}.hover\\:bg-gray-100:hover{background-color:var(--color-gray-100)}.hover\\:bg-green-700:hover{background-color:var(--color-green-700)}.hover\\:bg-indigo-50:hover{background-color:var(--color-indigo-50)}.hover\\:bg-indigo-100:hover{background-color:var(--color-indigo-100)}.hover\\:bg-indigo-700:hover{background-color:var(--color-indigo-700)}.hover\\:bg-red-50:hover{background-color:var(--color-red-50)}.hover\\:bg-red-700:hover{background-color:var(--color-red-700)}.hover\\:text-gray-600:hover{color:var(--color-gray-600)}.hover\\:text-gray-700:hover{color:var(--color-gray-700)}.hover\\:text-indigo-600:hover{color:var(--color-indigo-600)}.hover\\:text-indigo-900:hover{color:var(--color-indigo-900)}.hover\\:text-red-600:hover{color:var(--color-red-600)}.hover\\:text-red-800:hover{color:var(--color-red-800)}.hover\\:text-red-900:hover{color:var(--color-red-900)}.hover\\:underline:hover{text-decoration-line:underline}.hover\\:opacity-70:hover{opacity:.7}}.focus\\:border-indigo-500:focus{border-color:var(--color-indigo-500)}.focus\\:border-red-500:focus{border-color:var(--color-red-500)}.focus\\:ring-1:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\\:ring-gray-400:focus{--tw-ring-color:var(--color-gray-400)}.focus\\:ring-green-500:focus{--tw-ring-color:var(--color-green-500)}.focus\\:ring-indigo-500:focus{--tw-ring-color:var(--color-indigo-500)}.focus\\:ring-red-500:focus{--tw-ring-color:var(--color-red-500)}.focus\\:ring-offset-1:focus{--tw-ring-offset-width:1px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.focus\\:ring-offset-2:focus{--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}.focus\\:outline-none:focus{--tw-outline-style:none;outline-style:none}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:bg-gray-50:disabled{background-color:var(--color-gray-50)}.disabled\\:opacity-50:disabled{opacity:.5}@media (min-width:40rem){.sm\\:mb-6{margin-bottom:calc(var(--spacing)*6)}.sm\\:ml-0{margin-left:calc(var(--spacing)*0)}.sm\\:w-auto{width:auto}.sm\\:max-w-md{max-width:var(--container-md)}.sm\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.sm\\:grid-cols-\\[220px_1fr\\]{grid-template-columns:220px 1fr}.sm\\:flex-row{flex-direction:row}.sm\\:items-center{align-items:center}.sm\\:items-end{align-items:flex-end}.sm\\:items-start{align-items:flex-start}.sm\\:justify-between{justify-content:space-between}.sm\\:gap-2{gap:calc(var(--spacing)*2)}.sm\\:gap-3{gap:calc(var(--spacing)*3)}.sm\\:p-8{padding:calc(var(--spacing)*8)}.sm\\:px-4{padding-inline:calc(var(--spacing)*4)}.sm\\:py-3{padding-block:calc(var(--spacing)*3)}.sm\\:py-4{padding-block:calc(var(--spacing)*4)}}@media (min-width:48rem){.md\\:col-span-2{grid-column:span 2/span 2}.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width:64rem){.lg\\:hidden{display:none}.lg\\:translate-x-0{--tw-translate-x:calc(var(--spacing)*0);translate:var(--tw-translate-x)var(--tw-translate-y)}.lg\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.lg\\:gap-6{gap:calc(var(--spacing)*6)}}@media (min-width:80rem){.xl\\:w-80{width:calc(var(--spacing)*80)}.xl\\:flex-row{flex-direction:row}}}#poststation-app{--poststation-top-offset:32px;color:#111827;background:#f9fafb;margin-top:-10px;margin-left:-20px;margin-right:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,sans-serif;overflow:visible}#poststation-app *,#poststation-app :before,#poststation-app :after{box-sizing:border-box}#poststation-app h1,#poststation-app h2,#poststation-app h3,#poststation-app h4,#poststation-app h5,#poststation-app h6,#poststation-app p,#poststation-app ul,#poststation-app ol,#poststation-app li,#poststation-app figure,#poststation-app blockquote{margin:0;padding:0}#poststation-app button,#poststation-app input,#poststation-app select,#poststation-app textarea{font:inherit;color:inherit}#poststation-app button{cursor:pointer}#poststation-app button:disabled{cursor:not-allowed}#poststation-app .poststation-field{border-radius:var(--radius-lg);border-style:var(--tw-border-style);border-width:1px;border-color:var(--color-gray-300);background-color:var(--color-white);width:100%;max-width:none;padding-inline:calc(var(--spacing)*3);padding-block:calc(var(--spacing)*2);font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height));color:var(--color-gray-900);--tw-shadow:0 0 #0000;box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow);transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration));display:block}#poststation-app .poststation-field::placeholder{color:var(--color-gray-400)}#poststation-app .poststation-field:focus{border-color:var(--color-indigo-500);--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow);--tw-ring-color:var(--color-indigo-500);--tw-outline-style:none;outline-style:none}#poststation-app .poststation-field:disabled{cursor:not-allowed;background-color:var(--color-gray-50);color:var(--color-gray-500)}#poststation-app .poststation-field-error{border-color:var(--color-red-300)}#poststation-app .poststation-field-error:focus{border-color:var(--color-red-500);--tw-ring-color:var(--color-red-500)}#poststation-app select.poststation-field{padding-right:calc(var(--spacing)*8)}#poststation-app textarea.poststation-field{field-sizing:content;max-height:calc(var(--spacing)*60);min-height:calc(var(--spacing)*10);resize:vertical;overflow-y:auto}#poststation-app .poststation-switch{cursor:pointer;align-items:center;gap:calc(var(--spacing)*3);display:inline-flex}#poststation-app .poststation-switch input.poststation-field-checkbox{clip-path:inset(50%);white-space:nowrap;border-width:0;width:1px;height:1px;margin:-1px;padding:0;position:absolute;overflow:hidden}#poststation-app .poststation-switch .poststation-switch-track{height:calc(var(--spacing)*5);width:calc(var(--spacing)*9);background-color:var(--color-gray-200);transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration));--tw-duration:.2s;border-radius:3.40282e38px;flex-shrink:0;transition-duration:.2s;display:inline-flex;position:relative}#poststation-app .poststation-switch .poststation-switch-track:after{content:"";top:calc(var(--spacing)*.5);left:calc(var(--spacing)*.5);height:calc(var(--spacing)*4);width:calc(var(--spacing)*4);background-color:var(--color-white);--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(0px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow);transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration));--tw-duration:.2s;border-radius:3.40282e38px;transition-duration:.2s;position:absolute}#poststation-app .poststation-switch input:focus-visible+.poststation-switch-track{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow);--tw-ring-color:var(--color-indigo-500);--tw-ring-offset-width:2px;--tw-ring-offset-shadow:var(--tw-ring-inset,)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color)}#poststation-app .poststation-switch input:checked+.poststation-switch-track{background-color:var(--color-indigo-600)}#poststation-app .poststation-switch input:checked+.poststation-switch-track:after{--tw-translate-x:calc(var(--spacing)*4);translate:var(--tw-translate-x)var(--tw-translate-y)}#poststation-app .poststation-switch input:disabled+.poststation-switch-track{cursor:not-allowed;opacity:.5}#poststation-app .poststation-field-color{height:calc(var(--spacing)*10);cursor:pointer;border-radius:var(--radius-lg);border-style:var(--tw-border-style);border-width:1px;border-color:var(--color-gray-300);background-color:var(--color-white);width:100%;padding:calc(var(--spacing)*1)}#poststation-app .poststation-icon-btn{border-radius:var(--radius-md);border-style:var(--tw-border-style);border-width:1px;border-color:var(--color-gray-300);background-color:var(--color-white);padding:calc(var(--spacing)*1.5);color:var(--color-gray-500);transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration));justify-content:center;align-items:center;display:inline-flex}@media (hover:hover){#poststation-app .poststation-icon-btn:hover{border-color:var(--color-indigo-300);background-color:var(--color-indigo-50);color:var(--color-indigo-600)}}#poststation-app .poststation-icon-btn:disabled{cursor:not-allowed;opacity:.5}#poststation-app .poststation-icon-btn-danger{border-radius:var(--radius-md);border-style:var(--tw-border-style);border-width:1px;border-color:var(--color-gray-300);background-color:var(--color-white);padding:calc(var(--spacing)*1.5);color:var(--color-gray-500);transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,--tw-gradient-from,--tw-gradient-via,--tw-gradient-to,opacity,box-shadow,transform,translate,scale,rotate,filter,-webkit-backdrop-filter,backdrop-filter,display,content-visibility,overlay,pointer-events;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration));justify-content:center;align-items:center;display:inline-flex}@media (hover:hover){#poststation-app .poststation-icon-btn-danger:hover{border-color:var(--color-red-300);background-color:var(--color-red-50);color:var(--color-red-600)}}#poststation-app .poststation-icon-btn-danger:disabled{cursor:not-allowed;opacity:.5}#poststation-app a{color:inherit;text-decoration:none}@media (min-width:783px){#poststation-app{margin-left:-20px}}@media (min-width:1024px){#poststation-app .poststation-desktop-sidebar{top:var(--poststation-top-offset,32px);height:calc(100vh - var(--poststation-top-offset,32px));align-self:flex-start;position:sticky;bottom:auto;left:auto;transform:none}}.poststation-sticky-header{top:var(--poststation-top-offset,32px);z-index:99990;width:100%;position:sticky}@media screen and (max-width:782px){.poststation-sticky-header{top:0}}body.admin-bar .poststation-mobile-overlay,body.admin-bar .poststation-mobile-sidebar{height:calc(100vh - 32px);top:32px}@media screen and (max-width:782px){body.admin-bar .poststation-mobile-overlay,body.admin-bar .poststation-mobile-sidebar{height:calc(100vh - 46px);top:46px}}@property --tw-translate-x{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-y{syntax:"*";inherits:false;initial-value:0}@property --tw-translate-z{syntax:"*";inherits:false;initial-value:0}@property --tw-scale-x{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-y{syntax:"*";inherits:false;initial-value:1}@property --tw-scale-z{syntax:"*";inherits:false;initial-value:1}@property --tw-rotate-x{syntax:"*";inherits:false}@property --tw-rotate-y{syntax:"*";inherits:false}@property --tw-rotate-z{syntax:"*";inherits:false}@property --tw-skew-x{syntax:"*";inherits:false}@property --tw-skew-y{syntax:"*";inherits:false}@property --tw-space-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-divide-y-reverse{syntax:"*";inherits:false;initial-value:0}@property --tw-border-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-gradient-position{syntax:"*";inherits:false}@property --tw-gradient-from{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-via{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-to{syntax:"<color>";inherits:false;initial-value:#0000}@property --tw-gradient-stops{syntax:"*";inherits:false}@property --tw-gradient-via-stops{syntax:"*";inherits:false}@property --tw-gradient-from-position{syntax:"<length-percentage>";inherits:false;initial-value:0%}@property --tw-gradient-via-position{syntax:"<length-percentage>";inherits:false;initial-value:50%}@property --tw-gradient-to-position{syntax:"<length-percentage>";inherits:false;initial-value:100%}@property --tw-leading{syntax:"*";inherits:false}@property --tw-font-weight{syntax:"*";inherits:false}@property --tw-tracking{syntax:"*";inherits:false}@property --tw-ordinal{syntax:"*";inherits:false}@property --tw-slashed-zero{syntax:"*";inherits:false}@property --tw-numeric-figure{syntax:"*";inherits:false}@property --tw-numeric-spacing{syntax:"*";inherits:false}@property --tw-numeric-fraction{syntax:"*";inherits:false}@property --tw-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:"*";inherits:false}@property --tw-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:"*";inherits:false}@property --tw-inset-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:"*";inherits:false}@property --tw-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:"*";inherits:false}@property --tw-inset-ring-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:"*";inherits:false}@property --tw-ring-offset-width{syntax:"<length>";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:"*";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:"*";inherits:false;initial-value:0 0 #0000}@property --tw-outline-style{syntax:"*";inherits:false;initial-value:solid}@property --tw-blur{syntax:"*";inherits:false}@property --tw-brightness{syntax:"*";inherits:false}@property --tw-contrast{syntax:"*";inherits:false}@property --tw-grayscale{syntax:"*";inherits:false}@property --tw-hue-rotate{syntax:"*";inherits:false}@property --tw-invert{syntax:"*";inherits:false}@property --tw-opacity{syntax:"*";inherits:false}@property --tw-saturate{syntax:"*";inherits:false}@property --tw-sepia{syntax:"*";inherits:false}@property --tw-drop-shadow{syntax:"*";inherits:false}@property --tw-drop-shadow-color{syntax:"*";inherits:false}@property --tw-drop-shadow-alpha{syntax:"<percentage>";inherits:false;initial-value:100%}@property --tw-drop-shadow-size{syntax:"*";inherits:false}@property --tw-backdrop-blur{syntax:"*";inherits:false}@property --tw-backdrop-brightness{syntax:"*";inherits:false}@property --tw-backdrop-contrast{syntax:"*";inherits:false}@property --tw-backdrop-grayscale{syntax:"*";inherits:false}@property --tw-backdrop-hue-rotate{syntax:"*";inherits:false}@property --tw-backdrop-invert{syntax:"*";inherits:false}@property --tw-backdrop-opacity{syntax:"*";inherits:false}@property --tw-backdrop-saturate{syntax:"*";inherits:false}@property --tw-backdrop-sepia{syntax:"*";inherits:false}@property --tw-duration{syntax:"*";inherits:false}@property --tw-ease{syntax:"*";inherits:false}@keyframes spin{to{transform:rotate(360deg)}}@keyframes ping{75%,to{opacity:0;transform:scale(2)}}@keyframes pulse{50%{opacity:.5}}@keyframes bounce{0%,to{animation-timing-function:cubic-bezier(.8,0,1,1);transform:translateY(-25%)}50%{animation-timing-function:cubic-bezier(0,0,.2,1);transform:none}}\n',""]);const l=i},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(i[s]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);n&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},601:e=>{e.exports=function(e){return e[1]}},338:(e,t,r)=>{var n=r(795);t.H=n.createRoot,n.hydrateRoot},20:(e,t,r)=>{var n=r(609),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,a={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,n)&&!s.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:o,type:e,key:c,ref:u,props:a,_owner:l.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},848:(e,t,r)=>{e.exports=r(20)},72:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var a={},i=[],l=0;l<e.length;l++){var s=e[l],c=n.base?s[0]+n.base:s[0],u=a[c]||0,d="".concat(c," ").concat(u);a[c]=u+1;var p=r(d),f={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=o(f,n);n.byIndex=l,t.splice(l,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function o(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var a=n(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var l=r(a[i]);t[l].references--}for(var s=n(e,o),c=0;c<a.length;c++){var u=r(a[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=s}}},659:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},609:e=>{e.exports=window.React},795:e=>{e.exports=window.ReactDOM}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nc=void 0;var n,o=r(338),a=r(609),i=r(795);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(n||(n={}));const s="popstate";function c(e,t){if(!1===e||null==e)throw new Error(t)}function u(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,r,n){return void 0===r&&(r=null),l({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?h(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function h(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}var m;function v(e,t,r){return void 0===r&&(r="/"),function(e,t,r,n){let o=L(("string"==typeof t?h(t):t).pathname||"/",r);if(null==o)return null;let a=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let i=null;for(let e=0;null==i&&e<a.length;++e){let t=C(o);i=N(a[e],t,n)}return i}(e,t,r,!1)}function g(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let o=(e,o,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};i.relativePath.startsWith("/")&&(c(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(n.length));let l=R([n,i.relativePath]),s=r.concat(i);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),g(e.children,t,s,l)),(null!=e.path||e.index)&&t.push({path:l,score:O(l,e.index),routesMeta:s})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let r of y(e.path))o(e,t,r);else o(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,o=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===n.length)return o?[a,""]:[a];let i=y(n.join("/")),l=[];return l.push(...i.map((e=>""===e?a:[a,e].join("/")))),o&&l.push(...i),l.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const b=/^:[\w-]+$/,x=3,w=2,j=1,k=10,_=-2,S=e=>"*"===e;function O(e,t){let r=e.split("/"),n=r.length;return r.some(S)&&(n+=_),t&&(n+=w),r.filter((e=>!S(e))).reduce(((e,t)=>e+(b.test(t)?x:""===t?j:k)),n)}function N(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,o={},a="/",i=[];for(let e=0;e<n.length;++e){let l=n[e],s=e===n.length-1,c="/"===a?t:t.slice(a.length)||"/",u=E({path:l.relativePath,caseSensitive:l.caseSensitive,end:s},c),d=l.route;if(!u&&s&&r&&!n[n.length-1].route.index&&(u=E({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!u)return null;Object.assign(o,u.params),i.push({params:o,pathname:R([a,u.pathname]),pathnameBase:M(R([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=R([a,u.pathnameBase]))}return i}function E(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!0),u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(n.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}(e.path,e.caseSensitive,e.end),o=t.match(r);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:n.reduce(((e,t,r)=>{let{paramName:n,isOptional:o}=t;if("*"===n){let e=l[r]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const s=l[r];return e[n]=o&&!s?void 0:(s||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:i,pattern:e}}function C(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}const P=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function A(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}function T(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e,t){let r=function(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}(e);return t?r.map(((e,t)=>t===r.length-1?e.pathname:e.pathnameBase)):r.map((e=>e.pathnameBase))}function D(e,t,r,n){let o;void 0===n&&(n=!1),"string"==typeof e?o=h(e):(o=l({},e),c(!o.pathname||!o.pathname.includes("?"),T("?","pathname","search",o)),c(!o.pathname||!o.pathname.includes("#"),T("#","pathname","hash",o)),c(!o.search||!o.search.includes("#"),T("#","search","hash",o)));let a,i=""===e||""===o.pathname,s=i?"/":o.pathname;if(null==s)a=r;else{let e=t.length-1;if(!n&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}a=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let r,{pathname:n,search:o="",hash:a=""}="string"==typeof e?h(e):e;if(n)if(i=n,P.test(i))r=n;else{if(n.includes("//")){let e=n;n=n.replace(/\/\/+/g,"/"),u(!1,"Pathnames cannot have embedded double slashes - normalizing "+e+" -> "+n)}r=n.startsWith("/")?A(n.substring(1),"/"):A(n,t)}else r=t;var i;return{pathname:r,search:z(o),hash:F(a)}}(o,a),p=s&&"/"!==s&&s.endsWith("/"),f=(i||"."===s)&&r.endsWith("/");return d.pathname.endsWith("/")||!p&&!f||(d.pathname+="/"),d}const R=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const B=["post","put","patch","delete"],U=(new Set(B),["get",...B]);function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G.apply(this,arguments)}new Set(U),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const W=a.createContext(null),q=a.createContext(null),H=a.createContext(null),V=a.createContext(null),$=a.createContext({outlet:null,matches:[],isDataRoute:!1}),Y=a.createContext(null);function J(){return null!=a.useContext(V)}function K(){return J()||c(!1),a.useContext(V).location}function Z(e){a.useContext(H).static||a.useLayoutEffect(e)}function Q(){let{isDataRoute:e}=a.useContext($);return e?function(){let{router:e}=function(){let e=a.useContext(W);return e||c(!1),e}(ae.UseNavigateStable),t=le(ie.UseNavigateStable),r=a.useRef(!1);Z((()=>{r.current=!0}));let n=a.useCallback((function(n,o){void 0===o&&(o={}),r.current&&("number"==typeof n?e.navigate(n):e.navigate(n,G({fromRouteId:t},o)))}),[e,t]);return n}():function(){J()||c(!1);let e=a.useContext(W),{basename:t,future:r,navigator:n}=a.useContext(H),{matches:o}=a.useContext($),{pathname:i}=K(),l=JSON.stringify(I(o,r.v7_relativeSplatPath)),s=a.useRef(!1);Z((()=>{s.current=!0}));let u=a.useCallback((function(r,o){if(void 0===o&&(o={}),!s.current)return;if("number"==typeof r)return void n.go(r);let a=D(r,JSON.parse(l),i,"path"===o.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:R([t,a.pathname])),(o.replace?n.replace:n.push)(a,o.state,o)}),[t,n,l,i,e]);return u}()}function X(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=a.useContext(H),{matches:o}=a.useContext($),{pathname:i}=K(),l=JSON.stringify(I(o,n.v7_relativeSplatPath));return a.useMemo((()=>D(e,JSON.parse(l),i,"path"===r)),[e,l,i,r])}function ee(e,t,r,o){J()||c(!1);let{navigator:i}=a.useContext(H),{matches:l}=a.useContext($),s=l[l.length-1],u=s?s.params:{},d=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let p,f=K();if(t){var m;let e="string"==typeof t?h(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||c(!1),p=e}else p=f;let g=p.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(e,{pathname:y}),x=function(e,t,r,n){var o;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=n)&&i.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let l=e,s=null==(o=r)?void 0:o.errors;if(null!=s){let e=l.findIndex((e=>e.route.id&&void 0!==(null==s?void 0:s[e.route.id])));e>=0||c(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let e=0;e<l.length;e++){let t=l[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(d=e),t.route.id){let{loaderData:e,errors:n}=r,o=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||o){u=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight(((e,n,o)=>{let i,c=!1,p=null,f=null;var h;r&&(i=s&&n.route.id?s[n.route.id]:void 0,p=n.route.errorElement||re,u&&(d<0&&0===o?(se[h="route-fallback"]||(se[h]=!0),c=!0,f=null):d===o&&(c=!0,f=n.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,o+1)),v=()=>{let t;return t=i?p:c?f:n.route.Component?a.createElement(n.route.Component,null):n.route.element?n.route.element:e,a.createElement(oe,{match:n,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===o)?a.createElement(ne,{location:r.location,revalidation:r.revalidation,component:p,error:i,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()}),null)}(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:R([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:R([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,r,o);return t&&x?a.createElement(V.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:n.Pop}},x):x}function te(){let e=function(){var e;let t=a.useContext(Y),r=function(){let e=a.useContext(q);return e||c(!1),e}(ie.UseRouteError),n=le(ie.UseRouteError);return void 0!==t?t:null==(e=r.errors)?void 0:e[n]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:n},r):null,null)}const re=a.createElement(te,null);class ne extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement($.Provider,{value:this.props.routeContext},a.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:r,children:n}=e,o=a.useContext(W);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement($.Provider,{value:t},n)}var ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ae||{}),ie=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ie||{});function le(e){let t=function(){let e=a.useContext($);return e||c(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||c(!1),r.route.id}const se={};function ce(e){let{to:t,replace:r,state:n,relative:o}=e;J()||c(!1);let{future:i,static:l}=a.useContext(H),{matches:s}=a.useContext($),{pathname:u}=K(),d=Q(),p=D(t,I(s,i.v7_relativeSplatPath),u,"path"===o),f=JSON.stringify(p);return a.useEffect((()=>d(JSON.parse(f),{replace:r,state:n,relative:o})),[d,f,o,r,n]),null}function ue(e){c(!1)}function de(e){let{basename:t="/",children:r=null,location:o,navigationType:i=n.Pop,navigator:l,static:s=!1,future:u}=e;J()&&c(!1);let d=t.replace(/^\/*/,"/"),p=a.useMemo((()=>({basename:d,navigator:l,static:s,future:G({v7_relativeSplatPath:!1},u)})),[d,u,l,s]);"string"==typeof o&&(o=h(o));let{pathname:f="/",search:m="",hash:v="",state:g=null,key:y="default"}=o,b=a.useMemo((()=>{let e=L(f,d);return null==e?null:{location:{pathname:e,search:m,hash:v,state:g,key:y},navigationType:i}}),[d,f,m,v,g,y,i]);return null==b?null:a.createElement(H.Provider,{value:p},a.createElement(V.Provider,{children:r,value:b}))}function pe(e){let{children:t,location:r}=e;return ee(fe(t),r)}function fe(e,t){void 0===t&&(t=[]);let r=[];return a.Children.forEach(e,((e,n)=>{if(!a.isValidElement(e))return;let o=[...t,n];if(e.type===a.Fragment)return void r.push.apply(r,fe(e.props.children,o));e.type!==ue&&c(!1),e.props.index&&e.props.children&&c(!1);let i={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=fe(e.props.children,o)),r.push(i)})),r}function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},he.apply(this,arguments)}function me(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}a.startTransition,new Promise((()=>{})),a.Component,new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ve=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ge=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(e){}const ye=a.createContext({isTransitioning:!1});new Map;const be=a.startTransition;function xe(e){let{basename:t,children:r,future:o,window:i}=e,m=a.useRef();null==m.current&&(m.current=function(e){return void 0===e&&(e={}),function(e,t,r,o){void 0===o&&(o={});let{window:a=document.defaultView,v5Compat:i=!1}=o,u=a.history,h=n.Pop,m=null,v=g();function g(){return(u.state||{idx:null}).idx}function y(){h=n.Pop;let e=g(),t=null==e?null:e-v;v=e,m&&m({action:h,location:x.location,delta:t})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,r="string"==typeof e?e:f(e);return r=r.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==v&&(v=0,u.replaceState(l({},u.state,{idx:v}),""));let x={get action(){return h},get location(){return e(a,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(s,y),m=e,()=>{a.removeEventListener(s,y),m=null}},createHref:e=>t(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h=n.Push;let o=p(x.location,e,t);r&&r(o,e),v=g()+1;let l=d(o,v),s=x.createHref(o);try{u.pushState(l,"",s)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;a.location.assign(s)}i&&m&&m({action:h,location:x.location,delta:1})},replace:function(e,t){h=n.Replace;let o=p(x.location,e,t);r&&r(o,e),v=g();let a=d(o,v),l=x.createHref(o);u.replaceState(a,"",l),i&&m&&m({action:h,location:x.location,delta:0})},go:e=>u.go(e)};return x}((function(e,t){let{pathname:r="/",search:n="",hash:o=""}=h(e.location.hash.substr(1));return r.startsWith("/")||r.startsWith(".")||(r="/"+r),p("",{pathname:r,search:n,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let r=e.document.querySelector("base"),n="";if(r&&r.getAttribute("href")){let t=e.location.href,r=t.indexOf("#");n=-1===r?t:t.slice(0,r)}return n+"#"+("string"==typeof t?t:f(t))}),(function(e,t){u("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}({window:i,v5Compat:!0}));let v=m.current,[g,y]=a.useState({action:v.action,location:v.location}),{v7_startTransition:b}=o||{},x=a.useCallback((e=>{b&&be?be((()=>y(e))):y(e)}),[y,b]);return a.useLayoutEffect((()=>v.listen(x)),[v,x]),a.useEffect((()=>{return null==(e=o)||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),void(t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation));var e,t}),[o]),a.createElement(de,{basename:t,children:r,location:g.location,navigationType:g.action,navigator:v,future:o})}i.flushSync,a.useId;const we="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,je=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=a.forwardRef((function(e,t){let r,{onClick:n,relative:o,reloadDocument:i,replace:l,state:s,target:u,to:d,preventScrollReset:p,viewTransition:h}=e,m=me(e,ve),{basename:v}=a.useContext(H),g=!1;if("string"==typeof d&&je.test(d)&&(r=d,we))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=L(t.pathname,v);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:g=!0}catch(e){}let y=function(e,t){let{relative:r}=void 0===t?{}:t;J()||c(!1);let{basename:n,navigator:o}=a.useContext(H),{hash:i,pathname:l,search:s}=X(e,{relative:r}),u=l;return"/"!==n&&(u="/"===l?n:R([n,l])),o.createHref({pathname:u,search:s,hash:i})}(d,{relative:o}),b=function(e,t){let{target:r,replace:n,state:o,preventScrollReset:i,relative:l,viewTransition:s}=void 0===t?{}:t,c=Q(),u=K(),d=X(e,{relative:l});return a.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,r)){t.preventDefault();let r=void 0!==n?n:f(u)===f(d);c(e,{replace:r,state:o,preventScrollReset:i,relative:l,viewTransition:s})}}),[u,c,d,n,o,r,e,i,l,s])}(d,{replace:l,state:s,target:u,preventScrollReset:p,relative:o,viewTransition:h});return a.createElement("a",he({},m,{href:r||y,onClick:g||i?n:function(e){n&&n(e),e.defaultPrevented||b(e)},ref:t,target:u}))})),_e=a.forwardRef((function(e,t){let{"aria-current":r="page",caseSensitive:n=!1,className:o="",end:i=!1,style:l,to:s,viewTransition:u,children:d}=e,p=me(e,ge),f=X(s,{relative:p.relative}),h=K(),m=a.useContext(q),{navigator:v,basename:g}=a.useContext(H),y=null!=m&&function(e,t){void 0===t&&(t={});let r=a.useContext(ye);null==r&&c(!1);let{basename:n}=function(){let e=a.useContext(W);return e||c(!1),e}(Se.useViewTransitionState),o=X(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=L(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=L(r.nextLocation.pathname,n)||r.nextLocation.pathname;return null!=E(o.pathname,l)||null!=E(o.pathname,i)}(f)&&!0===u,b=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,x=h.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(x=x.toLowerCase(),w=w?w.toLowerCase():null,b=b.toLowerCase()),w&&g&&(w=L(w,g)||w);const j="/"!==b&&b.endsWith("/")?b.length-1:b.length;let k,_=x===b||!i&&x.startsWith(b)&&"/"===x.charAt(j),S=null!=w&&(w===b||!i&&w.startsWith(b)&&"/"===w.charAt(b.length)),O={isActive:_,isPending:S,isTransitioning:y},N=_?r:void 0;k="function"==typeof o?o(O):[o,_?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let C="function"==typeof l?l(O):l;return a.createElement(ke,he({},p,{"aria-current":N,className:k,ref:t,style:C,to:s,viewTransition:u}),"function"==typeof d?d(O):d)}));var Se,Oe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Se||(Se={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oe||(Oe={}));var Ne=r(848);function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}var Ce=["children","variant","size","disabled","loading","className","type"];function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){Ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ae(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ee(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ee(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Te={primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-indigo-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-indigo-500"},Ie={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function De(e){var t=e.children,r=e.variant,n=void 0===r?"primary":r,o=e.size,a=void 0===o?"md":o,i=e.disabled,l=void 0!==i&&i,s=e.loading,c=void 0!==s&&s,u=e.className,d=void 0===u?"":u,p=e.type,f=void 0===p?"button":p,h=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ce);return(0,Ne.jsx)("button",Pe(Pe({type:f,className:"\n\t\t\t\tinline-flex items-center justify-center gap-2 font-medium rounded-lg\n\t\t\t\tfocus:outline-none focus:ring-2 focus:ring-offset-2\n\t\t\t\tdisabled:opacity-50 disabled:cursor-not-allowed\n\t\t\t\ttransition-colors\n\t\t\t\t".concat(Te[n],"\n\t\t\t\t").concat(Ie[a],"\n\t\t\t\t").concat(d,"\n\t\t\t"),disabled:l||c},h),{},{children:c?(0,Ne.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,Ne.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ne.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):t}))}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Me(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Me(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ze(e){var t=e.content,r=e.className,n=void 0===r?"":r,o=Re((0,a.useState)(!1),2),i=o[0],l=o[1],s=Re((0,a.useState)(!1),2),c=s[0],u=s[1],d=Re((0,a.useState)({top:0,left:0,placement:"bottom"}),2),p=d[0],f=d[1],h=(0,a.useRef)(null),m=(0,a.useRef)(null);return(0,a.useEffect)((function(){var e=function(e){h.current&&!h.current.contains(e.target)&&(u(!1),l(!1))};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[]),(0,a.useEffect)((function(){if(i){var e=function(){var e,t=null===(e=h.current)||void 0===e?void 0:e.querySelector("button"),r=m.current;if(t&&r){var n=t.getBoundingClientRect(),o=r.getBoundingClientRect(),a="bottom",i=n.bottom+8;i+o.height>window.innerHeight-8&&(i=n.top-8-o.height,a="top");var l=n.left+n.width/2-o.width/2,s=window.innerWidth-8-o.width;l=Math.min(Math.max(l,8),Math.max(8,s)),f({top:i,left:l,placement:a})}},t=requestAnimationFrame(e);return window.addEventListener("resize",e),window.addEventListener("scroll",e,!0),function(){cancelAnimationFrame(t),window.removeEventListener("resize",e),window.removeEventListener("scroll",e,!0)}}}),[i,t]),t?(0,Ne.jsxs)("span",{ref:h,className:"relative inline-flex items-center ".concat(n),onMouseEnter:function(){return l(!0)},onMouseLeave:function(){c||l(!1)},children:[(0,Ne.jsx)("button",{type:"button",onClick:function(){u((function(e){var t=!e;return l(t),t}))},onFocus:function(){return l(!0)},onBlur:function(){return!c&&l(!1)},className:"ml-1 inline-flex h-3 w-3 items-center justify-center rounded-full border border-gray-300 text-[8px]! font-semibold text-gray-600 hover:border-gray-400 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500","aria-label":"More info",children:"?"}),i&&(0,Ne.jsx)("div",{ref:m,className:"fixed z-9999 w-64 max-w-[80vw] rounded-lg border border-gray-200 bg-white p-3 text-xs text-gray-700 shadow-lg font-normal",style:{top:p.top,left:p.left},role:"tooltip","data-placement":p.placement,children:(0,Ne.jsx)("div",{className:"leading-relaxed",dangerouslySetInnerHTML:{__html:t}})})]}):null}function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}var Be=["label","tooltip","error","className","variant"],Ue=["id","placeholder"],Ge=["label","tooltip","error","className","rows","variant"],We=["id","placeholder"];function qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ve(e,t,r){return(t=function(e){var t=function(e){if("object"!=Fe(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $e(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ye(e){var t=e.label,r=e.tooltip,n=e.error,o=e.className,a=void 0===o?"":o,i=e.variant,l=void 0===i?"default":i,s=$e(e,Be),c=Boolean(s.required);if("floating"===l){var u=s.id,d=s.placeholder,p=$e(s,Ue),f=["poststation-field","peer","appearance-none px-2.5 pb-2.5 pt-4 pr-8",n?"poststation-field-error":""].filter(Boolean).join(" ");return(0,Ne.jsxs)("div",{className:"relative ".concat(a),children:[(0,Ne.jsx)("input",He({id:u,placeholder:d||" ",className:f},p)),t&&(0,Ne.jsx)("label",{htmlFor:u,className:["pointer-events-none","absolute text-xs text-gray-500 duration-300 transform -translate-y-4 scale-75","top-2 z-10 origin-left bg-white px-1","peer-focus:px-1 peer-focus:text-indigo-600 peer-focus:opacity-100","peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4",d?"peer-placeholder-shown:opacity-0":"peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2","start-2"].join(" "),children:(0,Ne.jsx)("span",{className:"inline-flex items-center gap-1",children:(0,Ne.jsxs)("span",{children:[t,c&&(0,Ne.jsx)("span",{className:"text-red-600 ml-0.5",children:"*"})]})})}),n&&(0,Ne.jsx)("p",{className:"mt-1 text-xs text-red-600",children:n})]})}var h="poststation-field ".concat(n?"poststation-field-error":"");return(0,Ne.jsxs)("div",{className:a,children:[t&&(0,Ne.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:[(0,Ne.jsxs)("span",{children:[t,c&&(0,Ne.jsx)("span",{className:"text-red-600 ml-0.5",children:"*"})]}),r&&(0,Ne.jsx)(ze,{content:r})]}),(0,Ne.jsx)("input",He({className:h},s)),n&&(0,Ne.jsx)("p",{className:"mt-1 text-sm text-red-600",children:n})]})}function Je(e){var t=e.label,r=e.tooltip,n=e.error,o=e.className,a=void 0===o?"":o,i=e.rows,l=void 0===i?2:i,s=e.variant,c=void 0===s?"default":s,u=$e(e,Ge),d=Boolean(u.required);if("floating"===c){var p=u.id,f=u.placeholder,h=$e(u,We),m=["poststation-field","peer","appearance-none px-2.5 pb-2.5 pt-4 pr-8",n?"poststation-field-error":""].filter(Boolean).join(" ");return(0,Ne.jsxs)("div",{className:"relative ".concat(a),children:[(0,Ne.jsx)("textarea",He({id:p,rows:l,placeholder:f||" ",className:m},h)),t&&(0,Ne.jsx)("label",{htmlFor:p,className:["pointer-events-none","absolute text-xs text-gray-500 duration-300 transform -translate-y-4 scale-75","top-2 z-10 origin-left bg-white px-1","peer-focus:px-1 peer-focus:text-indigo-600 peer-focus:opacity-100","peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4",f?"peer-placeholder-shown:opacity-0":"peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2","start-2"].join(" "),children:(0,Ne.jsx)("span",{className:"inline-flex items-center gap-1",children:(0,Ne.jsxs)("span",{children:[t,d&&(0,Ne.jsx)("span",{className:"text-red-600 ml-0.5",children:"*"})]})})}),n&&(0,Ne.jsx)("p",{className:"mt-1 text-xs text-red-600",children:n})]})}var v="poststation-field ".concat(n?"poststation-field-error":"");return(0,Ne.jsxs)("div",{className:a,children:[t&&(0,Ne.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:[(0,Ne.jsxs)("span",{children:[t,d&&(0,Ne.jsx)("span",{className:"text-red-600 ml-0.5",children:"*"})]}),r&&(0,Ne.jsx)(ze,{content:r})]}),(0,Ne.jsx)("textarea",He({rows:l,className:v},u)),n&&(0,Ne.jsx)("p",{className:"mt-1 text-sm text-red-600",children:n})]})}function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}var Ze=["label","tooltip","options","error","className","placeholder","variant"],Qe=["id"];function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){rt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rt(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ke(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ke(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ot(e){var t=e.label,r=e.tooltip,n=e.options,o=void 0===n?[]:n,a=e.error,i=e.className,l=void 0===i?"":i,s=e.placeholder,c=void 0===s?"Select...":s,u=e.variant,d=void 0===u?"default":u,p=nt(e,Ze),f=Boolean(p.required),h="poststation-field ".concat(a?"poststation-field-error":"");if("floating"===d){var m=p.id,v=nt(p,Qe),g=["poststation-field","peer","appearance-none px-2.5 pb-2.5 pt-4 pr-8",a?"poststation-field-error":""].filter(Boolean).join(" ");return(0,Ne.jsxs)("div",{className:"relative ".concat(l),children:[(0,Ne.jsx)("select",tt(tt({id:m,className:g},v),{},{children:o.map((function(e){return(0,Ne.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},e.value)}))})),t&&(0,Ne.jsx)("label",{htmlFor:m,className:["pointer-events-none","absolute text-xs text-gray-500 duration-300 transform -translate-y-4 scale-75","top-2 z-10 origin-left bg-white px-1","peer-focus:px-1 peer-focus:text-indigo-600","peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2","peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4","start-2"].join(" "),children:(0,Ne.jsx)("span",{className:"inline-flex items-center gap-1",children:(0,Ne.jsxs)("span",{children:[t,f&&(0,Ne.jsx)("span",{className:"text-red-600 ml-0.5",children:"*"})]})})}),a&&(0,Ne.jsx)("p",{className:"mt-1 text-xs text-red-600",children:a})]})}return(0,Ne.jsxs)("div",{className:l,children:[t&&(0,Ne.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:[(0,Ne.jsxs)("span",{children:[t,f&&(0,Ne.jsx)("span",{className:"text-red-600 ml-0.5",children:"*"})]}),r&&(0,Ne.jsx)(ze,{content:r})]}),(0,Ne.jsxs)("select",tt(tt({className:h},p),{},{children:[c&&(0,Ne.jsx)("option",{value:"",children:c}),o.map((function(e){return(0,Ne.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},e.value)}))]})),a&&(0,Ne.jsx)("p",{className:"mt-1 text-sm text-red-600",children:a})]})}function at(e){var t=e.label,r=e.tooltip,n=e.options,o=void 0===n?[]:n,a=e.value,i=void 0===a?[]:a,l=e.onChange,s=e.error,c=e.className,u=void 0===c?"":c,d=e.placeholder,p=void 0===d?"Select...":d,f=e.required,h=void 0!==f&&f,m="poststation-field ".concat(s?"poststation-field-error":""),v=o.filter((function(e){return!i.includes(e.value)})),g=o.filter((function(e){return i.includes(e.value)}));return(0,Ne.jsxs)("div",{className:u,children:[t&&(0,Ne.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:[(0,Ne.jsxs)("span",{children:[t,h&&(0,Ne.jsx)("span",{className:"text-red-600 ml-0.5",children:"*"})]}),r&&(0,Ne.jsx)(ze,{content:r})]}),g.length>0&&(0,Ne.jsx)("div",{className:"flex flex-wrap gap-1 mb-2",children:g.map((function(e){return(0,Ne.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-indigo-100 text-indigo-700 text-sm",children:[e.label,(0,Ne.jsx)("button",{type:"button",onClick:function(){return t=e.value,void l(i.filter((function(e){return e!==t})));var t},className:"hover:text-indigo-900",children:(0,Ne.jsx)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},e.value)}))}),(0,Ne.jsxs)("select",{className:m,onChange:function(e){var t,r=e.target.value;r&&!i.includes(r)&&l([].concat(function(e){if(Array.isArray(e))return Xe(e)}(t=i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Xe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xe(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[r])),e.target.value=""},value:"",children:[(0,Ne.jsx)("option",{value:"",children:p}),v.map((function(e){return(0,Ne.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},e.value)}))]}),s&&(0,Ne.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s})]})}function it(e){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function st(e,t,r){return(t=function(e){var t=function(e){if("object"!=it(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==it(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ut(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ut(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function dt(e){var t=e.label,r=e.tooltip,n=e.labelAction,o=e.options,l=void 0===o?[]:o,s=e.value,c=e.onChange,u=e.placeholder,d=void 0===u?"Select...":u,p=e.className,f=void 0===p?"":p,h=e.error,m=ct((0,a.useState)(!1),2),v=m[0],g=m[1],y=ct((0,a.useState)({}),2),b=y[0],x=y[1],w=(0,a.useRef)(null),j=(0,a.useRef)(null),k=function(){if(!j.current)return{};var e=j.current.getBoundingClientRect(),t=window.innerHeight-e.bottom,r=e.top,n=t<240&&r>t;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(r),!0).forEach((function(t){st(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({position:"fixed",left:e.left,width:e.width,zIndex:9999},n?{bottom:window.innerHeight-e.top+4,top:"auto"}:{top:e.bottom+4,bottom:"auto"})};(0,a.useEffect)((function(){v&&x(k())}),[v]),(0,a.useEffect)((function(){var e=function(e){var t;!w.current||w.current.contains(e.target)||null!==(t=document.getElementById("rich-select-portal"))&&void 0!==t&&t.contains(e.target)||g(!1)};return v&&document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[v]),(0,a.useEffect)((function(){if(v){var e=function(){return x(k())};return window.addEventListener("scroll",e,!0),window.addEventListener("resize",e),function(){window.removeEventListener("scroll",e,!0),window.removeEventListener("resize",e)}}}),[v]);var _=null!=s&&""!==s?l.find((function(e){return String(e.value)===String(s)})):null,S=_?_.label:d,O=v?(0,i.createPortal)((0,Ne.jsxs)("ul",{id:"rich-select-portal",style:b,className:"max-h-60 overflow-auto rounded-lg border border-gray-200 bg-white py-2 shadow-lg",role:"listbox",children:[(0,Ne.jsx)("li",{role:"option","aria-selected":null==s||""===s,onClick:function(){c(null),g(!1)},className:"cursor-pointer pl-4 pr-4 py-2.5 text-sm text-gray-600 hover:bg-gray-50 border-b border-gray-100",children:d}),l.map((function(e){var t=String(e.value)===String(s);return(0,Ne.jsxs)("li",{role:"option","aria-selected":t,onClick:function(){c(e.value),g(!1)},className:"cursor-pointer pl-4 pr-4 py-2.5 hover:bg-gray-50 flex items-start gap-3 ".concat(t?"bg-indigo-50 hover:bg-indigo-100":""),children:[e.icon&&(0,Ne.jsx)("span",{className:"flex items-center justify-center w-6 h-6 shrink-0 rounded bg-gray-100 text-gray-600 mt-0.5",children:e.icon}),(0,Ne.jsxs)("div",{className:"min-w-0 flex-1 pt-0.5",children:[(0,Ne.jsx)("div",{className:"font-medium text-gray-900",children:e.label}),e.description&&(0,Ne.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.description})]})]},e.value)}))]}),document.body):null;return(0,Ne.jsxs)("div",{className:"w-full ".concat(f).trim(),ref:w,children:[(t||n)&&(0,Ne.jsxs)("div",{className:"flex items-end justify-between gap-2 mb-1",children:[t&&(0,Ne.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:[(0,Ne.jsx)("span",{children:t}),r&&(0,Ne.jsx)(ze,{content:r})]}),n&&(0,Ne.jsx)("span",{className:"shrink-0",children:n})]}),(0,Ne.jsx)("div",{className:"relative w-full",children:(0,Ne.jsxs)("button",{ref:j,type:"button",onClick:function(){return g((function(e){return!e}))},className:"\n\t\t\t\t\t\tw-full min-h-[38px] flex items-center gap-3 rounded-lg border bg-white\n\t\t\t\t\t\tpl-4 pr-4 py-2.5 text-left text-sm\n\t\t\t\t\t\t".concat(h?"poststation-field-error border-red-300":"border-gray-300","\n\t\t\t\t\t\thover:border-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:outline-none\n\t\t\t\t\t"),"aria-haspopup":"listbox","aria-expanded":v,children:[(0,Ne.jsxs)("span",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(null==_?void 0:_.icon)&&(0,Ne.jsx)("span",{className:"flex items-center justify-center w-5 h-5 shrink-0 text-gray-500",children:_.icon}),(0,Ne.jsx)("span",{className:_?"text-gray-900 truncate":"text-gray-500",children:S})]}),(0,Ne.jsx)("span",{className:"shrink-0 flex items-center justify-center w-5 h-5 ml-2","aria-hidden":!0,children:(0,Ne.jsx)("svg",{className:"w-4 h-4 text-gray-400 transition-transform ".concat(v?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),h&&(0,Ne.jsx)("p",{className:"mt-1 text-sm text-red-600",children:h}),O]})}function pt(){pt=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),l=new L(n||[]);return o(i,"_invoke",{value:O(e,r,l)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var x={};c(x,i,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==r&&n.call(j,i)&&(x=j);var k=b.prototype=g.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,i,l){var s=d(e[o],e,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==ft(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,l)}))}l(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function O(t,r,n){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var s=N(l,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?m:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function N(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,N(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(ft(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},_(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(k),c(k,s,"Generator"),c(k,i,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function mt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(r),!0).forEach((function(t){gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function gt(e,t,r){return(t=function(e){var t=function(e){if("object"!=ft(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ft(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yt(e,t,r,n,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function bt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){yt(a,n,o,i,l,"next",e)}function l(e){yt(a,n,o,i,l,"throw",e)}i(void 0)}))}}var xt=function(){return window.poststation||{}},wt=function(){return xt().bootstrap||{}},jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.poststation||(window.poststation={}),window.poststation.bootstrap=e,["post_types","taxonomies","languages","countries","users","current_user_id","settings","webhooks","campaigns","instructions","openrouter_models"].forEach((function(t){void 0!==e[t]&&(window.poststation[t]=e[t])}))};function kt(_x){return _t.apply(this,arguments)}function _t(){return _t=bt(pt().mark((function e(t){var r,n,o,a,i,l,s=arguments;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},n=xt(),(o=new FormData).append("action",t),o.append("nonce",n.nonce),Object.entries(r).forEach((function(e){var t,r,n=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return ht(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ht(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=n[0],i=n[1];null!=i&&("object"!==ft(i)||i instanceof File?o.append(a,i):o.append(a,JSON.stringify(i)))})),e.next=8,fetch(n.ajax_url,{method:"POST",body:o,credentials:"same-origin"});case 8:return a=e.sent,e.next=11,a.json();case 11:if((i=e.sent).success){e.next=14;break}throw new Error((null===(l=i.data)||void 0===l?void 0:l.message)||"Request failed");case 14:return e.abrupt("return",i.data);case 15:case"end":return e.stop()}}),e)}))),_t.apply(this,arguments)}function St(){return St=bt(pt().mark((function e(t){var r,n,o,a=arguments;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n="".concat((i=void 0,l=void 0,i=xt().rest_url||"",l=i?i.replace(/wp-json\/?$/,""):"/",l.endsWith("/")?l:"".concat(l,"/")),"ps-api/").concat(t),e.next=4,fetch(n,vt(vt({},r),{},{headers:vt({"Content-Type":"application/json"},r.headers),credentials:"same-origin"}));case 4:if((o=e.sent).ok){e.next=7;break}throw new Error("HTTP ".concat(o.status));case 7:return e.abrupt("return",o.json());case 8:case"end":return e.stop()}var i,l}),e)}))),St.apply(this,arguments)}function Ot(){return Nt.apply(this,arguments)}function Nt(){return(Nt=bt(pt().mark((function e(){var t,r;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt("poststation_get_bootstrap");case 2:return t=e.sent,r=t.bootstrap||t,jt(r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Et=function(){return kt("poststation_create_campaign",{title:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"New Campaign"})},Ct=function(e,t){return kt("poststation_update_campaign",vt({id:e},t))},Lt=function(e,t){return kt("poststation_update_campaign_status",{id:e,status:t})},Pt=function(e){return kt("poststation_delete_campaign",{id:e})},At=function(e,t){return kt("poststation_rss_add_to_tasks",{id:e,items:t})},Tt=function(e){return kt("poststation_export_campaign",{id:e})},It=function(e){var t=new FormData;return t.append("action","poststation_import_campaign"),t.append("nonce",xt().nonce),t.append("file",e),fetch(xt().ajax_url,{method:"POST",body:t,credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){var t;if(!e.success)throw new Error((null===(t=e.data)||void 0===t?void 0:t.message)||"Import failed");return e.data}))};function Dt(){var e=Date.now()%1e7*10+Math.floor(10*Math.random());return e>0?e:1}var Rt=function(e){return kt("poststation_delete_posttask",{id:e})},Mt=function(){return kt("poststation_get_webhooks")},zt=function(e){return kt("poststation_save_webhook",e)},Ft=function(e){return kt("poststation_delete_webhook",{id:e})},Bt=function(e,t){var r,n;return kt("poststation_update_instruction",{id:e,description:null!==(r=t.description)&&void 0!==r?r:"",instructions:JSON.stringify(null!==(n=t.instructions)&&void 0!==n?n:{title:"",body:""})})},Ut=function(){return kt("poststation_regenerate_api_key")},Gt=function(e){return kt("poststation_save_openrouter_api_key",{api_key:e})},Wt=function(e,t){return kt("poststation_save_openrouter_defaults",{default_text_model:e,default_image_model:t})},qt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=new URLSearchParams({campaign_id:e,status:"all"});return null!=t&&t>=0&&r.set("last_task_count",String(t)),function(e){return St.apply(this,arguments)}("posttasks?".concat(r.toString()))},Ht=function(e){var t;return null!==(t=wt()[e])&&void 0!==t?t:xt()[e]},Vt=function(){return Ht("post_types")||{}},$t=function(){return Ht("taxonomies")||{}},Yt=function(){return wt().settings||null},Jt=function(){return wt().webhooks||null},Kt=function(){return wt().instructions||[]},Zt=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).forceRefresh;return kt("poststation_get_openrouter_models",{force_refresh:void 0!==e&&e?"1":"0"})},Qt=function(e){var t=e.prompt,r=e.provider,n=void 0===r?"openrouter":r,o=e.model;return kt("poststation_generate_instruction_preset",{prompt:t,provider:n,model:void 0===o?"":o})};function Xt(e){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(e)}function er(){er=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),l=new L(n||[]);return o(i,"_invoke",{value:O(e,r,l)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var x={};c(x,i,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==r&&n.call(j,i)&&(x=j);var k=b.prototype=g.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,i,l){var s=d(e[o],e,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Xt(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,l)}))}l(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function O(t,r,n){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var s=N(l,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?m:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function N(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,N(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Xt(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},_(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(k),c(k,s,"Generator"),c(k,i,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function tr(e,t,r,n,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function rr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||nr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(e,t){if(e){if("string"==typeof e)return or(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?or(e,t):void 0}}function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ar=["anthropic/claude-sonnet-4.5","openai/gpt-5.2","x-ai/grok-4.1-fast","moonshotai/kimi-k2.5","google/gemini-3-flash-preview","minimax/minimax-m2.1","deepseek/deepseek-v3.2","google/gemini-3-pro-preview"],ir=[].concat(ar,["anthropic/claude-opus-4.5","openai/gpt-5","google/gemini-2.5-pro","meta-llama/llama-4-maverick","deepseek/deepseek-chat-v3.1","openai/gpt-image-1","google/imagen-4","black-forest-labs/flux-1.1-pro","black-forest-labs/flux-1-schnell"]);function lr(e){var t=e.label,r=void 0===t?"Model":t,n=e.tooltip,o=void 0===n?"Choose OpenRouter model used for generation.":n,i=e.value,l=void 0===i?"":i,s=e.onChange,c=e.filter,u=void 0===c?"all":c,d=e.placeholder,p=void 0===d?"Select OpenRouter model...":d,f=e.className,h=void 0===f?"":f,m=e.disabled,v=void 0!==m&&m,g=e.required,y=void 0!==g&&g,b=rr((0,a.useState)((function(){return wt().openrouter_models||[]})),2),x=b[0],w=b[1],j=rr((0,a.useState)(!1),2),k=j[0],_=j[1],S=rr((0,a.useState)(""),2),O=S[0],N=S[1],E=function(){var e,t=(e=er().mark((function e(){var t,r,n=arguments;return er().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],_(!0),N(""),e.prev=3,e.next=6,Zt({forceRefresh:t});case 6:r=e.sent,w(Array.isArray(r.models)?r.models:[]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),N((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Failed to fetch OpenRouter models.");case 13:return e.prev=13,_(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){tr(a,n,o,i,l,"next",e)}function l(e){tr(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();(0,a.useEffect)((function(){Array.isArray(x)&&x.length>0||E(!1)}),[]);var C=(0,a.useMemo)((function(){var e=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=new Map(ir.map((function(e,t){return[e,t]})));return(e=t,function(e){if(Array.isArray(e))return or(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort((function(e,t){var n=r.has(e.id)?r.get(e.id):Number.POSITIVE_INFINITY,o=r.has(t.id)?r.get(t.id):Number.POSITIVE_INFINITY;return n!==o?n-o:(e.name||e.id||"").localeCompare(t.name||t.id||"")}))}(x);return"text"===u?e.filter((function(e){return Boolean(e.supportsText)&&!Boolean(e.supportsImage)&&!Boolean(e.supportsAudio)})):"image"===u?e.filter((function(e){return Boolean(e.supportsImage)})):e}),[x,u]),L=(0,a.useMemo)((function(){var e=new Map(C.map((function(e){return[e.id,e]}))),t=ar.map((function(t){return e.get(t)})).filter(Boolean).map((function(e){return{value:e.id,label:"".concat(e.name," (").concat(e.id,")")}})),r=new Set(t.map((function(e){return e.value})));return{popularOptions:t,otherOptions:C.filter((function(e){return!r.has(e.id)})).map((function(e){return{value:e.id,label:"".concat(e.name," (").concat(e.id,")")}}))}}),[C]),P=L.popularOptions,A=L.otherOptions;return(0,Ne.jsxs)("div",{className:h,children:[(0,Ne.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Ne.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700",children:[(0,Ne.jsxs)("span",{children:[r,y&&(0,Ne.jsx)("span",{className:"text-red-600 ml-0.5",children:"*"})]}),o&&(0,Ne.jsx)(ze,{content:o})]}),(0,Ne.jsx)("button",{type:"button",onClick:function(){return E(!0)},className:"poststation-icon-btn",disabled:v||k,title:"Refresh model list","aria-label":"Refresh model list",children:(0,Ne.jsx)("svg",{className:"w-4 h-4 ".concat(k?"animate-spin":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),(0,Ne.jsxs)("select",{className:"poststation-field ".concat(O?"poststation-field-error":""),value:l||"",onChange:s,disabled:v||k,children:[(0,Ne.jsx)("option",{value:"",children:k?"Loading models...":p}),P.length>0&&(0,Ne.jsx)("optgroup",{label:"Popular Models",children:P.map((function(e){return(0,Ne.jsx)("option",{value:e.value,children:e.label},e.value)}))}),A.length>0&&(0,Ne.jsx)("optgroup",{label:"All Models",children:A.map((function(e){return(0,Ne.jsx)("option",{value:e.value,children:e.label},e.value)}))}),!k&&0===P.length&&0===A.length&&(0,Ne.jsx)("option",{value:"",disabled:!0,children:"No models available for this filter"})]}),O&&(0,Ne.jsx)("p",{className:"mt-1 text-sm text-red-600",children:O})]})}function sr(e){var t=e.isOpen,r=e.onClose,n=e.title,o=e.children,i=e.size,l=void 0===i?"md":i,s=(0,a.useRef)(null);return(0,a.useEffect)((function(){var e=function(e){"Escape"===e.key&&r()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),function(){document.removeEventListener("keydown",e),document.body.style.overflow=""}}),[t,r]),t?(0,Ne.jsx)("div",{ref:s,className:"fixed inset-0 z-[999999] overflow-y-auto",onClick:function(e){return e.target===s.current&&r()},children:(0,Ne.jsxs)("div",{className:"min-h-screen px-4 flex items-center justify-center",children:[(0,Ne.jsx)("div",{className:"fixed inset-0 bg-black/50 transition-opacity"}),(0,Ne.jsxs)("div",{className:"relative bg-white rounded-xl shadow-xl w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[l]," transform transition-all"),children:[(0,Ne.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[(0,Ne.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:n}),(0,Ne.jsx)("button",{onClick:r,className:"p-1 rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors",children:(0,Ne.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Ne.jsx)("div",{className:"px-6 py-4",children:o})]})]})}):null}function cr(e){var t=e.isOpen,r=e.onClose,n=e.onConfirm,o=e.title,a=void 0===o?"Confirm":o,i=e.message,l=e.confirmText,s=void 0===l?"Confirm":l,c=e.cancelText,u=void 0===c?"Cancel":c,d=e.variant,p=void 0===d?"danger":d,f=e.loading,h=void 0!==f&&f;return(0,Ne.jsxs)(sr,{isOpen:t,onClose:r,title:a,size:"sm",children:[(0,Ne.jsx)("p",{className:"text-gray-600 mb-6",children:i}),(0,Ne.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Ne.jsx)(De,{variant:"secondary",onClick:r,disabled:h,children:u}),(0,Ne.jsx)(De,{variant:p,onClick:n,loading:h,children:s})]})]})}function ur(e,t){if(e){if("string"==typeof e)return dr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dr(e,t):void 0}}function dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var pr=(0,a.createContext)(null),fr={success:"bg-emerald-50 border-emerald-200 text-emerald-800",error:"bg-red-50 border-red-200 text-red-800",info:"bg-indigo-50 border-indigo-200 text-indigo-800"};function hr(e){var t,r,n=e.children,o=(t=(0,a.useState)([]),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(t,r)||ur(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],l=o[1],s=(0,a.useCallback)((function(e){l((function(t){return t.filter((function(t){return t.id!==e}))}))}),[]),c=(0,a.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=Date.now()+Math.random();l((function(n){return[].concat(function(e){return function(e){if(Array.isArray(e))return dr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ur(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n),[{id:r,message:e,type:t}])})),setTimeout((function(){s(r)}),4e3)}),[s]),u={showToast:c,hideToast:s};return(0,Ne.jsxs)(pr.Provider,{value:u,children:[n,(0,Ne.jsx)(vr,{toasts:i,onDismiss:s})]})}function mr(){var e=(0,a.useContext)(pr);if(!e)throw new Error("useToast must be used within ToastProvider");return e}function vr(e){var t=e.toasts,r=e.onDismiss;return 0===t.length?null:(0,Ne.jsx)("div",{className:"fixed bottom-4 right-4 z-99999 flex flex-col gap-2 max-w-sm w-full pointer-events-none","aria-live":"polite",children:t.map((function(e){return(0,Ne.jsx)(gr,{message:e.message,type:e.type,onDismiss:function(){return r(e.id)}},e.id)}))})}function gr(e){var t,r=e.message,n=e.type,o=void 0===n?"info":n,a=e.onDismiss,i=null!==(t=fr[o])&&void 0!==t?t:fr.info;return(0,Ne.jsxs)("div",{className:"pointer-events-auto flex items-center gap-3 rounded-lg border px-4 py-3 shadow-sm ".concat(i),role:"alert",children:["success"===o&&(0,Ne.jsx)("svg",{className:"w-5 h-5 shrink-0 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"error"===o&&(0,Ne.jsx)("svg",{className:"w-5 h-5 shrink-0 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"info"===o&&(0,Ne.jsx)("svg",{className:"w-5 h-5 shrink-0 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Ne.jsx)("p",{className:"text-sm font-medium flex-1",children:r}),(0,Ne.jsx)("button",{type:"button",onClick:a,className:"shrink-0 p-1 rounded hover:opacity-70 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-gray-400","aria-label":"Dismiss",children:(0,Ne.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}function yr(e){var t=e.children,r=e.className,n=void 0===r?"":r;return(0,Ne.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200 ".concat(n),children:(0,Ne.jsx)("table",{className:"min-w-full divide-y divide-gray-200",children:t})})}function br(e){var t=e.children;return(0,Ne.jsx)("thead",{className:"bg-gray-50",children:t})}function xr(e){var t=e.children;return(0,Ne.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t})}function wr(e){var t=e.children,r=e.onClick,n=e.className,o=void 0===n?"":n;return(0,Ne.jsx)("tr",{className:"".concat(r?"cursor-pointer hover:bg-gray-50":""," ").concat(o),onClick:r,children:t})}function jr(e){var t=e.children,r=e.className,n=void 0===r?"":r;return(0,Ne.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ".concat(n),children:t})}function kr(e){var t=e.children,r=e.className,n=void 0===r?"":r;return(0,Ne.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 ".concat(n),children:t})}function _r(e){var t=e.icon,r=e.title,n=e.description,o=e.action;return(0,Ne.jsxs)("div",{className:"text-center py-12",children:[t&&(0,Ne.jsx)("div",{className:"mx-auto w-12 h-12 text-gray-400 mb-4",children:t}),(0,Ne.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:r}),n&&(0,Ne.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:n}),o&&(0,Ne.jsx)("div",{className:"mt-4",children:o})]})}var Sr={pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",draft:"bg-gray-100 text-gray-800",publish:"bg-green-100 text-green-800"};function Or(e){var t=e.status,r=e.className,n=void 0===r?"":r,o=Sr[t]||"bg-gray-100 text-gray-800",a=t?t.charAt(0).toUpperCase()+(t.slice(1)||"").toLowerCase():t;return(0,Ne.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-[10px] leading-none font-medium ".concat(o," ").concat(n),children:a})}function Nr(e){var t=e.counts;if(!t)return null;var r=t.pending,n=void 0===r?0:r,o=t.processing,a=void 0===o?0:o,i=t.completed,l=void 0===i?0:i,s=t.failed,c=void 0===s?0:s;return(0,Ne.jsxs)("div",{className:"flex items-center gap-1",children:[n>0&&(0,Ne.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:[n," pending"]}),a>0&&(0,Ne.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:[a," processing"]}),l>0&&(0,Ne.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:[l," done"]}),c>0&&(0,Ne.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:[c," failed"]})]})}function Er(e){var t=e.size,r=void 0===t?"md":t,n=e.className,o=void 0===n?"":n;return(0,Ne.jsxs)("svg",{className:"animate-spin ".concat({sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[r]," ").concat(o),fill:"none",viewBox:"0 0 24 24",children:[(0,Ne.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ne.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function Cr(){return(0,Ne.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Ne.jsx)(Er,{size:"lg",className:"text-indigo-600"})})}function Lr(e){var t=e.children,r=e.className,n=void 0===r?"":r;return(0,Ne.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm ".concat(n),children:t})}function Pr(e){var t=e.children,r=e.className,n=void 0===r?"":r;return(0,Ne.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 ".concat(n),children:t})}function Ar(e){var t=e.children,r=e.className,n=void 0===r?"":r;return(0,Ne.jsx)("div",{className:"px-6 py-4 ".concat(n),children:t})}function Tr(e){var t=e.title,r=e.description,n=e.actions;return(0,Ne.jsx)("div",{className:"mb-8",children:(0,Ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:t}),r&&(0,Ne.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:r})]}),n&&(0,Ne.jsx)("div",{className:"flex items-center gap-3",children:n})]})})}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Dr=(0,a.createContext)({isDirty:!1,setIsDirty:function(){}});function Rr(e){var t,r,n=e.children,o=(t=(0,a.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return Ir(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ir(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],l=o[1],s=(0,a.useMemo)((function(){return{isDirty:i,setIsDirty:l}}),[i]);return(0,Ne.jsx)(Dr.Provider,{value:s,children:n})}function Mr(){return(0,a.useContext)(Dr)}function zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Fr=[{to:"/campaigns",label:"Campaigns",icon:function(e){var t=e.className;return(0,Ne.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})})}},{to:"/webhooks",label:"Webhooks",icon:function(e){var t=e.className;return(0,Ne.jsx)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"})})}},{to:"/settings",label:"Settings",icon:function(e){var t=e.className;return(0,Ne.jsxs)("svg",{className:t,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})}}];function Br(e){var t,r,n=e.children,o=K(),i=(t=(0,a.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(t,r)||function(e,t){if(e){if("string"==typeof e)return zr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zr(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],s=i[1],c=Mr().isDirty,u=(0,a.useRef)("undefined"!=typeof window?window.location.hash:""),d=(0,a.useRef)(!1);return(0,a.useEffect)((function(){s(!1)}),[o.pathname]),(0,a.useEffect)((function(){u.current=window.location.hash}),[o.pathname]),(0,a.useEffect)((function(){if(c){var e=function(e){return e.preventDefault(),e.returnValue="",""};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}}),[c]),(0,a.useEffect)((function(){var e=function(){var e=window.location.hash;if(d.current)return d.current=!1,void(u.current=e);c?window.confirm("You have unsaved changes. Leave without saving?")?u.current=e:(d.current=!0,window.location.hash=u.current):u.current=e};return window.addEventListener("hashchange",e),function(){window.removeEventListener("hashchange",e)}}),[c]),(0,a.useEffect)((function(){var e=document.getElementById("poststation-app");if(e){var t=function(){var t=document.getElementById("wpadminbar"),r=t?Math.max(0,t.getBoundingClientRect().bottom):0,n=r;document.querySelectorAll(["#wpbody-content .notice","#wpbody-content .update-nag","#wpbody-content .error","#wpbody-content .updated"].join(",")).forEach((function(e){if(e instanceof HTMLElement&&!e.closest("#poststation-app")&&null!==e.offsetParent){var t=e.getBoundingClientRect();t.height<=0||t.bottom<=r||(n=Math.max(n,t.bottom))}}));var o=Math.max(r,n);e.style.setProperty("--poststation-top-offset","".concat(Math.round(o),"px"))},r=function(){return window.requestAnimationFrame(t)};r(),window.addEventListener("resize",r,{passive:!0}),window.addEventListener("scroll",r,{passive:!0});var n=new MutationObserver(r);return n.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style"]}),function(){window.removeEventListener("resize",r),window.removeEventListener("scroll",r),n.disconnect()}}}),[]),(0,Ne.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[l&&(0,Ne.jsx)("button",{type:"button",onClick:function(){return s(!1)},className:"fixed inset-0 bg-black/30 z-99970 lg:hidden poststation-mobile-overlay","aria-label":"Close navigation"}),(0,Ne.jsxs)("aside",{className:"poststation-desktop-sidebar fixed inset-y-0 left-0 z-99980 w-64 bg-white border-r border-gray-200 flex flex-col transform transition-transform duration-200 ease-out poststation-mobile-sidebar ".concat(l?"translate-x-0":"-translate-x-full"," lg:translate-x-0"),children:[(0,Ne.jsx)("div",{className:"h-16 flex items-center px-6 border-b border-gray-200",children:(0,Ne.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Post Station"})}),(0,Ne.jsx)("nav",{className:"flex-1 p-4 space-y-1",children:Fr.map((function(e){return(0,Ne.jsxs)(_e,{to:e.to,onClick:function(e){!c||window.confirm("You have unsaved changes. Leave without saving?")?s(!1):e.preventDefault()},className:function(e){var t=e.isActive;return"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat(t?"bg-indigo-50 text-indigo-700":"text-gray-700 hover:bg-gray-100")},children:[(0,Ne.jsx)(e.icon,{className:"w-5 h-5"}),e.label]},e.to)}))}),(0,Ne.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,Ne.jsx)("p",{className:"text-xs text-gray-500",children:"PostStation v1.0"})})]}),(0,Ne.jsx)("main",{className:"flex-1 min-w-0",children:(0,Ne.jsxs)("div",{className:"p-4 sm:p-8",children:[(0,Ne.jsxs)("div",{className:"flex items-center gap-3 mb-4 lg:hidden",children:[(0,Ne.jsx)("button",{type:"button",onClick:function(){return s(!0)},className:"inline-flex items-center justify-center w-9 h-9 rounded-lg border border-gray-300 bg-white text-gray-700 hover:bg-gray-50","aria-label":"Open navigation",children:(0,Ne.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,Ne.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"Post Station"})]}),n]})})]})}function Ur(e){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(e)}function Gr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gr(Object(r),!0).forEach((function(t){qr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qr(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ur(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ur(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hr(){Hr=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),l=new L(n||[]);return o(i,"_invoke",{value:O(e,r,l)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var x={};c(x,i,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==r&&n.call(j,i)&&(x=j);var k=b.prototype=g.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,i,l){var s=d(e[o],e,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Ur(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,l)}))}l(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function O(t,r,n){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var s=N(l,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?m:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function N(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,N(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Ur(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},_(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(k),c(k,s,"Generator"),c(k,i,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Vr(e,t,r,n,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function $r(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Vr(a,n,o,i,l,"next",e)}function l(e){Vr(a,n,o,i,l,"throw",e)}i(void 0)}))}}function Yr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Kr=["listicle","news","guide","howto"],Zr=function(e){return e&&Kr.includes(e)},Qr=/^[a-z0-9_-]+$/,Xr=function(){return String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase().replace(/[^a-z0-9_\s-]/g,"").replace(/\s+/g,"_").replace(/-+/g,"-").replace(/_+/g,"_")},en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(null!=e?e:"").slice(0,80)};function tn(e){var t=e.isOpen,r=e.onClose,n=e.mode,o=void 0===n?"add":n,i=e.instruction,l=void 0===i?null:i,s=e.onSaved,c=Yt()||{},u=(null==c?void 0:c.openrouter_default_text_model)||"",d=Yr((0,a.useState)(""),2),p=d[0],f=d[1],h=Yr((0,a.useState)(""),2),m=h[0],v=h[1],g=Yr((0,a.useState)(""),2),y=g[0],b=g[1],x=Yr((0,a.useState)(""),2),w=x[0],j=x[1],k=Yr((0,a.useState)(""),2),_=k[0],S=k[1],O=Yr((0,a.useState)(!1),2),N=O[0],E=O[1],C=Yr((0,a.useState)(!1),2),L=C[0],P=C[1],A=Yr((0,a.useState)(!1),2),T=A[0],I=A[1],D=Yr((0,a.useState)(""),2),R=D[0],M=D[1],z=Yr((0,a.useState)(u),2),F=z[0],B=z[1],U=Yr((0,a.useState)(!1),2),G=U[0],W=U[1],q=Yr((0,a.useState)(""),2),H=q[0],V=q[1],$="edit"===o&&l&&Zr(l.key),Y="edit"===o&&l&&Zr(l.key);(0,a.useEffect)((function(){if(t){if(V(""),"add"===o&&!l)return f(""),v(""),b(""),j(""),S(""),M(""),B(u),void I(!1);if("duplicate"===o||"edit"===o){var e,r,n,a,i,s=l||{},c=s.instructions||{};f("duplicate"===o?"":null!==(e=s.key)&&void 0!==e?e:""),v("duplicate"===o?"":null!==(r=s.name)&&void 0!==r?r:""),b(en(null!==(n=s.description)&&void 0!==n?n:"")),j(null!==(a=c.title)&&void 0!==a?a:""),S(null!==(i=c.body)&&void 0!==i?i:""),M(""),B(u),I(!1)}}}),[t,o,l,u]);var J=function(){var e=$r(Hr().mark((function e(){var t,r,n,o,a,i,l,s;return Hr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V(""),String(null!=R?R:"").trim()){e.next=4;break}return V("Describe the preset or provide an article URL first."),e.abrupt("return");case 4:return W(!0),e.prev=5,e.next=8,Qt({prompt:String(null!=R?R:"").trim(),provider:"openrouter",model:String(null!=F?F:"").trim()});case 8:i=e.sent,l=(null==i?void 0:i.preset)||{},s=(null==l?void 0:l.instructions)||{},f(Xr(null!==(t=null==l?void 0:l.key)&&void 0!==t?t:"")),v(null!==(r=null==l?void 0:l.name)&&void 0!==r?r:""),b(en(null!==(n=null==l?void 0:l.description)&&void 0!==n?n:"")),j(null!==(o=null==s?void 0:s.title)&&void 0!==o?o:""),S(null!==(a=null==s?void 0:s.body)&&void 0!==a?a:""),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),V((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Failed to generate preset with AI.");case 21:return e.prev=21,W(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[5,18,21,24]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=$r(Hr().mark((function e(t){var n,a,i,c,u,d;return Hr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),V(""),n=Xr(String(null!=p?p:"").trim()),a=String(null!=m?m:"").trim(),n&&a){e.next=7;break}return V("Key and name are required."),e.abrupt("return");case 7:if(Qr.test(n)){e.next=10;break}return V("Key must use lowercase letters, numbers, underscores, and hyphens only."),e.abrupt("return");case 10:if(i={description:en(String(null!=y?y:"").trim()),instructions:{title:String(null!=w?w:"").trim(),body:String(null!=_?_:"").trim()}},E(!0),e.prev=12,"add"!==o&&"duplicate"!==o){e.next=22;break}return e.next=16,f=Wr({key:n,name:a},i),h=void 0,v=void 0,kt("poststation_create_instruction",{key:f.key,name:f.name,description:null!==(h=f.description)&&void 0!==h?h:"",instructions:JSON.stringify(null!==(v=f.instructions)&&void 0!==v?v:{title:"",body:""})});case 16:return d=e.sent,e.next=19,Ot();case 19:null==s||s(null!==(c=null==d?void 0:d.id)&&void 0!==c?c:null==d||null===(u=d.instruction)||void 0===u?void 0:u.id),e.next=27;break;case 22:return e.next=24,Bt(l.id,i);case 24:return e.next=26,Ot();case 26:null==s||s();case 27:r(),e.next=33;break;case 30:e.prev=30,e.t0=e.catch(12),V((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Failed to save.");case 33:return e.prev=33,E(!1),e.finish(33);case 36:case"end":return e.stop()}var f,h,v}),e,null,[[12,30,33,36]])})));return function(_x){return e.apply(this,arguments)}}(),Z=function(){var e=$r(Hr().mark((function e(){var t,r,n,o,a,i,c;return Hr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=l&&l.id&&Y){e.next=2;break}return e.abrupt("return");case 2:return V(""),P(!0),e.prev=4,e.next=7,kt("poststation_reset_instruction",{id:l.id});case 7:return t=e.sent,e.next=10,Ot();case 10:(r=null==t?void 0:t.instruction)&&(b(null!==(n=r.description)&&void 0!==n?n:""),j(null!==(o=null===(a=r.instructions)||void 0===a?void 0:a.title)&&void 0!==o?o:""),S(null!==(i=null===(c=r.instructions)||void 0===c?void 0:c.body)&&void 0!==i?i:"")),null==s||s(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),V((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Failed to reset.");case 18:return e.prev=18,P(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[4,15,18,21]])})));return function(){return e.apply(this,arguments)}}(),Q="add"===o?"Add instruction preset":"duplicate"===o?"Duplicate instruction preset":"Edit instruction preset",X="add"===o,ee=!!p&&!Qr.test(p),te=(0,Ne.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,Ne.jsx)("span",{children:Q}),X&&(0,Ne.jsx)("button",{type:"button",onClick:function(){return I((function(e){return!e}))},title:"Generate with AI",className:"inline-flex h-8 w-8 items-center justify-center rounded-lg border border-indigo-200 bg-indigo-50 text-indigo-700 hover:bg-indigo-100 transition-colors",children:(0,Ne.jsx)("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3l1.5 4.5L18 9l-4.5 1.5L12 15l-1.5-4.5L6 9l4.5-1.5L12 3zM5 16l.9 2.1L8 19l-2.1.9L5 22l-.9-2.1L2 19l2.1-.9L5 16zM19 14l.9 2.1L22 17l-2.1.9L19 20l-.9-2.1L16 17l2.1-.9L19 14z"})})})]});return(0,Ne.jsx)(sr,{isOpen:t,onClose:r,title:te,size:"lg",children:(0,Ne.jsxs)("form",{onSubmit:K,className:"space-y-4",children:[H&&(0,Ne.jsx)("div",{className:"p-3 rounded-lg bg-red-50 text-red-700 text-sm",children:H}),X&&T&&(0,Ne.jsxs)("div",{className:"rounded-xl border border-indigo-200 bg-indigo-50/60 p-3 space-y-3",children:[(0,Ne.jsx)(lr,{label:"AI model",tooltip:"OpenRouter text model used to generate the instruction preset.",value:F,onChange:function(e){return B(e.target.value)},filter:"text",placeholder:"Use default model",disabled:G||N||L}),(0,Ne.jsx)(Je,{label:"Describe the preset you want",value:R,onChange:function(e){return M(e.target.value)},placeholder:"Example: Create a preset for product comparison reviews, or paste an article sample URL...",rows:3}),(0,Ne.jsx)("div",{className:"flex justify-end",children:(0,Ne.jsx)(De,{type:"button",onClick:J,loading:G,disabled:N||L,children:"Generate with AI"})})]}),(0,Ne.jsxs)("div",{className:"relative",children:[G&&(0,Ne.jsxs)("div",{className:"absolute inset-0 z-20 rounded-xl bg-white/80 backdrop-blur-sm border border-indigo-100 flex flex-col items-center justify-center gap-4",children:[(0,Ne.jsx)("div",{className:"h-10 w-10 rounded-full border-2 border-indigo-200 border-t-indigo-600 animate-spin"}),(0,Ne.jsxs)("div",{className:"flex gap-1",children:[(0,Ne.jsx)("span",{className:"h-2 w-2 rounded-full bg-indigo-500 animate-bounce [animation-delay:-0.3s]"}),(0,Ne.jsx)("span",{className:"h-2 w-2 rounded-full bg-indigo-500 animate-bounce [animation-delay:-0.15s]"}),(0,Ne.jsx)("span",{className:"h-2 w-2 rounded-full bg-indigo-500 animate-bounce"})]}),(0,Ne.jsx)("p",{className:"text-sm text-indigo-900 font-medium",children:"Generating preset..."})]}),(0,Ne.jsxs)("div",{className:"space-y-4",children:[(0,Ne.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,Ne.jsx)(Ye,{label:"Key",value:p,onChange:function(e){return f(Xr(e.target.value))},placeholder:"e.g. my_preset",disabled:$||G,error:ee?"Use lowercase letters, numbers, underscores, and hyphens only.":"",required:!0}),(0,Ne.jsx)(Ye,{label:"Name",value:m,onChange:function(e){return v(e.target.value)},placeholder:"Display name",disabled:$||G,required:!0})]}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:(0,Ne.jsx)("span",{children:"Description"})}),(0,Ne.jsxs)("div",{className:"relative",children:[(0,Ne.jsx)("textarea",{value:y,onChange:function(e){return b(en(e.target.value))},placeholder:"Short description for the preset",rows:2,maxLength:80,disabled:G,className:"poststation-field pr-16 pb-6"}),(0,Ne.jsxs)("span",{className:"pointer-events-none absolute bottom-2 right-3 text-xs text-gray-500",children:[y.length,"/",80]})]})]}),(0,Ne.jsxs)("div",{className:"border-t border-gray-200 pt-4 space-y-4",children:[(0,Ne.jsx)(Je,{label:"Title instruction",value:w,onChange:function(e){return j(e.target.value)},placeholder:"How to write the title for this type",rows:2,disabled:G}),(0,Ne.jsx)(Je,{label:"Body instruction",value:_,onChange:function(e){return S(e.target.value)},placeholder:"How to write the body",rows:3,disabled:G})]})]})]}),(0,Ne.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[Y&&(0,Ne.jsx)(De,{type:"button",variant:"secondary",onClick:Z,loading:L,disabled:N,className:"mr-auto",children:"Reset to default"}),(0,Ne.jsx)(De,{type:"button",variant:"secondary",onClick:r,disabled:N||G,children:"Cancel"}),(0,Ne.jsx)(De,{type:"submit",loading:N,disabled:G||ee,children:"add"===o||"duplicate"===o?"Create":"Save"})]})]})})}function rn(e){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rn(e)}function nn(){nn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),l=new L(n||[]);return o(i,"_invoke",{value:O(e,r,l)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var x={};c(x,i,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==r&&n.call(j,i)&&(x=j);var k=b.prototype=g.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,i,l){var s=d(e[o],e,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==rn(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,l)}))}l(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function O(t,r,n){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var s=N(l,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?m:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function N(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,N(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(rn(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},_(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(k),c(k,s,"Generator"),c(k,i,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function on(e,t,r,n,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function an(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){on(a,n,o,i,l,"next",e)}function l(e){on(a,n,o,i,l,"throw",e)}i(void 0)}))}}function ln(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||sn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sn(e,t){if(e){if("string"==typeof e)return cn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cn(e,t):void 0}}function cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function un(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).initialData,o=void 0===n?null:n,i=ln((0,a.useState)(o),2),l=i[0],s=i[1],c=ln((0,a.useState)(null===o),2),u=c[0],d=c[1],p=ln((0,a.useState)(null),2),f=p[0],h=p[1],m=(0,a.useCallback)(an(nn().mark((function t(){var r,n,o,a=arguments;return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(a.length>0&&void 0!==a[0]?a[0]:{}).background,(n=void 0!==r&&r)||d(!0),h(null),t.prev=4,t.next=7,e();case 7:o=t.sent,s(o),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),h(t.t0.message||"An error occurred");case 14:return t.prev=14,n||d(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[4,11,14,17]])}))),[e]);return(0,a.useEffect)((function(){m({background:null!==o})}),[].concat(function(e){if(Array.isArray(e))return cn(e)}(t=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||sn(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[m,o])),{data:l,loading:u,error:f,refetch:m}}function dn(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).onSuccess,r=ln((0,a.useState)(!1),2),n=r[0],o=r[1],i=ln((0,a.useState)(null),2),l=i[0],s=i[1],c=(0,a.useCallback)(an(nn().mark((function r(){var n,a,i,l,c=arguments;return nn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(o(!0),s(null),r.prev=2,n=c.length,a=new Array(n),i=0;i<n;i++)a[i]=c[i];return r.next=6,e.apply(void 0,a);case 6:if(l=r.sent,!t){r.next=10;break}return r.next=10,t.apply(void 0,[l].concat(a));case 10:return r.abrupt("return",l);case 13:throw r.prev=13,r.t0=r.catch(2),s(r.t0.message||"An error occurred"),r.t0;case 17:return r.prev=17,o(!1),r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[2,13,17,20]])}))),[e,t]);return{mutate:c,loading:n,error:l}}function pn(e){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pn(e)}function fn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(r),!0).forEach((function(t){mn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mn(e,t,r){return(t=function(e){var t=function(e){if("object"!=pn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=pn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vn(){vn=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),l=new L(n||[]);return o(i,"_invoke",{value:O(e,r,l)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var x={};c(x,i,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==r&&n.call(j,i)&&(x=j);var k=b.prototype=g.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,i,l){var s=d(e[o],e,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==pn(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,l)}))}l(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function O(t,r,n){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var s=N(l,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?m:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function N(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,N(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(pn(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},_(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(k),c(k,s,"Generator"),c(k,i,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function gn(e,t,r,n,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function yn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){gn(a,n,o,i,l,"next",e)}function l(e){gn(a,n,o,i,l,"throw",e)}i(void 0)}))}}function bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var wn=["listicle","news","guide","howto"];function jn(){var e=bn((0,a.useState)(!1),2),t=e[0],r=e[1],n=bn((0,a.useState)(""),2),o=n[0],i=n[1],l=bn((0,a.useState)(""),2),s=l[0],c=l[1],u=bn((0,a.useState)(""),2),d=u[0],p=u[1],f=bn((0,a.useState)(""),2),h=f[0],m=f[1],v=bn((0,a.useState)(!1),2),g=v[0],y=v[1],b=bn((0,a.useState)({open:!1,mode:"add",instruction:null}),2),x=b[0],w=b[1],j=bn((0,a.useState)(null),2),k=j[0],_=j[1],S=bn((0,a.useState)(!1),2),O=S[0],N=S[1],E=bn((0,a.useState)((function(){return Kt()})),2),C=E[0],L=E[1],P=((0,a.useCallback)(yn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot();case 2:L(Kt());case 3:case"end":return e.stop()}}),e)}))),[]),Yt()),A=un((0,a.useCallback)((function(){return kt("poststation_get_settings")}),[]),[],{initialData:P}),T=A.data,I=A.loading,D=(A.error,A.refetch),R=dn(Ut,{onSuccess:function(e){null!=e&&e.api_key&&i(e.api_key),Ot()}}),M=R.mutate,z=R.loading,F=dn(Gt,{onSuccess:Ot}),B=F.mutate,U=F.loading,G=dn(Wt,{onSuccess:Ot}),W=G.mutate,q=G.loading;(0,a.useEffect)((function(){null!=T&&T.api_key&&i(T.api_key),p((null==T?void 0:T.openrouter_default_text_model)||""),m((null==T?void 0:T.openrouter_default_image_model)||"")}),[T]);var H=function(){var e=yn(vn().mark((function e(){var t;return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Generate a new API key? The current key will stop working immediately. You must update any clients using the old key.")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,M();case 5:null!=(t=e.sent)&&t.api_key&&i(t.api_key),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Failed to regenerate API key:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=yn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""===(s||"").trim()){e.next=5;break}return e.next=4,B(s);case 4:c("");case 5:return e.next=7,W(d,h);case 7:D(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Failed to save OpenRouter settings:",e.t0),D();case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),$=function(e){w({open:!0,mode:e,instruction:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null})},Y=function(){var e=yn(vn().mark((function e(){return vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=k&&k.id){e.next=2;break}return e.abrupt("return");case 2:return N(!0),e.prev=3,e.next=6,kt("poststation_delete_instruction",{id:k.id});case 6:return e.next=8,Ot();case 8:L(Kt()),_(null),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("Failed to delete instruction:",e.t0);case 15:return e.prev=15,N(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})));return function(){return e.apply(this,arguments)}}();return I?(0,Ne.jsx)(Cr,{}):(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)(Tr,{title:"Settings",description:"Manage your PostStation configuration"}),(0,Ne.jsxs)("div",{className:"max-w-5xl grid grid-cols-2 gap-6",children:[(0,Ne.jsxs)(Lr,{children:[(0,Ne.jsx)(Pr,{children:(0,Ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"API Key"}),(0,Ne.jsx)("p",{className:"text-sm text-gray-500",children:"Use this key to authenticate API requests"})]}),(0,Ne.jsx)(De,{variant:"secondary",onClick:function(){return r(!0)},children:"View API Docs"})]})}),(0,Ne.jsx)(Ar,{children:(0,Ne.jsx)("div",{className:"space-y-4",children:(0,Ne.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,Ne.jsx)(Ye,{label:"API Key",tooltip:"Used to authenticate requests to the PostStation API.",type:"text",value:o||(null==T?void 0:T.api_key)||"",readOnly:!0,className:"flex-1"}),(0,Ne.jsx)("button",{type:"button",className:"poststation-icon-btn mb-1",onClick:function(){navigator.clipboard.writeText(o||(null==T?void 0:T.api_key)||""),y(!0),setTimeout((function(){return y(!1)}),2e3)},title:g?"Copied!":"Copy","aria-label":"Copy",children:g?(0,Ne.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):(0,Ne.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9.75a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"})})}),(0,Ne.jsx)("button",{type:"button",className:"poststation-icon-btn mb-1",onClick:H,disabled:z,title:"Regenerate API key","aria-label":"Regenerate API key",children:z?(0,Ne.jsxs)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,Ne.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ne.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,Ne.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})})})]}),(0,Ne.jsxs)(Lr,{children:[(0,Ne.jsx)(Pr,{children:(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"OpenRouter"}),(0,Ne.jsx)("p",{className:"text-sm text-gray-500",children:"Store your OpenRouter API key for model discovery"})]})}),(0,Ne.jsx)(Ar,{children:(0,Ne.jsxs)("div",{className:"space-y-4",children:[(0,Ne.jsx)(Ye,{label:"OpenRouter API Key",tooltip:"Saved encrypted server-side. The value cannot be viewed after saving.",type:"password",value:s,onChange:function(e){return c(e.target.value)},placeholder:null!=T&&T.openrouter_api_key_set?"Saved (hidden). Enter new key to replace or leave empty to clear.":"Enter OpenRouter API key"}),(0,Ne.jsx)("p",{className:"text-xs text-gray-500",children:null!=T&&T.openrouter_api_key_set?"An OpenRouter key is currently stored and hidden.":"No OpenRouter key stored yet."}),(0,Ne.jsxs)("div",{className:"grid grid-cols-1 gap-3 pt-2 border-t border-gray-100",children:[(0,Ne.jsx)(lr,{label:"Default Text Model",tooltip:"Used as the default text model for new and unconfigured Campaign fields.",value:d,onChange:function(e){return p(e.target.value)},filter:"text"}),(0,Ne.jsx)(lr,{label:"Default Image Model",tooltip:"Used as the default image model for new and unconfigured Campaign image fields.",value:h,onChange:function(e){return m(e.target.value)},filter:"image"})]}),(0,Ne.jsx)("div",{className:"flex justify-end gap-2",children:(0,Ne.jsx)(De,{onClick:V,loading:U||q,children:"Save OpenRouter Settings"})})]})})]}),(0,Ne.jsxs)(Lr,{className:"col-span-2",children:[(0,Ne.jsx)(Pr,{children:(0,Ne.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Instruction presets"}),(0,Ne.jsx)("p",{className:"text-sm text-gray-500",children:"Manage instruction sets used for title, body, and section generation"})]}),(0,Ne.jsx)(De,{variant:"primary",onClick:function(){return $("add")},children:"Add new"})]})}),(0,Ne.jsx)(Ar,{children:(0,Ne.jsx)("div",{className:"space-y-4",children:0===C.length?(0,Ne.jsx)("div",{className:"flex items-center justify-center py-10 px-6 rounded-xl border-2 border-dashed border-gray-200 bg-gray-50/50",children:(0,Ne.jsx)("p",{className:"text-sm text-gray-400",children:"No instruction presets. Add one to get started."})}):(0,Ne.jsx)("div",{className:"flex flex-col gap-1.5 max-h-72 overflow-y-auto pr-1",children:C.map((function(e){return(0,Ne.jsxs)("div",{className:"group flex items-center gap-3 rounded-lg border border-gray-200 bg-white px-3 py-2 transition-all hover:border-gray-300 hover:bg-gray-50",children:[(0,Ne.jsxs)("div",{className:"min-w-0 flex-1 flex flex-col gap-0.5",children:[(0,Ne.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ne.jsx)("span",{className:"font-medium text-sm text-gray-900 truncate",children:e.name}),e.key&&(0,Ne.jsx)("span",{className:"shrink-0 inline-flex items-center rounded bg-gray-100 px-1.5 py-0.5 text-xs font-mono text-gray-500",children:e.key})]}),e.description&&(0,Ne.jsx)("span",{className:"text-xs text-gray-400 truncate",children:e.description})]}),(0,Ne.jsxs)("div",{className:"flex items-center gap-1 shrink-0",children:[(0,Ne.jsx)("button",{type:"button",className:"poststation-icon-btn",onClick:function(){return $("edit",e)},title:"Edit","aria-label":"Edit",children:(0,Ne.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,Ne.jsx)("button",{type:"button",className:"poststation-icon-btn",onClick:function(){return $("duplicate",e)},title:"Duplicate","aria-label":"Duplicate",children:(0,Ne.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),(t=e.key,!(t&&wn.includes(t))&&(0,Ne.jsx)("button",{type:"button",className:"poststation-icon-btn-danger",onClick:function(){return _(e)},title:"Delete","aria-label":"Delete",children:(0,Ne.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}))]})]},e.id);var t}))})})})]}),(0,Ne.jsxs)(Lr,{className:"col-span-2",children:[(0,Ne.jsx)(Pr,{children:(0,Ne.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"About PostStation"})}),(0,Ne.jsx)(Ar,{children:(0,Ne.jsx)("p",{className:"text-sm text-gray-600",children:"PostStation is a WordPress plugin that enables automated post creation through webhooks and API endpoints. Configure Campaigns to define post templates, then trigger content generation via webhooks."})})]})]}),(0,Ne.jsx)(sr,{isOpen:t,onClose:function(){return r(!1)},title:"API Documentation",size:"lg",children:(0,Ne.jsxs)("div",{className:"space-y-6",children:[(0,Ne.jsxs)("section",{children:[(0,Ne.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Base URL"}),(0,Ne.jsxs)("p",{className:"text-sm text-gray-600",children:["All endpoints live under ",(0,Ne.jsx)("code",{className:"font-mono text-indigo-600 bg-gray-100 px-1 rounded",children:"/ps-api/"})," on your site (e.g. ",(0,Ne.jsx)("code",{className:"font-mono text-indigo-600 bg-gray-100 px-1 rounded",children:"https://yoursite.com/ps-api/create"}),")."]})]}),(0,Ne.jsxs)("section",{children:[(0,Ne.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Authentication"}),(0,Ne.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Send your API key in the request header for ",(0,Ne.jsx)("strong",{children:"POST"})," endpoints:"]}),(0,Ne.jsx)("pre",{className:"p-3 bg-gray-900 text-gray-100 rounded-lg text-sm overflow-x-auto",children:(0,Ne.jsx)("code",{children:"X-API-Key: your-api-key"})}),(0,Ne.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"GET /ps-api/posttasks does not require the header."})]}),(0,Ne.jsxs)("section",{children:[(0,Ne.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Endpoints"}),(0,Ne.jsxs)("div",{className:"space-y-3",children:[(0,Ne.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Ne.jsx)("code",{className:"text-sm font-mono text-indigo-600",children:"POST /ps-api/create"}),(0,Ne.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Create a post. Links to a post task when ",(0,Ne.jsx)("code",{children:"task_id"})," is provided."]})]}),(0,Ne.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Ne.jsx)("code",{className:"text-sm font-mono text-indigo-600",children:"POST /ps-api/progress"}),(0,Ne.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Update a post tasks status or progress (e.g. processing, completed, failed)."})]}),(0,Ne.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Ne.jsx)("code",{className:"text-sm font-mono text-indigo-600",children:"GET /ps-api/posttasks?campaign_id=123"}),(0,Ne.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["List post tasks for a campaign. Optional: ",(0,Ne.jsx)("code",{children:"status"}),' (pending, processing, completed, failed, cancelled or "all"), ',(0,Ne.jsx)("code",{children:"last_task_count"})," for delta updates."]})]}),(0,Ne.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Ne.jsx)("code",{className:"text-sm font-mono text-indigo-600",children:"POST /ps-api/upload"}),(0,Ne.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Upload an image as base64 for a task (e.g. generated images)."})]})]})]}),(0,Ne.jsxs)("section",{children:[(0,Ne.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"POST /ps-api/create  Request body"}),(0,Ne.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"JSON body. Content-Type: application/json."}),(0,Ne.jsx)("pre",{className:"p-3 bg-gray-900 text-gray-100 rounded-lg text-sm overflow-x-auto",children:(0,Ne.jsx)("code",{children:'{\n  "task_id": 123,\n  "title": "Post Title",\n  "content": "<p>Post content...</p>",\n  "slug": "post-slug",\n  "thumbnail_url": "https://...",\n  "thumbnail_id": 456,\n  "taxonomies": {\n    "category": ["news"],\n    "post_tag": ["featured"]\n  },\n  "custom_fields": {\n    "meta_key": "meta_value"\n  }\n}'})}),(0,Ne.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1 mt-2",children:[(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"task_id"}),"  Associated post task ID (optional)"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"title"}),"  Post title"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"content"}),"  Post content (HTML)"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"slug"}),"  URL slug (defaults from title)"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"thumbnail_url"}),"  Featured image URL"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"thumbnail_id"}),"  WordPress attachment ID for featured image"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"taxonomies"}),"  Object of taxonomy slug  array of term names/slugs"]}),(0,Ne.jsxs)("li",{children:[(0,Ne.jsx)("strong",{children:"custom_fields"}),"  Post meta key/value pairs"]})]})]}),(0,Ne.jsxs)("section",{children:[(0,Ne.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"POST /ps-api/create  Response"}),(0,Ne.jsx)("pre",{className:"p-3 bg-gray-900 text-gray-100 rounded-lg text-sm overflow-x-auto",children:(0,Ne.jsx)("code",{children:'{\n  "success": true,\n  "post_id": 789,\n  "post_url": "https://...",\n  "edit_url": "https://..."\n}'})})]}),(0,Ne.jsxs)("section",{children:[(0,Ne.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"POST /ps-api/progress  Request body"}),(0,Ne.jsx)("pre",{className:"p-3 bg-gray-900 text-gray-100 rounded-lg text-sm overflow-x-auto",children:(0,Ne.jsx)("code",{children:'{\n  "task_id": 123,\n  "execution_id": "optional-run-id",\n  "status": "processing|completed|failed|cancelled",\n  "progress": "Optional progress message",\n  "error_message": "Required when status is failed"\n}'})})]}),(0,Ne.jsxs)("section",{children:[(0,Ne.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"POST /ps-api/upload  Request body"}),(0,Ne.jsx)("pre",{className:"p-3 bg-gray-900 text-gray-100 rounded-lg text-sm overflow-x-auto",children:(0,Ne.jsx)("code",{children:'{\n  "task_id": 123,\n  "image_base64": "base64-encoded-image-data",\n  "index": 0,\n  "filename": "image.png",\n  "alt_text": "Description",\n  "format": "webp"\n}'})}),(0,Ne.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[(0,Ne.jsx)("strong",{children:"task_id"})," and ",(0,Ne.jsx)("strong",{children:"image_base64"})," are required."]})]})]})}),(0,Ne.jsx)(tn,{isOpen:x.open,onClose:function(){w((function(e){return hn(hn({},e),{},{open:!1})}))},mode:x.mode,instruction:x.instruction,onSaved:function(){L(Kt())}}),(0,Ne.jsx)(cr,{isOpen:Boolean(k),onClose:function(){return _(null)},onConfirm:Y,title:"Delete instruction preset",message:k?'Delete "'.concat(k.name,'"? This cannot be undone.'):"",confirmText:"Delete",variant:"danger",loading:O})]})}function kn(e){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(e)}function Sn(e){return function(e){if(Array.isArray(e))return Pn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ln(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function On(){On=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),l=new L(n||[]);return o(i,"_invoke",{value:O(e,r,l)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var x={};c(x,i,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==r&&n.call(j,i)&&(x=j);var k=b.prototype=g.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,i,l){var s=d(e[o],e,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==kn(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,l)}))}l(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function O(t,r,n){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var s=N(l,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?m:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function N(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,N(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(kn(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},_(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(k),c(k,s,"Generator"),c(k,i,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Nn(e,t,r,n,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function En(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Nn(a,n,o,i,l,"next",e)}function l(e){Nn(a,n,o,i,l,"throw",e)}i(void 0)}))}}function Cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||Ln(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ln(e,t){if(e){if("string"==typeof e)return Pn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pn(e,t):void 0}}function Pn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var An={15:"Every 15 min",60:"Hourly",360:"Every 6 hours",1440:"Daily"};function Tn(e){var t=e.className,r=void 0===t?"w-4 h-4":t;return(0,Ne.jsx)("svg",{className:r,fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":!0,children:(0,Ne.jsx)("path",{d:"M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20C5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1Z"})})}function In(){var e=Q(),t=Cn((0,a.useState)([]),2),r=t[0],n=t[1],o=Cn((0,a.useState)([]),2),i=o[0],l=o[1],s=(0,a.useRef)(null),c=wt().campaigns||null,u=un((0,a.useCallback)((function(){return kt("poststation_get_campaigns")}),[]),[],{initialData:c}),d=u.data,p=u.loading,f=(u.error,u.refetch),h=dn(Et),m=h.mutate,v=h.loading,g=dn(Pt,{onSuccess:Ot}).mutate,y=dn(Lt,{onSuccess:function(){f(),Ot()}}).mutate,b=dn(It,{onSuccess:Ot}),x=b.mutate,w=b.loading,j=dn(Tt).mutate,k=Cn((0,a.useState)([]),2),_=k[0],S=k[1],O=Vt(),N=function(){var t=En(On().mark((function t(){var r;return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m();case 3:null!=(r=t.sent)&&r.id&&(e("/campaigns/".concat(r.id)),setTimeout((function(){return Ot()}),0)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Failed to create campaign:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),E=function(){var e=En(On().mark((function e(t){return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you want to delete this Campaign and all its post tasks? This action cannot be undone.")){e.next=2;break}return e.abrupt("return");case 2:return l((function(e){return[].concat(Sn(e),[t])})),e.prev=3,e.next=6,g(t);case 6:n((function(e){return[].concat(Sn(e),[t])})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error("Failed to delete campaign:",e.t0);case 12:return e.prev=12,l((function(e){return e.filter((function(e){return e!==t}))})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,9,12,15]])})));return function(_x){return e.apply(this,arguments)}}(),C=function(){var t=En(On().mark((function t(r){var n,o,a;return On().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null===(n=r.target.files)||void 0===n?void 0:n[0]){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,x(o);case 6:null!=(a=t.sent)&&a.id&&e("/campaigns/".concat(a.id)),f(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.error("Failed to import:",t.t0);case 14:r.target.value="";case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}(),L=function(){var e=En(On().mark((function e(t){var r,n,o,a;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(t);case 3:r=e.sent,n=new Blob([JSON.stringify(r.data,null,2)],{type:"application/json"}),o=URL.createObjectURL(n),(a=document.createElement("a")).href=o,a.download="campaign-".concat(t,".json"),a.click(),URL.revokeObjectURL(o),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Failed to export:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=En(On().mark((function e(t){var r,n,o;return On().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null!==(r=t.status)&&void 0!==r?r:"paused",o="active"===n?"paused":"active",S((function(e){return[].concat(Sn(e),[t.id])})),e.prev=3,e.next=6,y(t.id,o);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error("Failed to update campaign status:",e.t0);case 11:return e.prev=11,S((function(e){return e.filter((function(e){return e!==t.id}))})),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[3,8,11,14]])})));return function(t){return e.apply(this,arguments)}}();if(p)return(0,Ne.jsx)(Cr,{});var A=((null==d?void 0:d.campaigns)||[]).filter((function(e){return!r.includes(e.id)}));return(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)(Tr,{title:"Campaigns",description:"Manage batch post creation workflows",actions:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("input",{ref:s,type:"file",accept:".json",className:"hidden",onChange:C}),(0,Ne.jsx)(De,{variant:"secondary",onClick:function(){var e;return null===(e=s.current)||void 0===e?void 0:e.click()},loading:w,children:"Import"}),(0,Ne.jsx)(De,{onClick:N,loading:v,children:"Add New"})]})}),0===A.length?(0,Ne.jsx)(_r,{icon:(0,Ne.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-full h-full",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),title:"No Campaigns yet",description:"Create your first Campaign to start batch post creation",action:(0,Ne.jsx)(De,{onClick:N,loading:v,children:"Create Campaign"})}):(0,Ne.jsxs)(yr,{children:[(0,Ne.jsx)(br,{children:(0,Ne.jsxs)(wr,{children:[(0,Ne.jsx)(jr,{children:"Title"}),(0,Ne.jsx)(jr,{children:"Post Type"}),(0,Ne.jsx)(jr,{children:"Blocks"}),(0,Ne.jsx)(jr,{children:"Created"}),(0,Ne.jsx)(jr,{className:"w-20 text-center",children:"Live"}),(0,Ne.jsx)(jr,{children:"RSS"}),(0,Ne.jsx)(jr,{className:"w-24",children:"Actions"})]})}),(0,Ne.jsx)(xr,{children:A.map((function(t){var r,n,o=function(e){var t,r,n;if(!e.rss_enabled||"yes"!==e.rss_enabled)return null;var o=null!==(t=e.rss_sources_count)&&void 0!==t?t:0,a=null!==(r=e.rss_frequency_interval)&&void 0!==r?r:60;return{count:o,label:null!==(n=An[a])&&void 0!==n?n:"Every ".concat(a," min")}}(t);return(0,Ne.jsxs)(wr,{children:[(0,Ne.jsx)(kr,{children:(0,Ne.jsx)("button",{onClick:function(){return e("/campaigns/".concat(t.id))},className:"font-semibold text-indigo-600 hover:text-indigo-900",children:t.title||"Campaign #".concat(t.id)})}),(0,Ne.jsx)(kr,{children:(0,Ne.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-gray-100 text-gray-700 text-sm",children:O[t.post_type]||t.post_type})}),(0,Ne.jsxs)(kr,{children:[(0,Ne.jsx)(Nr,{counts:t.task_counts}),!t.task_counts&&(0,Ne.jsx)("span",{className:"text-gray-400 text-sm",children:"No post tasks"})]}),(0,Ne.jsx)(kr,{children:new Date(t.created_at).toLocaleDateString()}),(0,Ne.jsx)(kr,{className:"text-center",children:(0,Ne.jsxs)("label",{className:"poststation-switch inline-flex items-center justify-center gap-2 cursor-pointer",title:"active"===(null!==(r=t.status)&&void 0!==r?r:"paused")?"Live: tasks run automatically":"Paused: turn on to run tasks automatically",children:[(0,Ne.jsx)("input",{type:"checkbox",className:"poststation-field-checkbox",checked:"active"===(null!==(n=t.status)&&void 0!==n?n:"paused"),disabled:_.includes(t.id),onChange:function(){return P(t)}}),(0,Ne.jsx)("span",{className:"poststation-switch-track"})]})}),(0,Ne.jsx)(kr,{children:o?(0,Ne.jsxs)("span",{className:"inline-flex items-center gap-0.5 text-sm text-gray-700",title:"RSS feed sources and check frequency",children:[(0,Ne.jsx)(Tn,{className:"w-4 h-4 text-orange-500 shrink-0"}),(0,Ne.jsxs)("span",{children:[o.count,", ",o.label]})]}):(0,Ne.jsx)("span",{className:"text-gray-400 text-sm",children:""})}),(0,Ne.jsx)(kr,{children:(0,Ne.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Ne.jsx)("button",{type:"button",className:"poststation-icon-btn",onClick:function(){return e("/campaigns/".concat(t.id))},title:"Open","aria-label":"Open",children:(0,Ne.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})}),(0,Ne.jsx)("button",{type:"button",className:"poststation-icon-btn",onClick:function(){return L(t.id)},title:"Export","aria-label":"Export",children:(0,Ne.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})}),(0,Ne.jsx)("button",{type:"button",className:"poststation-icon-btn-danger",onClick:function(){return E(t.id)},disabled:i.includes(t.id),title:"Delete","aria-label":"Delete",children:i.includes(t.id)?(0,Ne.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,Ne.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ne.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,Ne.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},t.id)}))})]})]})}function Dn(e){return Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dn(e)}function Rn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(r),!0).forEach((function(t){zn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zn(e,t,r){return(t=function(e){var t=function(e){if("object"!=Dn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Dn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Dn(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fn=[{value:"pending_review",label:"Pending Review"},{value:"publish_instantly",label:"Publish Instantly"},{value:"schedule_date",label:"Schedule Date"},{value:"publish_randomly",label:"Publish Randomly"}],Bn={pending_review:"Pending Review",publish_instantly:"Publish Instantly",schedule_date:"Schedule Date",publish_randomly:"Publish Randomly"},Un=function(e){return String(e).padStart(2,"0")},Gn=function(){var e=new Date;return"".concat(e.getFullYear(),"-").concat(Un(e.getMonth()+1),"-").concat(Un(e.getDate()))},Wn=function(){var e=new Date;return"".concat(e.getFullYear(),"-").concat(Un(e.getMonth()+1),"-").concat(Un(e.getDate()),"T").concat(Un(e.getHours()),":").concat(Un(e.getMinutes()))},qn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t?new Date("".concat(t,"T00:00:00")):new Date;return r.setDate(r.getDate()+e),"".concat(r.getFullYear(),"-").concat(Un(r.getMonth()+1),"-").concat(Un(r.getDate()))},Hn=function(e){return"publish"===e?"publish_instantly":"future"===e?"schedule_date":"pending_review"},Vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.publication_mode||Hn(t.post_status),n=e.publication_mode||r||"pending_review",o=Gn(),a=e.publication_random_from||t.publication_random_from||o,i=e.publication_random_to||t.publication_random_to||qn(30,a);return Mn(Mn({},e),{},{publication_mode:n,publication_date:e.publication_date||Wn(),publication_random_from:a,publication_random_to:i})};function $n(e){return $n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$n(e)}function Yn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(r),!0).forEach((function(t){Kn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kn(e,t,r){return(t=function(e){var t=function(e){if("object"!=$n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=$n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==$n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qn(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Xn=[{value:"default",label:"Default"},{value:"listicle",label:"Listicle"},{value:"rewrite_blog_post",label:"Rewrite Blog Post"}],eo=[{value:"none",label:"None"},{value:"friendly",label:"Friendly"},{value:"professional",label:"Professional"},{value:"informational",label:"Informational"},{value:"transactional",label:"Transactional"},{value:"inspirational",label:"Inspirational"},{value:"neutral",label:"Neutral"},{value:"witty",label:"Witty"},{value:"casual",label:"Casual"},{value:"authoritative",label:"Authoritative"},{value:"encouraging",label:"Encouraging"},{value:"persuasive",label:"Persuasive"},{value:"poetic",label:"Poetic"}],to=[{value:"none",label:"None"},{value:"first_person_singular",label:"First Person Singular (I/me)"},{value:"first_person_plural",label:"First Person Plural (we/us)"},{value:"second_person",label:"Second Person (you)"},{value:"third_person",label:"Third Person (he/she/they)"}],ro=[{value:"grade_4",label:"4th Grade (Very Easy)"},{value:"grade_6",label:"6th Grade (Easy)"},{value:"grade_8",label:"8th Grade (Plain English/Average)"},{value:"grade_10_12",label:"10th12th Grade (High School)"},{value:"college_graduate",label:"College Graduate/Professional (Difficult)"}];function no(e){var t,r,n=e.campaign,o=e.onChange,a=e.webhooks,i=void 0===a?[]:a,l=e.users,s=void 0===l?[]:l,c=Vt(),u=Ht("languages")||{},d=Ht("countries")||{},p=Object.entries(c).map((function(e){var t=Zn(e,2);return{value:t[0],label:t[1]}})),f=Object.entries(u).map((function(e){var t=Zn(e,2);return{value:t[0],label:t[1]}})),h=Object.entries(d).map((function(e){var t=Zn(e,2);return{value:t[0],label:t[1]}})),m=i.map((function(e){return{value:e.id.toString(),label:e.name}})),v=s.map((function(e){return{value:e.id.toString(),label:e.display_name}})),g=function(e,t){o(Jn(Jn({},n),{},Kn({},e,t)))};return(0,Ne.jsx)("div",{className:"space-y-4",children:(0,Ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[(0,Ne.jsx)(ot,{label:"Campaign Type",tooltip:"<strong>Campaign Type</strong> sets the overall writing style and structure used for this campaign.",options:Xn,value:n.campaign_type||"default",onChange:function(e){return g("campaign_type",e.target.value)},required:!0}),(0,Ne.jsx)(ot,{label:"Language",tooltip:"Primary language for generated content and taxonomy suggestions.",options:f,value:n.language||"en",onChange:function(e){return g("language",e.target.value)},required:!0}),(0,Ne.jsx)(ot,{label:"Tone of Voice",tooltip:"Global tone used for body generation across tasks.",options:eo,value:n.tone_of_voice||"none",onChange:function(e){return g("tone_of_voice",e.target.value)},required:!0}),(0,Ne.jsx)(ot,{label:"Point of View",tooltip:"Global narrative perspective used for generated writing.",options:to,value:n.point_of_view||"none",onChange:function(e){return g("point_of_view",e.target.value)},required:!0}),(0,Ne.jsx)(ot,{label:"Readability",tooltip:"Reading complexity level target for generated text.",options:ro,value:n.readability||"grade_8",onChange:function(e){return g("readability",e.target.value)},required:!0}),(0,Ne.jsx)(ot,{label:"Target Country",tooltip:"Preferred country or region for localization. Default is International.",options:h,value:n.target_country||"international",onChange:function(e){return g("target_country",e.target.value)},required:!0}),(0,Ne.jsx)(ot,{label:"Post Type",tooltip:"WordPress post type that will be created (e.g., Post, Page, or a custom type).",options:p,value:n.post_type||"post",onChange:function(e){return g("post_type",e.target.value)},required:!0}),(0,Ne.jsx)(ot,{label:"Publication",tooltip:"Default publication behavior applied to new tasks.",options:Fn,value:n.publication_mode||"pending_review",onChange:function(e){return g("publication_mode",e.target.value)},required:!0}),(0,Ne.jsx)(ot,{label:"Default Author",tooltip:"Default author assigned to created posts.",options:v,value:(null===(t=n.default_author_id)||void 0===t?void 0:t.toString())||"",onChange:function(e){return g("default_author_id",e.target.value)},placeholder:"Select author...",required:!0}),(0,Ne.jsx)(ot,{label:"RSS Feeds",tooltip:"Enable RSS feed sources for this campaign. When enabled, you can set feed URLs and frequency, and run RSS checks to add items as tasks.",options:[{value:"no",label:"No"},{value:"yes",label:"Yes"}],value:n.rss_enabled||"no",onChange:function(e){return g("rss_enabled",e.target.value)}}),(0,Ne.jsx)(ot,{label:"Webhook",tooltip:"Webhook endpoint that receives the generation payload for this campaign.",options:m,value:(null===(r=n.webhook_id)||void 0===r?void 0:r.toString())||"",onChange:function(e){return g("webhook_id",e.target.value)},placeholder:"Select webhook...",required:!0})]})})}function oo(e){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oo(e)}function ao(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(r),!0).forEach((function(t){lo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ao(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lo(e,t,r){return(t=function(e){var t=function(e){if("object"!=oo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=oo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var so=[{value:"generate",label:"Auto Generate Title"}];function co(e){var t=e.config,r=e.onChange,n=function(e,n){r(io(io({},t),{},lo({},e,n)))};return(0,Ne.jsxs)("div",{className:"space-y-4",children:[(0,Ne.jsx)(ot,{label:"Mode",tooltip:"Controls how the title is produced for the post.",options:so,value:t.mode||"generate",onChange:function(e){return n("mode",e.target.value)}}),(0,Ne.jsx)(Je,{label:"Additional Instruction",tooltip:"Extra guidance for the title generation prompt.",value:t.prompt||"",onChange:function(e){return n("prompt",e.target.value)},placeholder:"Optional: Add specific instructions for title generation...",rows:2})]})}function uo(e){return uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(e)}function po(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?po(Object(r),!0).forEach((function(t){ho(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):po(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ho(e,t,r){return(t=function(e){var t=function(e){if("object"!=uo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=uo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==uo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mo=[{value:"generate",label:"Auto Generate Slug"}];function vo(e){var t=e.config,r=e.onChange,n=function(e,n){r(fo(fo({},t),{},ho({},e,n)))};return(0,Ne.jsxs)("div",{className:"space-y-4",children:[(0,Ne.jsx)(ot,{label:"Mode",tooltip:"Controls how the slug is generated.",options:mo,value:t.mode||"generate",onChange:function(e){return n("mode",e.target.value)}}),(0,Ne.jsx)(Je,{label:"Additional Instruction",tooltip:"Optional guidance for slug generation (keywords, style, length).",value:t.prompt||"",onChange:function(e){return n("prompt",e.target.value)},placeholder:"Optional: e.g. keep it short, include primary keyword",rows:2})]})}function go(e){return go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},go(e)}function yo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(r),!0).forEach((function(t){xo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xo(e,t,r){return(t=function(e){var t=function(e){if("object"!=go(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=go(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==go(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wo=[{value:"none",label:"None"},{value:"perplexity",label:"Perplexity (Default)"},{value:"google_dataforseo",label:"Google via DataForSEO (Coming Soon)",disabled:!0}];function jo(e){var t,r,n,o,a=e.config,i=e.onChange,l=e.campaignType,s=function(e,t){i(bo(bo({},a),{},xo({},e,t)))},c="listicle"===l,u="rewrite_blog_post"===l,d=[{value:"yes",label:"Yes"},{value:"no",label:"No"}];return(0,Ne.jsxs)("div",{className:"space-y-4",children:[!u&&(0,Ne.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,Ne.jsx)(ot,{label:"Real-Time Data",tooltip:"Select the source for real-time data when generating content.",options:wo,value:a.research_mode||"perplexity",onChange:function(e){return s("research_mode",e.target.value)}}),"none"!==a.research_mode&&(0,Ne.jsx)(Ye,{label:"Number of Sources to Use",tooltip:"How many sources to research. Max is 10.",type:"number",min:"1",max:"10",value:null!==(t=a.sources_count)&&void 0!==t?t:3,onChange:function(e){var t=parseInt(e.target.value,10);s("sources_count",isNaN(t)?"":Math.min(10,Math.max(1,t)))}})]}),(0,Ne.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,Ne.jsxs)("label",{className:"poststation-switch text-sm font-medium text-gray-700",children:[(0,Ne.jsx)("input",{type:"checkbox",checked:Boolean(a.disable_intelligence_analysis),onChange:function(e){return s("disable_intelligence_analysis",e.target.checked)},className:"poststation-field-checkbox"}),(0,Ne.jsx)("span",{className:"poststation-switch-track","aria-hidden":!0}),(0,Ne.jsx)("span",{children:"Disable Intelligence Analysis"}),(0,Ne.jsx)(ze,{content:"When enabled, skips AI-powered analysis of the topic or source before writing."})]}),(0,Ne.jsxs)("label",{className:"poststation-switch text-sm font-medium text-gray-700",children:[(0,Ne.jsx)("input",{type:"checkbox",checked:Boolean(a.disable_outline),onChange:function(e){return s("disable_outline",e.target.checked)},className:"poststation-field-checkbox"}),(0,Ne.jsx)("span",{className:"poststation-switch-track","aria-hidden":!0}),(0,Ne.jsx)("span",{children:"Disable Outline"}),(0,Ne.jsx)(ze,{content:"When enabled, content is generated without creating an outline first."})]})]}),(0,Ne.jsx)(Je,{label:"Additional Instruction",tooltip:"Extra guidance used when generating the body content.",value:a.prompt||"",onChange:function(e){return s("prompt",e.target.value)},placeholder:"Add specific instructions for content generation...",rows:2}),(0,Ne.jsxs)("div",{className:"space-y-4",children:[c&&(0,Ne.jsxs)("div",{className:"space-y-3",children:[(0,Ne.jsx)("div",{className:"border-b border-gray-200 pb-1",children:(0,Ne.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:"List Config"})}),(0,Ne.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,Ne.jsx)(ot,{label:"List Numbering Format",tooltip:"Format used for list item numbering.",options:[{value:"none",label:"None"},{value:"dot",label:"1. , 2. , 3."},{value:"paren",label:"1) 2) 3)"},{value:"colon",label:"1:, 2:, 3:"}],value:a.list_numbering_format||"none",onChange:function(e){return s("list_numbering_format",e.target.value)}}),(0,Ne.jsx)(Ye,{label:"Number of List",tooltip:"How many list items to generate. Leave empty for automatic.",type:"number",min:"1",value:null!==(r=a.number_of_list)&&void 0!==r?r:"",onChange:function(e){var t=e.target.value;s("number_of_list",""===t?"":Math.max(1,parseInt(t,10)||1))},placeholder:"Automatic"})]}),(0,Ne.jsxs)("label",{className:"poststation-switch text-sm font-medium text-gray-700",children:[(0,Ne.jsx)("input",{type:"checkbox",checked:Boolean(a.use_descending_order),onChange:function(e){return s("use_descending_order",e.target.checked)},className:"poststation-field-checkbox"}),(0,Ne.jsx)("span",{className:"poststation-switch-track","aria-hidden":!0}),(0,Ne.jsx)("span",{children:"Use Descending Order"}),(0,Ne.jsx)(ze,{content:"If enabled, list items will be ordered from highest to lowest."})]})]}),(0,Ne.jsxs)("div",{className:"space-y-2",children:[(0,Ne.jsx)("div",{className:"border-b border-gray-200 pb-1",children:(0,Ne.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:"Structure"})}),(0,Ne.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,Ne.jsx)(ot,{label:"Key Takeaways",tooltip:"Include a key takeaways section.",options:d,value:a.key_takeaways||"yes",onChange:function(e){return s("key_takeaways",e.target.value)}}),(0,Ne.jsx)(ot,{label:"Conclusion",tooltip:"Include a conclusion section.",options:d,value:a.conclusion||"yes",onChange:function(e){return s("conclusion",e.target.value)}}),(0,Ne.jsx)(ot,{label:"FAQ",tooltip:"Include a FAQ section.",options:d,value:a.faq||"yes",onChange:function(e){return s("faq",e.target.value)}}),(0,Ne.jsx)(ot,{label:"External Linking",tooltip:"Include external links to authoritative sources.",options:d,value:a.external_linking||"yes",onChange:function(e){return s("external_linking",e.target.value)}}),(0,Ne.jsx)(ot,{label:"Internal Linking",tooltip:"Include internal links to related content.",options:d,value:a.internal_linking||"yes",onChange:function(e){return s("internal_linking",e.target.value)}}),"yes"===a.internal_linking&&(0,Ne.jsx)(Ye,{label:"Number of Internal Links",tooltip:"How many internal links to include. Default is 4.",type:"number",min:"1",value:null!==(n=a.internal_links_count)&&void 0!==n?n:4,onChange:function(e){var t=parseInt(e.target.value,10);s("internal_links_count",isNaN(t)?4:Math.max(1,t))}})]}),"yes"===a.internal_linking&&(0,Ne.jsxs)("label",{className:"poststation-switch text-sm font-medium text-gray-700",children:[(0,Ne.jsx)("input",{type:"checkbox",checked:Boolean(a.internal_links_post_type_only),onChange:function(e){return s("internal_links_post_type_only",e.target.checked)},className:"poststation-field-checkbox"}),(0,Ne.jsx)("span",{className:"poststation-switch-track","aria-hidden":!0}),(0,Ne.jsx)("span",{children:"Use only selected post type"}),(0,Ne.jsx)(ze,{content:"When enabled, internal links will only point to posts of the campaign's selected post type."})]})]}),(0,Ne.jsx)(lr,{label:"Model",tooltip:"OpenRouter model used to generate body content.",value:a.model_id||"",onChange:function(e){return s("model_id",e.target.value)},filter:"text"}),(0,Ne.jsxs)("div",{className:"space-y-2",children:[(0,Ne.jsx)("div",{className:"border-b border-gray-200 pb-1",children:(0,Ne.jsx)("h4",{className:"text-sm font-semibold text-gray-700",children:"Media"})}),(0,Ne.jsxs)("div",{className:"space-y-4",children:[(0,Ne.jsx)(ot,{label:"Enable Media",tooltip:"Include AI-generated images within the article body.",options:d,value:a.enable_media||"no",onChange:function(e){return s("enable_media",e.target.value)}}),"yes"===a.enable_media&&(0,Ne.jsxs)("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,Ne.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,Ne.jsx)(ot,{label:"Number of Images",tooltip:"How many images to include in the body.",options:[{value:"random",label:"Random Number"},{value:"according_to_sections",label:"According to Sections"},{value:"custom",label:"Custom Number"}],value:a.number_of_images||"random",onChange:function(e){return s("number_of_images",e.target.value)}}),"custom"===a.number_of_images&&(0,Ne.jsx)(Ye,{label:"Custom Number",tooltip:"Specific number of images to generate.",type:"number",min:"1",value:null!==(o=a.custom_number_of_images)&&void 0!==o?o:3,onChange:function(e){return s("custom_number_of_images",parseInt(e.target.value,10)||1)}}),(0,Ne.jsx)(ot,{label:"Image Size",tooltip:"The aspect ratio and resolution for generated images.",options:[{value:"960x768",label:"960768 (5:4)"},{value:"1024x640",label:"1024640 (8:5)"},{value:"1024x768",label:"1024768 (4:3)"},{value:"1152x768",label:"1152768 (3:2)"},{value:"1280x704",label:"1280704 (20:11)"},{value:"1344x768",label:"1344768 (16:9)"},{value:"768x1344",label:"7681344 (9:16)"},{value:"1024x1024",label:"10241024 (1:1)"}],value:a.image_size||"1344x768",onChange:function(e){return s("image_size",e.target.value)}}),(0,Ne.jsx)(ot,{label:"Image Style",tooltip:"The visual style for generated images.",options:[{value:"none",label:"None"},{value:"photo",label:"Photo"},{value:"cartoon",label:"Cartoon"},{value:"cubism",label:"Cubism"},{value:"expressionism",label:"Expressionism"},{value:"cyberpunk",label:"Cyberpunk"},{value:"fantasy",label:"Fantasy"},{value:"cinematic",label:"Cinematic"},{value:"abstract",label:"Abstract"},{value:"impressionism",label:"Impressionism"},{value:"surrealism",label:"Surrealism"},{value:"anime",label:"Anime"},{value:"comic_book",label:"Comic Book"}],value:a.image_style||"none",onChange:function(e){return s("image_style",e.target.value)}})]}),(0,Ne.jsx)(Je,{label:"Additional Instruction",tooltip:"Extra guidance for media placement and generation inside the body.",value:a.media_prompt||"",onChange:function(e){return s("media_prompt",e.target.value)},placeholder:"Optional: where to place images, what scenes to emphasize, etc.",rows:2}),(0,Ne.jsx)(lr,{label:"Image Model",tooltip:"OpenRouter image model used for body media generation.",value:a.image_model_id||"",onChange:function(e){return s("image_model_id",e.target.value)},filter:"image"})]})]})]})]})]})}function ko(e){return ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(e)}function _o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(r),!0).forEach((function(t){Oo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oo(e,t,r){return(t=function(e){var t=function(e){if("object"!=ko(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ko(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ko(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var No=[{value:"manual",label:"Manual Selection"},{value:"generate",label:"Generate Based on Article"},{value:"auto_select",label:"Auto Select from Existing"}];function Eo(e){var t,r,n=e.config,o=e.onChange,a=e.taxonomies,i=a&&Object.keys(a).length>0?a:null!==(t=$t())&&void 0!==t?t:{},l=Array.isArray(null==i||null===(r=i.category)||void 0===r?void 0:r.terms)?i.category.terms:[],s=function(e,t){o(So(So({},n),{},Oo({},e,t)))},c=l.map((function(e){var t;return{value:e.slug||(null===(t=e.term_id)||void 0===t?void 0:t.toString()),label:(e.name||"").replace(/&amp;/g,"&")}}));return(0,Ne.jsxs)("div",{className:"space-y-4",children:[(0,Ne.jsx)(ot,{label:"Mode",tooltip:"Manual: pick categories. Generate: create new. Auto-select: choose from existing.",options:No,value:n.mode||"manual",onChange:function(e){return s("mode",e.target.value)}}),"manual"===n.mode&&(0,Ne.jsx)(at,{label:"Select Categories",tooltip:"Choose specific categories to assign.",options:c,value:n.selected||[],onChange:function(e){return s("selected",e)},placeholder:"Choose categories..."}),("generate"===n.mode||"auto_select"===n.mode)&&(0,Ne.jsx)(Ye,{label:"generate"===n.mode?"Number of Categories to Generate":"Number of Categories to Auto-Select",tooltip:"How many categories to return for this post.",type:"number",min:"1",value:n.term_count||3,onChange:function(e){return s("term_count",Math.max(1,parseInt(e.target.value)||1))}}),("generate"===n.mode||"auto_select"===n.mode)&&(0,Ne.jsx)(Je,{label:"Additional Instruction",tooltip:"Optional instructions to guide category selection.",value:n.prompt||"",onChange:function(e){return s("prompt",e.target.value)},placeholder:"generate"===n.mode?"Instructions for generating categories...":"Instructions for selecting from existing categories...",rows:2}),("generate"===n.mode||"auto_select"===n.mode)&&(0,Ne.jsx)(lr,{label:"Model",tooltip:"OpenRouter model used to generate or auto-select categories.",value:n.model_id||"",onChange:function(e){return s("model_id",e.target.value)},filter:"text"})]})}function Co(e){return Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(e)}function Lo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(r),!0).forEach((function(t){Ao(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ao(e,t,r){return(t=function(e){var t=function(e){if("object"!=Co(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Co(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Co(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var To=[{value:"manual",label:"Manual Selection"},{value:"generate",label:"Generate Based on Article"},{value:"auto_select",label:"Auto Select from Existing"}];function Io(e){var t,r,n=e.config,o=e.onChange,a=e.taxonomies,i=a&&Object.keys(a).length>0?a:null!==(t=$t())&&void 0!==t?t:{},l=Array.isArray(null==i||null===(r=i.post_tag)||void 0===r?void 0:r.terms)?i.post_tag.terms:[],s=function(e,t){o(Po(Po({},n),{},Ao({},e,t)))},c=l.map((function(e){var t;return{value:e.slug||(null===(t=e.term_id)||void 0===t?void 0:t.toString()),label:(e.name||"").replace(/&amp;/g,"&")}}));return(0,Ne.jsxs)("div",{className:"space-y-4",children:[(0,Ne.jsx)(ot,{label:"Mode",tooltip:"Manual: pick tags. Generate: create new. Auto-select: choose from existing.",options:To,value:n.mode||"generate",onChange:function(e){return s("mode",e.target.value)}}),"manual"===n.mode&&(0,Ne.jsx)(at,{label:"Select Tags",tooltip:"Choose specific tags to assign.",options:c,value:n.selected||[],onChange:function(e){return s("selected",e)},placeholder:"Choose tags..."}),("generate"===n.mode||"auto_select"===n.mode)&&(0,Ne.jsx)(Ye,{label:"generate"===n.mode?"Number of Tags to Generate":"Number of Tags to Auto-Select",tooltip:"How many tags to return for this post.",type:"number",min:"1",value:n.term_count||3,onChange:function(e){return s("term_count",Math.max(1,parseInt(e.target.value)||1))}}),("generate"===n.mode||"auto_select"===n.mode)&&(0,Ne.jsx)(Je,{label:"Additional Instruction",tooltip:"Optional instructions to guide tag selection.",value:n.prompt||"",onChange:function(e){return s("prompt",e.target.value)},placeholder:"generate"===n.mode?"Instructions for generating tags...":"Instructions for selecting from existing tags...",rows:2}),("generate"===n.mode||"auto_select"===n.mode)&&(0,Ne.jsx)(lr,{label:"Model",tooltip:"OpenRouter model used to generate or auto-select tags.",value:n.model_id||"",onChange:function(e){return s("model_id",e.target.value)},filter:"text"})]})}function Do(e){return Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(e)}function Ro(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(r),!0).forEach((function(t){zo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ro(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zo(e,t,r){return(t=function(e){var t=function(e){if("object"!=Do(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Do(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Do(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Bo(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Uo=[{value:"manual",label:"Manual Selection"},{value:"generate",label:"Generate Based on Article"},{value:"auto_select",label:"Auto Select from Existing"}];function Go(e){var t,r,n,o=e.config,a=e.onChange,i=e.taxonomies,l=i&&Object.keys(i).length>0?i:null!==(t=$t())&&void 0!==t?t:{},s=Object.entries(l).filter((function(e){var t=Fo(e,1)[0];return!["category","post_tag"].includes(t)})).map((function(e){var t=Fo(e,2),r=t[0];return{value:r,label:(t[1].label||r).replace(/&amp;/g,"&")}})),c=function(e,t){a(Mo(Mo({},o),{},zo({},e,t)))},u=(o.taxonomy&&Array.isArray(null==l||null===(r=l[o.taxonomy])||void 0===r?void 0:r.terms)?l[o.taxonomy].terms:[]).map((function(e){var t;return{value:e.slug||(null===(t=e.term_id)||void 0===t?void 0:t.toString()),label:(e.name||"").replace(/&amp;/g,"&")}}));return(0,Ne.jsxs)("div",{className:"space-y-4",children:[(0,Ne.jsx)(ot,{label:"Taxonomy",tooltip:"Choose a custom taxonomy to manage for this campaign.",options:s,value:o.taxonomy||"",onChange:function(e){return c("taxonomy",e.target.value)},placeholder:"Select a taxonomy..."}),o.taxonomy&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(ot,{label:"Mode",tooltip:"Manual: pick terms. Generate: create new. Auto-select: choose from existing.",options:Uo,value:o.mode||"manual",onChange:function(e){return c("mode",e.target.value)}}),"manual"===o.mode&&(0,Ne.jsx)(at,{label:"Select ".concat((null==l||null===(n=l[o.taxonomy])||void 0===n?void 0:n.label)||"Terms"),tooltip:"Choose specific terms to assign.",options:u,value:o.selected||[],onChange:function(e){return c("selected",e)},placeholder:"Choose terms..."}),("generate"===o.mode||"auto_select"===o.mode)&&(0,Ne.jsx)(Ye,{label:"generate"===o.mode?"Number of Terms to Generate":"Number of Terms to Auto-Select",tooltip:"How many terms to return for this post.",type:"number",min:"1",value:o.term_count||3,onChange:function(e){return c("term_count",Math.max(1,parseInt(e.target.value)||1))}}),("generate"===o.mode||"auto_select"===o.mode)&&(0,Ne.jsx)(Je,{label:"Additional Instruction",tooltip:"Optional instructions to guide term selection.",value:o.prompt||"",onChange:function(e){return c("prompt",e.target.value)},placeholder:"generate"===o.mode?"Instructions for generating terms...":"Instructions for selecting from existing terms...",rows:2}),("generate"===o.mode||"auto_select"===o.mode)&&(0,Ne.jsx)(lr,{label:"Model",tooltip:"OpenRouter model used to generate or auto-select terms.",value:o.model_id||"",onChange:function(e){return c("model_id",e.target.value)},filter:"text"})]})]})}function Wo(e){return Wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(e)}function qo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ho(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(r),!0).forEach((function(t){Vo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vo(e,t,r){return(t=function(e){var t=function(e){if("object"!=Wo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Wo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Wo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $o(e){var t=e.config,r=e.onChange,n=function(e,n){r(Ho(Ho({},t),{},Vo({},e,n)))};return(0,Ne.jsxs)("div",{className:"space-y-4",children:[(0,Ne.jsx)(Ye,{label:"Meta Key",tooltip:"WordPress meta key to store the generated value.",value:t.meta_key||"",onChange:function(e){return n("meta_key",e.target.value)},placeholder:"e.g., _seo_description, custom_meta_key",required:!0}),(0,Ne.jsx)(Je,{label:"Generation Prompt",tooltip:"Instructions for generating the custom field value.",value:t.prompt||"",onChange:function(e){return n("prompt",e.target.value)},placeholder:"Instructions for generating this field's value...",rows:2,required:!0}),(0,Ne.jsx)(ot,{label:"Prompt Context",tooltip:"Context included when generating this field.",options:[{value:"article",label:"Articles"},{value:"topic",label:"Topic"},{value:"article_and_topic",label:"Article and topic"},{value:"research_content",label:"Research Content"},{value:"none",label:"None"}],value:t.prompt_context||"article_and_topic",onChange:function(e){return n("prompt_context",e.target.value)},required:!0}),(0,Ne.jsx)(lr,{label:"Model",tooltip:"OpenRouter model used to generate this custom field.",value:t.model_id||"",onChange:function(e){return n("model_id",e.target.value)},filter:"text"})]})}function Yo(e){return Yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yo(e)}function Jo(e){return function(e){if(Array.isArray(e))return na(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ra(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ko(){Ko=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),l=new L(n||[]);return o(i,"_invoke",{value:O(e,r,l)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var x={};c(x,i,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==r&&n.call(j,i)&&(x=j);var k=b.prototype=g.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,i,l){var s=d(e[o],e,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Yo(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,l)}))}l(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function O(t,r,n){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var s=N(l,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?m:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function N(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,N(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Yo(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},_(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(k),c(k,s,"Generator"),c(k,i,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Zo(e,t,r,n,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function Qo(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Zo(a,n,o,i,l,"next",e)}function l(e){Zo(a,n,o,i,l,"throw",e)}i(void 0)}))}}function Xo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xo(Object(r),!0).forEach((function(t){ta(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ta(e,t,r){return(t=function(e){var t=function(e){if("object"!=Yo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Yo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yo(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ra(e,t){if(e){if("string"==typeof e)return na(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?na(e,t):void 0}}function na(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var oa=[{value:"generate_from_article",label:"Generate from Article"},{value:"generate_from_dt",label:"Generate from DT (Design Template)"}],aa=[{value:"960x768",label:"960768 (5:4)"},{value:"1024x640",label:"1024640 (8:5)"},{value:"1024x768",label:"1024768 (4:3)"},{value:"1152x768",label:"1152768 (3:2)"},{value:"1280x704",label:"1280704 (20:11)"},{value:"1344x768",label:"1344768 (16:9)"},{value:"768x1344",label:"7681344 (9:16)"},{value:"1024x1024",label:"10241024 (1:1)"}],ia=[{value:"none",label:"None"},{value:"photo",label:"Photo"},{value:"cartoon",label:"Cartoon"},{value:"cubism",label:"Cubism"},{value:"expressionism",label:"Expressionism"},{value:"cyberpunk",label:"Cyberpunk"},{value:"fantasy",label:"Fantasy"},{value:"cinematic",label:"Cinematic"},{value:"abstract",label:"Abstract"},{value:"impressionism",label:"Impressionism"},{value:"surrealism",label:"Surrealism"},{value:"anime",label:"Anime"},{value:"comic_book",label:"Comic Book"}];function la(e){var t,r,n=e.config,o=e.onChange,i=(t=(0,a.useState)({}),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(t,r)||ra(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=i[0],s=i[1],c=function(e,t){o(ea(ea({},n),{},ta({},e,t)))};return(0,a.useEffect)((function(){var e,t=!0,r=(n.background_images||[]).filter(Boolean);if(r.length&&null!==(e=window.wp)&&void 0!==e&&null!==(e=e.media)&&void 0!==e&&e.attachment){var o=function(){var e=Qo(Ko().mark((function e(){var n;return Ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,Promise.all(r.map(function(){var e=Qo(Ko().mark((function e(t){var r,o,a,i,l,s;return Ko().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Number(t)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,i=window.wp.media.attachment(r),e.next=7,i.fetch();case 7:l=i.attributes||{},(s=(null==l||null===(o=l.sizes)||void 0===o||null===(o=o.thumbnail)||void 0===o?void 0:o.url)||(null==l||null===(a=l.sizes)||void 0===a||null===(a=a.medium)||void 0===a?void 0:a.url)||(null==l?void 0:l.url)||"")&&(n[r]=s),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(3);case 14:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(_x){return e.apply(this,arguments)}}()));case 3:t&&s(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o(),function(){t=!1}}s({})}),[n.background_images]),(0,Ne.jsxs)("div",{className:"space-y-4",children:[(0,Ne.jsx)(ot,{label:"Mode",tooltip:"Choose how the featured image is produced.",options:oa,value:n.mode||"generate_from_article",onChange:function(e){return c("mode",e.target.value)}}),"generate_from_article"===n.mode&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,Ne.jsx)(ot,{label:"Image Size",tooltip:"The aspect ratio and resolution for the generated image.",options:aa,value:n.image_size||"1344x768",onChange:function(e){return c("image_size",e.target.value)}}),(0,Ne.jsx)(ot,{label:"Image Style",tooltip:"The visual style for the generated image.",options:ia,value:n.image_style||"none",onChange:function(e){return c("image_style",e.target.value)}})]}),(0,Ne.jsx)(Je,{label:"Additional Instruction",tooltip:"Extra guidance for the image generation.",value:n.prompt||"",onChange:function(e){return c("prompt",e.target.value)},placeholder:"Instructions for generating the featured image...",rows:2}),(0,Ne.jsx)(lr,{label:"Image Model",tooltip:"OpenRouter image model used for featured image generation.",value:n.model_id||"",onChange:function(e){return c("model_id",e.target.value)},filter:"image"})]}),"generate_from_dt"===n.mode&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)(Ye,{label:"Template ID",tooltip:"ID of the design template used by the image generator.",value:n.template_id||"",onChange:function(e){return c("template_id",e.target.value)},placeholder:"Design template ID"}),(0,Ne.jsx)(Ye,{label:"Category Text",tooltip:"Text displayed as the category label on the image.",value:n.category_text||"",onChange:function(e){return c("category_text",e.target.value)},placeholder:"Category label for the image"}),(0,Ne.jsx)(Ye,{label:"Main Text",tooltip:"Main headline text for the image. Supports placeholders like {{title}}.",value:n.main_text||"",onChange:function(e){return c("main_text",e.target.value)},placeholder:"{{title}} or custom text"}),(0,Ne.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:[(0,Ne.jsx)("span",{children:"Category Color"}),(0,Ne.jsx)(ze,{content:"Color used for the category label on the image."})]}),(0,Ne.jsx)("input",{type:"color",value:n.category_color||"#000000",onChange:function(e){return c("category_color",e.target.value)},className:"poststation-field-color"})]}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:[(0,Ne.jsx)("span",{children:"Title Color"}),(0,Ne.jsx)(ze,{content:"Color used for the main text on the image."})]}),(0,Ne.jsx)("input",{type:"color",value:n.title_color||"#000000",onChange:function(e){return c("title_color",e.target.value)},className:"poststation-field-color"})]})]}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ne.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700",children:[(0,Ne.jsxs)("span",{children:["Background Images (",(n.background_images||[]).length,"/15)"]}),(0,Ne.jsx)(ze,{content:"Optional list of background images used by the generator."})]}),(0,Ne.jsx)("button",{type:"button",onClick:function(){var e;if(null!==(e=window.wp)&&void 0!==e&&e.media){var t=window.wp.media({title:"Select Background Image",button:{text:"Select"},multiple:!0});t.on("select",(function(){var e=t.state().get("selection").toJSON().map((function(e){return e.id})),r=n.background_images||[];c("background_images",[].concat(Jo(r),Jo(e)).slice(0,15))})),t.open()}},disabled:(n.background_images||[]).length>=15,className:"px-2 py-1 text-xs border border-indigo-200 text-indigo-700 rounded hover:bg-indigo-50 disabled:opacity-50",children:"Add Images"})]}),(n.background_images||[]).length>0?(0,Ne.jsx)("div",{className:"flex flex-wrap gap-2",children:(n.background_images||[]).map((function(e,t){return(0,Ne.jsxs)("div",{className:"relative w-16 h-16 bg-gray-100 rounded border border-gray-200 overflow-hidden flex items-center justify-center",children:[l[Number(e)]?(0,Ne.jsx)("img",{src:l[Number(e)],alt:"Background ".concat(e),className:"w-full h-full object-cover"}):(0,Ne.jsxs)("span",{className:"text-xs text-gray-500",children:["#",e]}),(0,Ne.jsx)("button",{type:"button",onClick:function(){return function(e){var t=Jo(n.background_images||[]);t.splice(e,1),c("background_images",t)}(t)},className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:""})]},t)}))}):(0,Ne.jsx)("p",{className:"text-sm text-gray-500",children:"No background images selected"})]})]})]})}function sa(e){return function(e){if(Array.isArray(e))return da(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ua(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ca(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||ua(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){if(e){if("string"==typeof e)return da(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?da(e,t):void 0}}function da(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function pa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pa(Object(r),!0).forEach((function(t){ha(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ha(e,t,r){return(t=function(e){var t=function(e){if("object"!=ma(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ma(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ma(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ma(e){return ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ma(e)}var va=[{value:"slug",label:"Slug"},{value:"categories",label:"Categories"},{value:"tags",label:"Tags"},{value:"custom_tax",label:"Custom Taxonomy"},{value:"custom_field",label:"Custom Field"},{value:"image",label:"Featured Image"}],ga=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(null==e?void 0:e.openrouter_default_text_model)||"",r=(null==e?void 0:e.openrouter_default_image_model)||"";return{title:{enabled:!0,mode:"generate",prompt:""},slug:{enabled:!0,mode:"generate",prompt:""},body:{enabled:!0,mode:"single_prompt",prompt:"",model_id:t,media_prompt:"",image_model_id:r,disable_intelligence_analysis:!1,disable_outline:!1},categories:{enabled:!1,mode:"manual",prompt:"",model_id:t,selected:[]},tags:{enabled:!1,mode:"generate",prompt:"",model_id:t,selected:[]},custom_taxonomies:[],custom_fields:[],image:{enabled:!1,mode:"generate_from_article",prompt:"",model_id:r,image_size:"1344x768",image_style:"none",template_id:"",category_text:"",main_text:"",category_color:"#000000",title_color:"#000000",background_images:[]}}};function ya(e){var t,r,n,o,i,l,s,c,u,d=e.campaign,p=e.onChange,f=e.taxonomies,h=ca((0,a.useState)(""),2),m=h[0],v=h[1],g=ca((0,a.useState)(null),2),y=g[0],b=g[1],x=f&&Object.keys(f).length>0?f:null!==(t=$t())&&void 0!==t?t:{},w=Yt(),j=(null==w?void 0:w.openrouter_default_text_model)||"",k=function(e){var t,r,n,o,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,l=ga(i),s=e&&"object"===ma(e)?e:{},c=(null==i?void 0:i.openrouter_default_text_model)||"",u=(null==i?void 0:i.openrouter_default_image_model)||"",d=function(e,t){return e&&""!==String(e).trim()?e:t};return fa(fa(fa({},l),s),{},{title:fa(fa(fa({},l.title),s.title||{}),{},{mode:"generate"}),slug:fa(fa(fa({},l.slug),s.slug||{}),{},{mode:"generate"}),body:fa(fa(fa({},l.body),s.body||{}),{},{model_id:d(null==s||null===(t=s.body)||void 0===t?void 0:t.model_id,c),image_model_id:d(null==s||null===(r=s.body)||void 0===r?void 0:r.image_model_id,u)}),categories:fa(fa(fa({},l.categories),s.categories||{}),{},{model_id:d(null==s||null===(n=s.categories)||void 0===n?void 0:n.model_id,c)}),tags:fa(fa(fa({},l.tags),s.tags||{}),{},{model_id:d(null==s||null===(o=s.tags)||void 0===o?void 0:o.model_id,c)}),image:fa(fa(fa({},l.image),s.image||{}),{},{model_id:d(null==s||null===(a=s.image)||void 0===a?void 0:a.model_id,u)}),custom_taxonomies:Array.isArray(s.custom_taxonomies)?s.custom_taxonomies.map((function(e,t){return fa(fa({id:"custom_tax_".concat(t),taxonomy:"",mode:"manual",prompt:"",model_id:c,selected:[]},e||{}),{},{model_id:d(null==e?void 0:e.model_id,c)})})):[],custom_fields:Array.isArray(s.custom_fields)?s.custom_fields.map((function(e,t){return fa(fa({id:"custom_field_".concat(t),meta_key:"",prompt:"",prompt_context:"article_and_topic",model_id:c},e||{}),{},{model_id:d(null==e?void 0:e.model_id,c)})})):[]})}(d.content_fields?"string"==typeof d.content_fields?JSON.parse(d.content_fields):d.content_fields:ga(w),w),_=function(e){p(fa(fa({},d),{},{content_fields:JSON.stringify(e)}))},S=function(e,t){var r=fa({},k);r[e]=t,_(r)},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=fa({},k);"custom_taxonomies"===e&&null!==t?r.custom_taxonomies=r.custom_taxonomies.filter((function(e,r){return r!==t})):"custom_fields"===e&&null!==t?r.custom_fields=r.custom_fields.filter((function(e,r){return r!==t})):"title"!==e&&"body"!==e&&(r[e]=fa(fa({},r[e]),{},{enabled:!1})),"image"===e&&p(fa(fa({},d),{},{clear_image_overrides:!0})),_(r)},N=function(e){b(y===e?null:e)},E=va.filter((function(e){var t;return!!["custom_tax","custom_field"].includes(e.value)||!(null!==(t=k[e.value])&&void 0!==t&&t.enabled)}));return(0,Ne.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,Ne.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Content Fields"}),(0,Ne.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,Ne.jsx)(ot,{tooltip:"Choose a content field to configure for this campaign.",options:E,value:m,onChange:function(e){return v(e.target.value)},placeholder:"Select field type to add...",className:"flex-1"}),(0,Ne.jsx)(De,{onClick:function(){if(m){var e,t=fa({},k);"title"===m||"slug"===m||"body"===m||"categories"===m||"tags"===m||"image"===m?(null!==(e=t[m])&&void 0!==e&&e.enabled||(t[m]=fa(fa({},t[m]),{},{enabled:!0}),_(t)),b(m)):"custom_tax"===m?(t.custom_taxonomies=[].concat(sa(t.custom_taxonomies||[]),[{id:Date.now(),taxonomy:"",mode:"manual",prompt:"",model_id:j,selected:[]}]),_(t),b("custom_tax_".concat(t.custom_taxonomies.length-1))):"custom_field"===m&&(t.custom_fields=[].concat(sa(t.custom_fields||[]),[{id:Date.now(),meta_key:"",prompt:"",prompt_context:"article_and_topic",model_id:j}]),_(t),b("custom_field_".concat(t.custom_fields.length-1))),v("")}},disabled:!m,className:"w-full sm:w-auto",children:"Add"})]}),(0,Ne.jsxs)("div",{className:"space-y-3",children:[(null===(r=k.title)||void 0===r?void 0:r.enabled)&&(0,Ne.jsx)(ba,{title:"Title",isExpanded:"title"===y,onToggle:function(){return N("title")},canRemove:!1,children:(0,Ne.jsx)(co,{config:k.title,onChange:function(e){return S("title",e)}})}),(null===(n=k.slug)||void 0===n?void 0:n.enabled)&&(0,Ne.jsx)(ba,{title:"Slug",isExpanded:"slug"===y,onToggle:function(){return N("slug")},onRemove:function(){return O("slug")},children:(0,Ne.jsx)(vo,{config:k.slug,onChange:function(e){return S("slug",e)}})}),(null===(o=k.body)||void 0===o?void 0:o.enabled)&&(0,Ne.jsx)(ba,{title:"Body",isExpanded:"body"===y,onToggle:function(){return N("body")},canRemove:!1,children:(0,Ne.jsx)(jo,{config:k.body,onChange:function(e){return S("body",e)},campaignType:(null==d?void 0:d.campaign_type)||"default"})}),(null===(i=k.categories)||void 0===i?void 0:i.enabled)&&(0,Ne.jsx)(ba,{title:"Categories",isExpanded:"categories"===y,onToggle:function(){return N("categories")},onRemove:function(){return O("categories")},children:(0,Ne.jsx)(Eo,{config:k.categories,onChange:function(e){return S("categories",e)},taxonomies:x})}),(null===(l=k.tags)||void 0===l?void 0:l.enabled)&&(0,Ne.jsx)(ba,{title:"Tags",isExpanded:"tags"===y,onToggle:function(){return N("tags")},onRemove:function(){return O("tags")},children:(0,Ne.jsx)(Io,{config:k.tags,onChange:function(e){return S("tags",e)},taxonomies:x})}),(k.custom_taxonomies||[]).map((function(e,t){return(0,Ne.jsx)(ba,{title:"Custom Taxonomy".concat(e.taxonomy?": ".concat(e.taxonomy):""),isExpanded:y==="custom_tax_".concat(t),onToggle:function(){return N("custom_tax_".concat(t))},onRemove:function(){return O("custom_taxonomies",t)},children:(0,Ne.jsx)(Go,{config:e,onChange:function(e){return function(e,t){var r=fa({},k);r.custom_taxonomies[e]=t,_(r)}(t,e)},taxonomies:x})},e.id||t)})),(k.custom_fields||[]).map((function(e,t){return(0,Ne.jsx)(ba,{title:"Custom Field".concat(e.meta_key?": ".concat(e.meta_key):""),isExpanded:y==="custom_field_".concat(t),onToggle:function(){return N("custom_field_".concat(t))},onRemove:function(){return O("custom_fields",t)},children:(0,Ne.jsx)($o,{config:e,onChange:function(e){return function(e,t){var r=fa({},k);r.custom_fields[e]=t,_(r)}(t,e)}})},e.id||t)})),(null===(s=k.image)||void 0===s?void 0:s.enabled)&&(0,Ne.jsx)(ba,{title:"Featured Image",isExpanded:"image"===y,onToggle:function(){return N("image")},onRemove:function(){return O("image")},children:(0,Ne.jsx)(la,{config:k.image,onChange:function(e){return S("image",e)}})})]}),!(null!==(c=k.title)&&void 0!==c&&c.enabled)&&!(null!==(u=k.body)&&void 0!==u&&u.enabled)&&(0,Ne.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,Ne.jsx)("p",{children:"No content fields configured. Add Title and Body to get started."})})]})}function ba(e){var t=e.title,r=e.isExpanded,n=e.onToggle,o=e.onRemove,a=e.canRemove,i=void 0===a||a,l=e.children;return(0,Ne.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,Ne.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 cursor-pointer hover:bg-gray-100",onClick:n,children:[(0,Ne.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ne.jsx)("svg",{className:"w-4 h-4 text-gray-400 transition-transform ".concat(r?"rotate-90":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),(0,Ne.jsx)("span",{className:"font-medium text-gray-900",children:t})]}),i&&o&&(0,Ne.jsx)("button",{onClick:function(e){e.stopPropagation(),o()},className:"text-sm text-red-600 hover:text-red-800",children:"Remove"})]}),r&&(0,Ne.jsx)("div",{className:"px-4 py-4 bg-white border-t border-gray-200",children:l})]})}function xa(e){return xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xa(e)}function wa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ja(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ja(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ka=new Map,_a=[{value:"default",label:"Default"},{value:"listicle",label:"Listicle"},{value:"rewrite_blog_post",label:"Rewrite Blog Post"}];function Sa(e){var t,r,n,o,i,l=e.task,s=e.campaign,c=e.onChange,u="processing"===l.status,d=wa((0,a.useState)((function(){var e=Number(null==l?void 0:l.feature_image_id);return e&&ka.get(e)||""})),2),p=d[0],f=d[1],h=wa((0,a.useState)(!1),2),m=h[0],v=h[1],g=wa((0,a.useState)(!l.slug_override||""===l.slug_override.trim()),2),y=g[0],b=g[1],x=function(e,t){if(!u){var r=(s={},p=t,(d=function(e){var t=function(e){if("object"!=xa(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=xa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xa(t)?t:t+""}(d=e))in s?Object.defineProperty(s,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[d]=p,s);if("slug_override"===e){var n=!t||""===t.trim();b(n),r.slug_override=t.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trimStart()}if("title_override"===e&&y&&(r.slug_override=t.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()),"publication_mode"===e){var o,a=Gn();if("schedule_date"!==t||(null!==(o=l.publication_date)&&void 0!==o?o:"").trim()||(r.publication_date=Wn()),"publish_randomly"===t){var i=l.publication_random_from||a;r.publication_random_from=i,r.publication_random_to=l.publication_random_to||qn(30,i)}}c(r)}var s,d,p},w=l.campaign_type||(null==s?void 0:s.campaign_type)||"default",j=null!=s&&s.content_fields?"string"==typeof s.content_fields?JSON.parse(s.content_fields):s.content_fields:{},k=(null==j?void 0:j.image)||null,_=(null==k?void 0:k.mode)||"generate_from_article",S=Boolean((null==k?void 0:k.enabled)&&"generate_from_dt"===_);return(0,a.useEffect)((function(){var e,t=!0,r=Number(l.feature_image_id);if(!r||null===(e=window.wp)||void 0===e||null===(e=e.media)||void 0===e||!e.attachment)return f(""),void v(!1);var n=ka.get(r);if(n)return f(n),void v(!1);v(!0);var o=window.wp.media.attachment(r);return o.fetch().then((function(){var e,n;if(t){var a=o.attributes||{},i=(null==a||null===(e=a.sizes)||void 0===e||null===(e=e.thumbnail)||void 0===e?void 0:e.url)||(null==a||null===(n=a.sizes)||void 0===n||null===(n=n.medium)||void 0===n?void 0:n.url)||(null==a?void 0:a.url)||"";ka.set(r,i),f(i),v(!1)}})).catch((function(){t&&(f(""),v(!1))})),function(){t=!1}}),[l.feature_image_id]),(0,Ne.jsxs)("div",{className:"space-y-3 ".concat(u?"opacity-75":""),children:[(0,Ne.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-[220px_1fr] gap-3",children:[(0,Ne.jsx)(ot,{label:"Campaign Type",tooltip:"Overrides the campaign type for this post task only.",options:_a,value:w,onChange:function(e){return x("campaign_type",e.target.value)},className:"min-w-0",disabled:u,variant:"floating"}),"rewrite_blog_post"!==w?(0,Ne.jsx)(Ye,{label:"Topic / Keyword",tooltip:"Topic or keyword you want to write about.",value:null!==(t=l.topic)&&void 0!==t?t:"",onChange:function(e){return t=e.target.value,void x("topic",t);var t},required:!0,disabled:u,variant:"floating"}):(0,Ne.jsx)(Ye,{label:"Research URL",tooltip:"Source URL for rewrite mode. Content is based on this article.",value:l.research_url||"",onChange:function(e){return x("research_url",e.target.value)},required:!0,disabled:u,variant:"floating"})]}),(0,Ne.jsx)(Ye,{label:"Keywords",tooltip:"Comma-separated keywords for this task (e.g. for generation or SEO).",placeholder:"e.g. coffee, london, guide",value:null!==(r=l.keywords)&&void 0!==r?r:"",onChange:function(e){return x("keywords",e.target.value)},disabled:u,variant:"floating"}),(0,Ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,Ne.jsx)(Ye,{label:"Title Override (Optional)",tooltip:"If set, campaign title generation is disabled for this task and this value is sent to the webhook.",value:null!==(n=l.title_override)&&void 0!==n?n:"",onChange:function(e){return x("title_override",e.target.value)},disabled:u,variant:"floating"}),(0,Ne.jsx)(Ye,{label:"Slug Override (Optional)",tooltip:"If set, campaign slug generation is disabled for this task and this value is sent to the webhook.",value:null!==(o=l.slug_override)&&void 0!==o?o:"",onChange:function(e){return x("slug_override",e.target.value)},disabled:u,variant:"floating"})]}),(0,Ne.jsxs)("div",{className:"space-y-3",children:[(0,Ne.jsx)(ot,{label:"Publication",tooltip:"Overrides campaign publication behavior for this task.",options:Fn,value:l.publication_mode||(null==s?void 0:s.publication_mode)||"pending_review",onChange:function(e){return x("publication_mode",e.target.value)},disabled:u,variant:"floating"}),"schedule_date"===(l.publication_mode||(null==s?void 0:s.publication_mode)||"pending_review")&&(0,Ne.jsx)(Ye,{label:"Publication Date & Time",type:"datetime-local",value:(i=l.publication_date||Wn(),i?String(i).replace(" ","T").slice(0,16):""),onChange:function(e){return x("publication_date",e.target.value)},min:Wn(),required:!0,disabled:u,variant:"floating"}),"publish_randomly"===(l.publication_mode||(null==s?void 0:s.publication_mode)||"pending_review")&&(0,Ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,Ne.jsx)(Ye,{label:"Random Publish From",type:"date",value:l.publication_random_from||Gn(),onChange:function(e){var t=e.target.value,r={publication_random_from:t},n=l.publication_random_to||"";(!n||n<t)&&(r.publication_random_to=qn(30,t)),c(r)},min:Gn(),required:!0,disabled:u,variant:"floating"}),(0,Ne.jsx)(Ye,{label:"Random Publish To",type:"date",value:l.publication_random_to||qn(30,l.publication_random_from||Gn()),onChange:function(e){return x("publication_random_to",e.target.value)},min:l.publication_random_from||Gn(),required:!0,disabled:u,variant:"floating"}),(0,Ne.jsx)("p",{className:"md:col-span-2 text-xs text-gray-500",children:"Post will randomly select a publish date within the set range."})]})]}),(0,Ne.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[S&&(0,Ne.jsx)(Ye,{label:"Featured Image Title (Override)",tooltip:"Overrides the title used when generating the featured image.",value:l.feature_image_title||"",onChange:function(e){return x("feature_image_title",e.target.value)},disabled:u,variant:"floating"}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-1",children:[(0,Ne.jsx)("span",{children:"Featured Image (Override)"}),(0,Ne.jsx)(ze,{content:"Select a specific image to use instead of the generated image."})]}),l.feature_image_id?(0,Ne.jsxs)("div",{className:"flex items-center gap-3",children:[p?(0,Ne.jsx)("img",{src:p,alt:"Featured override preview",className:"w-12 h-12 rounded object-cover border border-gray-200"}):m?(0,Ne.jsx)("div",{className:"w-12 h-12 rounded bg-gray-100 border border-gray-200 flex items-center justify-center",children:(0,Ne.jsxs)("svg",{className:"w-5 h-5 animate-spin text-gray-400",fill:"none",viewBox:"0 0 24 24",children:[(0,Ne.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ne.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):(0,Ne.jsxs)("div",{className:"w-12 h-12 rounded bg-gray-100 border border-gray-200 flex items-center justify-center text-xs text-gray-500",children:["#",l.feature_image_id]}),(0,Ne.jsxs)("span",{className:"text-sm text-gray-600",children:["Image ID: ",l.feature_image_id]}),!u&&(0,Ne.jsx)("button",{type:"button",onClick:function(){return x("feature_image_id",null)},className:"text-sm text-red-600 hover:text-red-900",children:"Remove"})]}):(0,Ne.jsx)("button",{type:"button",disabled:u,onClick:function(){var e;if(null!==(e=window.wp)&&void 0!==e&&e.media){var t=window.wp.media({title:"Select Featured Image",button:{text:"Select"},multiple:!1});t.on("select",(function(){var e,r,n=t.state().get("selection").first().toJSON(),o=(null===(e=n.sizes)||void 0===e||null===(e=e.thumbnail)||void 0===e?void 0:e.url)||(null===(r=n.sizes)||void 0===r||null===(r=r.medium)||void 0===r?void 0:r.url)||n.url||"";o&&ka.set(n.id,o),f(o),x("feature_image_id",n.id)})),t.open()}},className:"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Select Image"})]})]})]})}function Oa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Na(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Na(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Na(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ea=[{value:"",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"processing",label:"Processing"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"}];function Ca(e){var t=e.tasks,r=e.campaign,n=e.onAddTask,o=e.onUpdateTask,i=e.onDeleteTask,l=e.onDuplicateTask,s=e.onRunTask,c=e.retryingTaskId,u=e.onRetryFailedTasks,d=e.retryFailedLoading,p=e.onImportTasks,f=e.onClearCompleted,h=e.loading,m=void 0!==h&&h,v=e.importLoading,g=void 0!==v&&v,y=e.clearCompletedLoading,b=void 0!==y&&y,x=e.deletingTaskIds,w=void 0===x?[]:x,j=Oa((0,a.useState)(""),2),k=j[0],_=j[1],S=Oa((0,a.useState)(null),2),O=S[0],N=S[1],E=Oa((0,a.useState)(!1),2),C=E[0],L=E[1],P=(0,a.useRef)(null),A=(0,a.useRef)(null),T=k?t.filter((function(e){return e.status===k})):t;return(0,a.useEffect)((function(){var e=function(e){var t;null!==(t=A.current)&&void 0!==t&&t.contains(e.target)||L(!1)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[]),(0,Ne.jsxs)("div",{className:"space-y-4",children:[(0,Ne.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-3",children:[(0,Ne.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 flex-1",children:[(0,Ne.jsx)("h3",{className:"text-lg font-medium text-gray-900 pb-2",children:"Post Tasks"}),(0,Ne.jsx)(ot,{options:Ea,value:k,onChange:function(e){return _(e.target.value)},placeholder:""})]}),(0,Ne.jsxs)("div",{className:"flex items-center gap-2 shrink-0",children:[(0,Ne.jsx)("input",{ref:P,type:"file",accept:".json",className:"hidden",onChange:function(e){var t,r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&p(r),e.target.value=""}}),(0,Ne.jsx)(De,{size:"sm",onClick:n,loading:m,className:"w-full sm:w-auto h-10",children:"Add Post Task"}),(0,Ne.jsxs)("div",{className:"relative",ref:A,children:[(0,Ne.jsx)("button",{type:"button",onClick:function(){return L((function(e){return!e}))},className:"h-10 w-10 inline-flex items-center justify-center border border-gray-300 rounded-md text-gray-600 hover:bg-gray-50","aria-label":"Task actions","aria-expanded":C,children:(0,Ne.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),C&&(0,Ne.jsxs)("div",{className:"absolute right-0 mt-1 w-52 bg-white border border-gray-200 rounded-md shadow-lg z-20 py-1",children:[(0,Ne.jsx)("button",{type:"button",onClick:function(){u(),L(!1)},disabled:d||!t.some((function(e){return"failed"===e.status})),className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Retry Failed"}),(0,Ne.jsx)("button",{type:"button",onClick:function(){f(),L(!1)},disabled:b||!t.some((function(e){return"completed"===e.status})),className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Clear Completed"}),(0,Ne.jsx)("button",{type:"button",onClick:function(){var e;null===(e=P.current)||void 0===e||e.click(),L(!1)},disabled:g,className:"w-full text-left px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Import Post Tasks"})]})]})]})]}),0===T.length?(0,Ne.jsx)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:(0,Ne.jsx)("p",{className:"text-gray-500",children:k?"No post tasks match this filter":"No post tasks yet. Add your first post task to get started."})}):(0,Ne.jsx)("div",{className:"space-y-2",children:T.map((function(e){return(0,Ne.jsx)(La,{task:e,campaign:r,retryingTaskId:c,isExpanded:O===e.id,onToggle:function(){return N(O===e.id?null:e.id)},onUpdate:function(t){return o(e.id,t)},onDelete:function(){return i(e.id)},onDuplicate:function(){return l(e.id)},onRun:function(){return s(e.id)},isDeleting:w.some((function(t){return String(t)===String(e.id)}))},e.id)}))})]})}function La(e){var t,r,n,o,a,i,l=e.task,s=e.campaign,c=e.retryingTaskId,u=e.isExpanded,d=e.onToggle,p=e.onUpdate,f=e.onDelete,h=e.onDuplicate,m=e.onRun,v=e.isDeleting,g=void 0!==v&&v,y=function(e){if(!e)return"";var t=new Date(String(e).replace(" ","T"));return Number.isNaN(t.getTime())?String(e):t.toLocaleString()},b=xt().admin_url||"",x=null!==(t=l.topic)&&void 0!==t?t:"",w=null!==(r=l.research_url)&&void 0!==r?r:"",j=l.campaign_type||(null==s?void 0:s.campaign_type)||"default",k="rewrite_blog_post"===j,_=!!l.post_id,S=k?(w||"").replace(/^https?:\/\//i,""):x||"No Topic",O=!!_&&(l.post_title||l.title_override||x||"Post"),N={default:"Default",listicle:"Listicle",rewrite_blog_post:"Rewrite"}[j]||"Default",E=l.publication_mode||(null==s?void 0:s.publication_mode)||"pending_review",C=Bn[E]||"Pending Review",L="future"===l.wp_post_status||"schedule_date"===E||"publish_randomly"===E,P=L?"Scheduled for":"Published on",A=l.scheduled_publication_date||l.post_date||"";return(0,Ne.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[(0,Ne.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between px-3 py-2 sm:px-4 sm:py-3 bg-white hover:bg-gray-50 cursor-pointer gap-2",onClick:d,children:[(0,Ne.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[(0,Ne.jsx)("button",{className:"text-gray-400 shrink-0",children:(0,Ne.jsx)("svg",{className:"w-5 h-5 transition-transform ".concat(u?"rotate-90":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),(0,Ne.jsxs)("div",{className:"flex flex-col min-w-0 flex-1",children:[(0,Ne.jsxs)("div",{className:"text-[10px] font-medium text-gray-400 shrink-0",children:["#",l.id,(0,Ne.jsx)("span",{className:"mx-2 text-gray-600 font-medium",children:""}),(0,Ne.jsx)("span",{className:"text-gray-600",children:N}),"completed"!==l.status&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("span",{className:"mx-2 text-gray-600 font-medium",children:""}),(0,Ne.jsx)("span",{className:"text-gray-600",children:C})]}),"completed"===l.status&&A&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("span",{className:"mx-2 text-gray-600 font-medium",children:""}),(0,Ne.jsxs)("span",{className:"inline-flex items-center gap-1 leading-none m-0 p-0 font-medium ".concat(L?"text-amber-700":"text-gray-900"),children:[L&&(0,Ne.jsx)("svg",{className:"w-3 h-2 leading-none m-0 p-0 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",title:"Scheduled post date/time",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10m-11 9h12a2 2 0 002-2V7a2 2 0 00-2-2H6a2 2 0 00-2 2v11a2 2 0 002 2z"})}),!L&&(0,Ne.jsx)("svg",{className:"w-3 h-2 leading-none m-0 p-0 shrink-0 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",title:"Published post date/time",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Ne.jsx)("span",{className:"truncate",children:y(A)})]})]}),(0,Ne.jsx)("span",{className:"mx-2 text-gray-600 font-medium",children:""}),(0,Ne.jsx)(Or,{status:l.status})]}),(0,Ne.jsxs)("div",{className:"flex items-center gap-2 mt-0.5 min-w-0",children:[(0,Ne.jsx)("span",{className:"text-[14px] font-semibold text-gray-900 truncate max-w-[200px] sm:max-w-md",children:S}),null!==l.progress&&void 0!==l.progress&&"completed"!==l.status&&(0,Ne.jsx)("span",{className:"text-[10px] text-indigo-600 font-medium bg-indigo-50 px-1.5 py-0.5 rounded border border-indigo-100 italic truncate max-w-[120px]",children:String(l.progress)})]}),O&&(0,Ne.jsxs)("div",{className:"flex items-center gap-1 text-[11px] text-gray-500 truncate mt-0.5",children:[(0,Ne.jsx)("svg",{className:"w-3 h-3 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.827a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),(0,Ne.jsx)("span",{className:"truncate",children:O})]})]})]}),(0,Ne.jsx)("div",{className:"flex flex-col items-end gap-1 shrink-0 ml-7 sm:ml-0",onClick:function(e){return e.stopPropagation()},children:(0,Ne.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2",children:["completed"===l.status&&l.post_id&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("a",{href:"".concat(b,"post.php?post=").concat(l.post_id,"&action=edit"),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-2 py-1 text-xs font-medium text-indigo-600 bg-indigo-50 rounded-md hover:bg-indigo-100 transition-colors",children:"Edit"}),(0,Ne.jsx)("a",{href:"/?p=".concat(l.post_id),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-2 py-1 text-xs font-medium text-gray-600 bg-gray-50 rounded-md hover:bg-gray-100 transition-colors",children:"View"})]}),"failed"===l.status&&(0,Ne.jsx)(De,{variant:"secondary",size:"sm",onClick:m,className:"h-7 text-[11px] px-2",loading:String(c)===String(l.id),disabled:String(c)===String(l.id),children:"Retry"}),(0,Ne.jsx)("button",{onClick:h,className:"p-1.5 text-gray-400 hover:text-indigo-600 rounded-md hover:bg-indigo-50 transition-colors",title:"Duplicate",children:(0,Ne.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})})}),"processing"!==l.status&&(0,Ne.jsx)("button",{onClick:f,disabled:g,className:"p-1.5 text-gray-400 hover:text-red-600 rounded-md hover:bg-red-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete",children:g?(0,Ne.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,Ne.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ne.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,Ne.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-4v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]}),u&&(0,Ne.jsxs)("div",{className:"px-4 py-4 bg-gray-50 border-t border-gray-200",children:[l.error_message&&(0,Ne.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Ne.jsx)("p",{className:"text-sm text-red-700",children:l.error_message})}),"completed"===l.status?(0,Ne.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[(0,Ne.jsxs)("p",{children:[(0,Ne.jsx)("span",{className:"font-medium text-gray-600",children:"Campaign Type:"})," ",N]}),(0,Ne.jsxs)("p",{children:[(0,Ne.jsx)("span",{className:"font-medium text-gray-600",children:"Publication:"})," ",C]}),A&&(0,Ne.jsxs)("p",{className:"inline-flex items-center gap-1",children:[L?(0,Ne.jsx)("svg",{className:"w-3.5 h-3.5 text-amber-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",title:"Scheduled post date/time",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10m-11 9h12a2 2 0 002-2V7a2 2 0 00-2-2H6a2 2 0 00-2 2v11a2 2 0 002 2z"})}):(0,Ne.jsx)("svg",{className:"w-3.5 h-3.5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",title:"Published post date/time",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Ne.jsxs)("span",{children:[P,": ",y(A)]})]}),k?(0,Ne.jsxs)("p",{children:[(0,Ne.jsx)("span",{className:"font-medium text-gray-600",children:"Research URL:"})," ",w||"-"]}):(0,Ne.jsxs)("p",{children:[(0,Ne.jsx)("span",{className:"font-medium text-gray-600",children:"Topic:"})," ",x||"-"]}),(0,Ne.jsxs)("p",{children:[(0,Ne.jsx)("span",{className:"font-medium text-gray-600",children:"Keywords:"})," ",(null!==(n=l.keywords)&&void 0!==n?n:"").trim()||"-"]}),(null!==(o=l.title_override)&&void 0!==o?o:"").trim()&&(0,Ne.jsxs)("p",{children:[(0,Ne.jsx)("span",{className:"font-medium text-gray-600",children:"Title Override:"})," ",l.title_override]}),(null!==(a=l.slug_override)&&void 0!==a?a:"").trim()&&(0,Ne.jsxs)("p",{children:[(0,Ne.jsx)("span",{className:"font-medium text-gray-600",children:"Slug Override:"})," ",l.slug_override]}),l.feature_image_id&&(0,Ne.jsxs)("p",{children:[(0,Ne.jsx)("span",{className:"font-medium text-gray-600",children:"Featured Image:"})," ID ",l.feature_image_id]}),(null!==(i=l.feature_image_title)&&void 0!==i?i:"").trim()&&"{{title}}"!==l.feature_image_title&&(0,Ne.jsxs)("p",{children:[(0,Ne.jsx)("span",{className:"font-medium text-gray-600",children:"Featured Image Title:"})," ",l.feature_image_title]})]}):(0,Ne.jsx)(Sa,{task:l,campaign:s,onChange:p})]})]})}function Pa(){return(0,Ne.jsxs)("div",{className:"w-full xl:w-80 shrink-0",children:[(0,Ne.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm mb-4",children:[(0,Ne.jsx)("div",{className:"px-4 py-3 border-b border-gray-200",children:(0,Ne.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Quick Tips"})}),(0,Ne.jsxs)("div",{className:"px-4 py-3 space-y-3",children:[(0,Ne.jsxs)("div",{className:"flex gap-3",children:[(0,Ne.jsx)("div",{className:"shrink-0 w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-medium",children:"1"}),(0,Ne.jsx)("p",{className:"text-sm text-gray-600",children:"Configure your content fields to define what gets generated for each post."})]}),(0,Ne.jsxs)("div",{className:"flex gap-3",children:[(0,Ne.jsx)("div",{className:"shrink-0 w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-medium",children:"2"}),(0,Ne.jsx)("p",{className:"text-sm text-gray-600",children:"Add post tasks with topics to create multiple posts at once."})]}),(0,Ne.jsxs)("div",{className:"flex gap-3",children:[(0,Ne.jsx)("div",{className:"shrink-0 w-6 h-6 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs font-medium",children:"3"}),(0,Ne.jsx)("p",{className:"text-sm text-gray-600",children:"Click Run to process all pending post tasks through your configured webhook."})]})]})]}),(0,Ne.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm mb-4",children:[(0,Ne.jsx)("div",{className:"px-4 py-3 border-b border-gray-200",children:(0,Ne.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Shortcuts"})}),(0,Ne.jsxs)("div",{className:"px-4 py-3 space-y-2",children:[(0,Ne.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Ne.jsx)("span",{className:"text-gray-600",children:"Save changes"}),(0,Ne.jsxs)("div",{className:"flex gap-1",children:[(0,Ne.jsx)("kbd",{className:"px-2 py-0.5 bg-gray-100 rounded text-[10px] font-mono text-gray-700",children:"Ctrl+S"}),(0,Ne.jsx)("kbd",{className:"px-2 py-0.5 bg-gray-100 rounded text-[10px] font-mono text-gray-700",children:"S"})]})]}),(0,Ne.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,Ne.jsx)("span",{className:"text-gray-600",children:"Add new post task"}),(0,Ne.jsxs)("div",{className:"flex gap-1",children:[(0,Ne.jsx)("kbd",{className:"px-2 py-0.5 bg-gray-100 rounded text-[10px] font-mono text-gray-700",children:"Ctrl+N"}),(0,Ne.jsx)("kbd",{className:"px-2 py-0.5 bg-gray-100 rounded text-[10px] font-mono text-gray-700",children:"N"})]})]})]})]}),(0,Ne.jsxs)("div",{className:"bg-linear-to-br from-indigo-500 to-purple-600 rounded-lg shadow-sm p-4 text-white",children:[(0,Ne.jsx)("h3",{className:"font-medium mb-2",children:"Need More Power?"}),(0,Ne.jsx)("p",{className:"text-sm text-indigo-100 mb-3",children:"Upgrade to Pro for unlimited posts, advanced AI models, and priority support."}),(0,Ne.jsx)("a",{href:"#",className:"inline-block px-4 py-2 bg-white text-indigo-600 rounded-lg text-sm font-medium hover:bg-indigo-50 transition-colors",children:"Learn More"})]}),(0,Ne.jsx)("div",{className:"mt-4 text-center",children:(0,Ne.jsx)("a",{href:"#",className:"text-sm text-gray-500 hover:text-gray-700",children:"Need help? View documentation"})})]})}function Aa(e){return Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(e)}function Ta(){Ta=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),l=new L(n||[]);return o(i,"_invoke",{value:O(e,r,l)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var x={};c(x,i,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==r&&n.call(j,i)&&(x=j);var k=b.prototype=g.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,i,l){var s=d(e[o],e,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Aa(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,l)}))}l(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function O(t,r,n){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var s=N(l,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?m:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function N(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,N(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Aa(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},_(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(k),c(k,s,"Generator"),c(k,i,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Ia(e,t,r,n,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function Da(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Ia(a,n,o,i,l,"next",e)}function l(e){Ia(a,n,o,i,l,"throw",e)}i(void 0)}))}}function Ra(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ma(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ra(Object(r),!0).forEach((function(t){za(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ra(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function za(e,t,r){return(t=function(e){var t=function(e){if("object"!=Aa(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Aa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Aa(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||Ba(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ba(e,t){if(e){if("string"==typeof e)return Ua(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ua(e,t):void 0}}function Ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ga=[{value:15,label:"Every 15 minutes"},{value:60,label:"Hourly"},{value:360,label:"Every 6 hours"},{value:1440,label:"Daily"}];function Wa(){return"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():"src-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,9))}function qa(e,t,r){var n,o,a,i,l,s,c,u,d,p;return{title:e.title||"Campaign",post_type:null!==(n=e.post_type)&&void 0!==n?n:"post",publication_mode:null!==(o=e.publication_mode)&&void 0!==o?o:"pending_review",default_author_id:e.default_author_id,webhook_id:null!==(a=e.webhook_id)&&void 0!==a?a:null,campaign_type:null!==(i=e.campaign_type)&&void 0!==i?i:"default",tone_of_voice:null!==(l=e.tone_of_voice)&&void 0!==l?l:"none",point_of_view:null!==(s=e.point_of_view)&&void 0!==s?s:"none",readability:null!==(c=e.readability)&&void 0!==c?c:"grade_8",language:null!==(u=e.language)&&void 0!==u?u:"en",target_country:null!==(d=e.target_country)&&void 0!==d?d:"international",instruction_id:null!==(p=e.instruction_id)&&void 0!==p?p:null,content_fields:e.content_fields,rss_enabled:"yes",rss_config:{frequency_interval:t,sources:r}}}function Ha(e){var t=e.isOpen,r=e.onClose,n=e.campaign,o=(e.onSave,e.onRunNowComplete),i=e.onRssConfigChange,l=e.onTriggerSave,s=Fa((0,a.useState)(60),2),c=s[0],u=s[1],d=Fa((0,a.useState)([]),2),p=d[0],f=d[1],h=Fa((0,a.useState)(!1),2),m=h[0],v=h[1],g=Fa((0,a.useState)(!1),2),y=g[0],b=g[1],x=Fa((0,a.useState)(""),2),w=x[0],j=x[1];(0,a.useEffect)((function(){if(t){j("");var e=null==n?void 0:n.rss_config;if(e){u(Ga.some((function(t){return t.value===e.frequency_interval}))?e.frequency_interval:60);var r=Array.isArray(e.sources)?e.sources:[];f(r.length?r.map((function(e){var t,r;return{source_id:null!==(t=e.source_id)&&void 0!==t?t:Wa(),feed_url:null!==(r=e.feed_url)&&void 0!==r?r:""}})):[{source_id:Wa(),feed_url:""}])}else u(60),f([{source_id:Wa(),feed_url:""}])}}),[t,null==n?void 0:n.rss_config]);var k=function(e,t){null==i||i({frequency_interval:e,sources:t})},_=function(){var e=Da(Ta().mark((function e(){var t,n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=p.filter((function(e){var t;return String(null!==(t=e.feed_url)&&void 0!==t?t:"").trim()}))).length){e.next=4;break}return j("Add at least one feed URL before saving."),e.abrupt("return");case 4:return j(""),b(!0),e.prev=6,n={frequency_interval:c,sources:t},k(c,t),e.next=11,null==l?void 0:l({rss_config:n});case 11:e.sent&&r(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),j((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Save failed.");case 18:return e.prev=18,b(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[6,15,18,21]])})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Da(Ta().mark((function e(){var t,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=p.filter((function(e){var t;return String(null!==(t=e.feed_url)&&void 0!==t?t:"").trim()}))).length){e.next=4;break}return j("Add at least one feed URL before fetching."),e.abrupt("return");case 4:return j(""),v(!0),e.prev=6,e.next=9,Ct(n.id,qa(n,c,t));case 9:return e.next=11,kt("poststation_run_rss_now",{id:n.id});case 11:r=e.sent,null==o||o(r),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),j((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Fetch failed.");case 18:return e.prev=18,v(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[6,15,18,21]])})));return function(){return e.apply(this,arguments)}}();return null!=n&&n.id?(0,Ne.jsx)(sr,{isOpen:t,onClose:r,title:"RSS Feed configuration",size:"lg",children:(0,Ne.jsxs)("div",{className:"px-6 pb-6 space-y-4",children:[w&&(0,Ne.jsx)("div",{className:"rounded-lg bg-red-50 border border-red-200 px-3 py-2 text-sm text-red-800",children:w}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Check frequency"}),(0,Ne.jsx)(ot,{options:Ga.map((function(e){return{value:String(e.value),label:e.label}})),value:String(c),onChange:function(e){var t=Number(e.target.value);u(t),k(t,p)}})]}),(0,Ne.jsxs)("div",{children:[(0,Ne.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Ne.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Feed URLs"}),(0,Ne.jsx)(De,{type:"button",variant:"secondary",size:"sm",onClick:function(){f((function(e){var t,r=[].concat(function(e){if(Array.isArray(e))return Ua(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Ba(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{source_id:Wa(),feed_url:""}]);return k(c,r),r}))},children:"Add source"})]}),(0,Ne.jsx)("div",{className:"space-y-2",children:p.map((function(e,t){return(0,Ne.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,Ne.jsx)(Ye,{type:"url",value:e.feed_url,onChange:function(e){return function(e,t){f((function(r){var n=r.map((function(r,n){return n===e?Ma(Ma({},r),{},{feed_url:t}):r}));return k(c,n),n}))}(t,e.target.value)},placeholder:"https://example.com/feed.xml",className:"flex-1"}),(0,Ne.jsx)(De,{type:"button",variant:"secondary",size:"sm",onClick:function(){return function(e){f((function(t){var r=t.filter((function(t,r){return r!==e}));return k(c,r),r}))}(t)},disabled:p.length<=1,"aria-label":"Remove source",children:"Remove"})]},e.source_id)}))})]}),(0,Ne.jsxs)("div",{className:"flex flex-wrap gap-3 pt-2 border-t border-gray-200",children:[(0,Ne.jsx)(De,{type:"button",variant:"primary",onClick:_,disabled:y||m,children:y?"Saving":"Save"}),(0,Ne.jsx)(De,{type:"button",variant:"secondary",onClick:S,disabled:m||y,children:m?"Fetching":"Fetch"}),(0,Ne.jsx)(De,{type:"button",variant:"secondary",onClick:r,disabled:y,children:"Back"})]})]})}):null}function Va(e){return Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Va(e)}function $a(){$a=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),l=new L(n||[]);return o(i,"_invoke",{value:O(e,r,l)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var x={};c(x,i,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==r&&n.call(j,i)&&(x=j);var k=b.prototype=g.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,i,l){var s=d(e[o],e,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Va(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,l)}))}l(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function O(t,r,n){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var s=N(l,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?m:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function N(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,N(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(Va(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},_(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(k),c(k,s,"Generator"),c(k,i,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Ya(e,t,r,n,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function Ja(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ka(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(r),!0).forEach((function(t){Za(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ja(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Za(e,t,r){return(t=function(e){var t=function(e){if("object"!=Va(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Va(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Va(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xa(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ei(e){if(!e||"string"!=typeof e)return"";try{return new URL(e.trim()).hostname.replace(/^www\./,"")||""}catch(e){return""}}function ti(e){var t,r=e.isOpen,n=e.onClose,o=e.data,i=e.campaignId,l=e.onAddedToTasks,s=mr().showToast,c=Qa((0,a.useState)(!1),2),u=c[0],d=c[1],p=Qa((0,a.useState)({}),2),f=p[0],h=p[1],m=(0,a.useMemo)((function(){return function(e){var t=[],r=Array.isArray(e)?e:null==e?void 0:e.sources;return r&&Array.isArray(r)?(r.forEach((function(e){var r,n,o=e.source_id,a=null!==(r=e.feed_url)&&void 0!==r?r:"";(null!==(n=e.items)&&void 0!==n?n:[]).forEach((function(e){var r,n,i,l=null!==(r=e.url)&&void 0!==r?r:"";t.push({source_id:o,feed_url:a,title:null!==(n=e.title)&&void 0!==n?n:"",url:l,date:null!==(i=e.date)&&void 0!==i?i:"",domain:ei(l)})}))})),t):t}(o)}),[o]),v=Object.values(f).filter(Boolean).length,g=function(){var e,t=(e=$a().mark((function e(){var t,r,o,a,c,u;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=m.filter((function(e,t){return f[t]&&m[t].url}))).length){e.next=4;break}return s("Select at least one item.","error"),e.abrupt("return");case 4:return d(!0),e.prev=5,e.next=8,At(i,t);case 8:a=e.sent,c=null!==(r=null==a?void 0:a.count)&&void 0!==r?r:0,u=null!==(o=null==a?void 0:a.tasks)&&void 0!==o?o:[],s("Added ".concat(c," task(s) to the campaign."),"success"),null==l||l(u,c),n(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),s((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Failed to add tasks.","error");case 19:return e.prev=19,d(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[5,16,19,22]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Ya(a,n,o,i,l,"next",e)}function l(e){Ya(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();if(!r)return null;var y=null!==(t=null==o?void 0:o.status)&&void 0!==t?t:"",b=m.length>0;return(0,Ne.jsx)(sr,{isOpen:r,onClose:n,title:"RSS feed results",size:"xl",children:(0,Ne.jsxs)("div",{className:"px-6 pb-6 space-y-4",children:[y&&(0,Ne.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Ne.jsx)("strong",{children:"Status:"})," ",y]}),b?(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[(0,Ne.jsxs)("label",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,Ne.jsx)("input",{type:"checkbox",checked:v===m.filter((function(e){return e.url})).length&&v>0,onChange:function(e){return function(e){if(e){var t={};m.forEach((function(e,r){e.url&&(t[r]=!0)})),h(t)}else h({})}(e.target.checked)},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 focus:ring-1"}),"Select all"]}),(0,Ne.jsxs)("span",{className:"text-xs text-gray-500 tabular-nums",children:[v," selected  ",m.length," items"]})]}),(0,Ne.jsx)("div",{className:"rounded-lg border border-gray-200 bg-white shadow-sm overflow-hidden max-h-112 overflow-y-auto",children:(0,Ne.jsxs)("table",{className:"min-w-full text-xs",children:[(0,Ne.jsx)("thead",{className:"sticky top-0 z-10 bg-gray-50/95 backdrop-blur border-b border-gray-200",children:(0,Ne.jsxs)("tr",{children:[(0,Ne.jsx)("th",{className:"w-8 pl-2.5 pr-1.5 py-1.5 text-left",children:(0,Ne.jsx)("span",{className:"sr-only",children:"Select"})}),(0,Ne.jsx)("th",{className:"w-9 pl-1.5 pr-2 py-1.5 text-right font-medium text-gray-500 uppercase tracking-wider",children:"#"}),(0,Ne.jsx)("th",{className:"w-32 pl-1.5 pr-2 py-1.5 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Domain"}),(0,Ne.jsx)("th",{className:"pl-2 pr-2 py-1.5 text-left font-medium text-gray-500 uppercase tracking-wider min-w-48",children:"Title"}),(0,Ne.jsx)("th",{className:"pl-2 pr-2 py-1.5 text-left font-medium text-gray-500 uppercase tracking-wider min-w-32 max-w-56",children:"URL"}),(0,Ne.jsx)("th",{className:"w-28 pl-2 pr-2.5 py-1.5 text-left font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),(0,Ne.jsx)("tbody",{className:"divide-y divide-gray-100",children:m.map((function(e,t){return(0,Ne.jsxs)("tr",{className:"hover:bg-gray-50/80 transition-colors",children:[(0,Ne.jsx)("td",{className:"pl-2.5 pr-1.5 py-1",children:e.url?(0,Ne.jsx)("input",{type:"checkbox",checked:!!f[t],onChange:function(){return function(e){h((function(t){return Ka(Ka({},t),{},Za({},e,!t[e]))}))}(t)},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 focus:ring-1"}):null}),(0,Ne.jsx)("td",{className:"pl-1.5 pr-2 py-1 text-right text-gray-400 tabular-nums",children:t+1}),(0,Ne.jsx)("td",{className:"pl-1.5 pr-2 py-1 text-gray-600 truncate max-w-32",title:e.domain,children:e.domain}),(0,Ne.jsx)("td",{className:"pl-2 pr-2 py-1 text-gray-900 truncate max-w-72",title:e.title||"",children:e.title||""}),(0,Ne.jsx)("td",{className:"pl-2 pr-2 py-1 max-w-56",children:(0,Ne.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:underline truncate block",children:e.url||""})}),(0,Ne.jsx)("td",{className:"pl-2 pr-2.5 py-1 text-gray-500 whitespace-nowrap truncate max-w-28",title:e.date||"",children:e.date||""})]},t)}))})]})}),(0,Ne.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,Ne.jsx)(De,{variant:"primary",onClick:g,disabled:u||0===v,children:u?"Adding":"Add to tasks (".concat(v,")")}),(0,Ne.jsx)(De,{variant:"secondary",onClick:n,children:"Back"})]})]}):(0,Ne.jsx)("p",{className:"text-sm text-gray-500",children:"No items returned from the feed(s)."})]})})}function ri(e){return ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(e)}var ni=["clear_image_overrides"],oi=["id","post_id","error_message","status"];function ai(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ii(){ii=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),l=new L(n||[]);return o(i,"_invoke",{value:O(e,r,l)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var x={};c(x,i,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==r&&n.call(j,i)&&(x=j);var k=b.prototype=g.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,i,l){var s=d(e[o],e,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==ri(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,l)}))}l(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function O(t,r,n){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var s=N(l,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?m:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function N(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,N(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(ri(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},_(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(k),c(k,s,"Generator"),c(k,i,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function li(e){return function(e){if(Array.isArray(e))return mi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||hi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(e,t,r,n,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function ci(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){si(a,n,o,i,l,"next",e)}function l(e){si(a,n,o,i,l,"throw",e)}i(void 0)}))}}function ui(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(r),!0).forEach((function(t){pi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ui(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pi(e,t,r){return(t=function(e){var t=function(e){if("object"!=ri(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ri(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ri(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||hi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hi(e,t){if(e){if("string"==typeof e)return mi(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mi(e,t):void 0}}function mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var vi=function(e){return""===String(null!=e?e:"").trim()},gi=function(e){if(!e)return!1;var t=new Date(String(e).replace(" ","T"));return!Number.isNaN(t.getTime())&&t.getTime()<Date.now()},yi=function(e){var t=e.type,r=e.className,n=void 0===r?"w-4 h-4":r;return"listicle"===t?(0,Ne.jsx)("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}):"news"===t?(0,Ne.jsx)("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}):"guide"===t?(0,Ne.jsx)("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}):"howto"===t?(0,Ne.jsxs)("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}):(0,Ne.jsx)("svg",{className:n,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})};function bi(e){var t=e.value,r=e.onChange,n=fi((0,a.useState)(!1),2),o=n[0],i=n[1],l=fi((0,a.useState)(t||""),2),s=l[0],c=l[1],u=(0,a.useRef)(null);(0,a.useEffect)((function(){c(t||"")}),[t]),(0,a.useEffect)((function(){o&&u.current&&(u.current.focus(),u.current.select())}),[o]);var d=(null==t?void 0:t.trim())||"Untitled Campaign";return(0,Ne.jsx)("div",{className:"flex items-center min-w-0",children:o?(0,Ne.jsx)("input",{ref:u,type:"text",value:s,onChange:function(e){return c(e.target.value)},onBlur:function(){i(!1);var e=s.trim();e&&e!==t?r(e):c(t||"")},onKeyDown:function(e){var r;"Enter"===e.key&&e.target.blur(),"Escape"===e.key&&(c(t||""),i(!1),null===(r=u.current)||void 0===r||r.blur())},className:"poststation-field flex-1 min-w-0 px-3 py-1.5 text-xl font-semibold border-indigo-300 focus:border-indigo-500 focus:ring-indigo-500"}):(0,Ne.jsxs)("button",{type:"button",onClick:function(){return i(!0)},className:"group flex items-center gap-2 min-w-0 rounded-lg py-1.5 px-2 -ml-2 hover:bg-gray-100 transition-colors text-left",children:[(0,Ne.jsx)("span",{className:"text-xl font-semibold text-gray-900 truncate",children:d}),(0,Ne.jsx)("svg",{className:"shrink-0 w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})]})})}function xi(){var e,t,r,n,o=function(){let{matches:e}=a.useContext($),t=e[e.length-1];return t?t.params:{}}().id,i=fi((0,a.useState)(null),2),l=i[0],s=i[1],c=fi((0,a.useState)([]),2),u=c[0],d=c[1],p=fi((0,a.useState)(!1),2),f=p[0],h=p[1],m=fi((0,a.useState)(!1),2),v=m[0],g=m[1],y=fi((0,a.useState)(!1),2),b=y[0],x=y[1],w=fi((0,a.useState)(null),2),j=w[0],k=w[1],_=fi((0,a.useState)(!1),2),S=_[0],O=_[1],N=fi((0,a.useState)(!1),2),E=N[0],C=N[1],L=fi((0,a.useState)(!1),2),P=L[0],A=L[1],T=fi((0,a.useState)(!1),2),I=T[0],D=T[1],R=fi((0,a.useState)(null),2),M=R[0],z=R[1],F=fi((0,a.useState)(!1),2),B=F[0],U=F[1],G=fi((0,a.useState)(!1),2),W=G[0],q=G[1],H=fi((0,a.useState)(!1),2),V=H[0],Y=H[1],J=fi((0,a.useState)(!1),2),K=J[0],Z=J[1],Q=fi((0,a.useState)(!1),2),X=Q[0],ee=Q[1],te=fi((0,a.useState)([]),2),re=te[0],ne=te[1],oe=(0,a.useRef)(!1),ae=(0,a.useRef)(!1),ie=(0,a.useRef)(null),le=(0,a.useRef)(0),se=(0,a.useRef)(null),ce=(0,a.useCallback)((function(e){var t,r,n;return"rewrite_blog_post"===(null!==(t=null==e?void 0:e.campaign_type)&&void 0!==t?t:"default")?""!==String(null!==(n=null==e?void 0:e.research_url)&&void 0!==n?n:"").trim():""!==String(null!==(r=null==e?void 0:e.topic)&&void 0!==r?r:"").trim()}),[]),ue=(0,a.useCallback)((function(){var e;return null!==(e=u.find((function(e){return"pending"===e.status&&ce(e)})))&&void 0!==e?e:null}),[u,ce]),de=mr().showToast,pe=Mr().setIsDirty,fe=(0,a.useCallback)((function(e){return String(null!=e?e:"")}),[]),he=un((0,a.useCallback)((function(){return function(e){return kt("poststation_get_campaign",{id:e})}(o)}),[o]),[o]),me=he.data,ve=he.loading,ge=(he.error,he.refetch),ye=Jt(),be=un((0,a.useCallback)((function(){return Mt()}),[]),[],{initialData:ye}).data,xe=dn((function(e){return Ct(o,e)})),we=xe.mutate,je=(xe.loading,dn((function(e){return function(e){return kt("poststation_create_posttask",vt({campaign_id:e},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(o,null!=e?{id:e}:{})}))),ke=je.mutate,_e=je.loading,Se=dn((function(e){return function(e,t){return kt("poststation_update_posttasks",{campaign_id:e,tasks:t})}(o,e)})).mutate,Oe=dn(Rt).mutate,Ee=dn((function(){return kt("poststation_clear_completed_posttasks",{campaign_id:o})})).mutate,Ce=dn((function(e){return function(e,t){var r=new FormData;return r.append("action","poststation_import_posttasks"),r.append("nonce",xt().nonce),r.append("campaign_id",e),r.append("file",t),fetch(xt().ajax_url,{method:"POST",body:r,credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){var t;if(!e.success)throw new Error((null===(t=e.data)||void 0===t?void 0:t.message)||"Import failed");return e.data}))}(o,e)})).mutate,Le=dn((function(e,t){return function(e,t,r){return kt("poststation_run_campaign",{id:e,task_id:t,webhook_id:r})}(o,e,t)})).mutate,Pe=dn((function(){return function(e){return kt("poststation_stop_campaign_run",{id:e})}(o)})).mutate,Ae=dn((function(){return Tt(o)})).mutate;(0,a.useEffect)((function(){if(me){var e,t,r,n,o,a,i=(null===(e=me.campaign)||void 0===e?void 0:e.campaign_type)||"default",l=(null===(t=me.campaign)||void 0===t?void 0:t.language)||"en",c=(null===(r=me.campaign)||void 0===r?void 0:r.target_country)||"international",u=(null===(n=me.campaign)||void 0===n?void 0:n.tone_of_voice)||"none",p=(null===(o=me.campaign)||void 0===o?void 0:o.point_of_view)||"none",f=(null===(a=me.campaign)||void 0===a?void 0:a.readability)||"grade_8",h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.publication_mode||Hn(e.post_status);return Mn(Mn({},e),{},{publication_mode:t})}(di(di({},me.campaign),{},{campaign_type:i,language:l,target_country:c,tone_of_voice:u,point_of_view:p,readability:f}));s(h),d((me.tasks||[]).map((function(e){var t,r,n,o;return di(di({},Vn(e,h)),{},{campaign_type:e.campaign_type||i,topic:null!==(t=e.topic)&&void 0!==t?t:"",keywords:null!==(r=e.keywords)&&void 0!==r?r:"",title_override:null!==(n=e.title_override)&&void 0!==n?n:"",slug_override:null!==(o=e.slug_override)&&void 0!==o?o:""})})))}}),[me]),(0,a.useEffect)((function(){var e=u.some((function(e){return"processing"===e.status}));e!==v&&g(e)}),[u,v]),(0,a.useEffect)((function(){return pe(b),function(){return pe(!1)}}),[b,pe]),(0,a.useEffect)((function(){var e=function(e){var t=navigator.platform.toUpperCase().indexOf("MAC")>=0?e.metaKey:e.ctrlKey;t&&"s"===e.key&&(e.preventDefault(),b&&!B&&We()),t&&"n"===e.key&&(e.preventDefault(),_e||Me())};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[b,B,_e,We,Me]);var Te=(0,a.useCallback)((function(e){if(Array.isArray(e)&&0!==e.length){var t=new Map(e.map((function(e){return[fe(e.id),e]})));d((function(e){return e.map((function(e){var r=t.get(fe(e.id));if(!r)return e;if("processing"===e.status&&"processing"!==r.status&&"completed"!==r.status&&"failed"!==r.status)return e;var n="processing"===r.status&&r.error_message?"failed":r.status;return e.status===n&&e.progress===r.progress&&e.post_id===r.post_id&&e.error_message===r.error_message&&e.scheduled_publication_date===r.scheduled_publication_date&&e.post_date===r.post_date&&e.wp_post_status===r.wp_post_status?e:di(di({},e),{},{status:n,progress:r.progress,post_id:r.post_id,error_message:r.error_message,scheduled_publication_date:r.scheduled_publication_date,post_date:r.post_date,wp_post_status:r.wp_post_status})}))}))}}),[fe]);(0,a.useEffect)((function(){le.current=u.length}),[u.length]),(0,a.useEffect)((function(){se.current=l}),[l]),(0,a.useEffect)((function(){var e;if(ae.current&&ie.current&&"active"!==(null==l?void 0:l.status)){if(oe.current)return ae.current=!1,void(ie.current=null);var t=ie.current,r=u.find((function(e){return fe(e.id)===t}));if(r&&("completed"===r.status||"failed"===r.status)){var n=u.find((function(e){return"pending"===e.status&&ce(e)}));if(!n)return ae.current=!1,ie.current=null,void g(!1);ie.current=fe(n.id),d((function(e){return e.map((function(e){return fe(e.id)===fe(n.id)?di(di({},e),{},{status:"processing",error_message:null,progress:null}):e}))})),Le(n.id,null!==(e=null==l?void 0:l.webhook_id)&&void 0!==e?e:0)}}}),[u,null==l?void 0:l.status,null==l?void 0:l.webhook_id,Le,fe,ce]),(0,a.useEffect)((function(){var e=!1,t=function(){var t=ci(ii().mark((function t(){var r,n,a,i;return ii().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=le.current,t.next=4,qt(o,n);case 4:if(a=t.sent,!e){t.next=7;break}return t.abrupt("return");case 7:i=Array.isArray(a)?a:null!==(r=null==a?void 0:a.tasks)&&void 0!==r?r:[],Te(i),null!=a&&a.new_tasks_available&&Array.isArray(null==a?void 0:a.full_tasks)&&a.full_tasks.length>0&&d((function(e){var t,r=new Set(e.map((function(e){return fe(e.id)}))),n=se.current,o=null!==(t=null==n?void 0:n.campaign_type)&&void 0!==t?t:"default",i=a.full_tasks.filter((function(e){return!r.has(fe(e.id))})).map((function(e){var t,r,a,i;return di(di({},Vn(e,n||{})),{},{campaign_type:e.campaign_type||o,topic:null!==(t=e.topic)&&void 0!==t?t:"",keywords:null!==(r=e.keywords)&&void 0!==r?r:"",title_override:null!==(a=e.title_override)&&void 0!==a?a:"",slug_override:null!==(i=e.slug_override)&&void 0!==i?i:""})}));return i.length?[].concat(li(i),li(e)):e})),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();t();var r=setInterval(t,5e3);return function(){e=!0,clearInterval(r)}}),[o,Te,fe]);var Ie=function(e){if(null!=e&&e.clear_image_overrides){var t=u.map((function(e){return di(di({},e),{},{feature_image_id:null,feature_image_title:""})}));d(t),x(!0),Se(t).catch((function(){ge()})),e.clear_image_overrides;var r=ai(e,ni);s(r)}else s(e),x(!0)},Re=(0,a.useCallback)((function(e){var t,r,n,o;return di(di({},Vn(e,l||{})),{},{publication_mode:(null==l?void 0:l.publication_mode)||(null==e?void 0:e.publication_mode)||"pending_review",campaign_type:(null==l?void 0:l.campaign_type)||"default",topic:null!==(t=e.topic)&&void 0!==t?t:"",keywords:null!==(r=e.keywords)&&void 0!==r?r:"",title_override:null!==(n=e.title_override)&&void 0!==n?n:"",slug_override:null!==(o=e.slug_override)&&void 0!==o?o:""})}),[l]),Me=function(){var e=Dt(),t={id:e,status:"pending",topic:"",keywords:"",campaign_type:(null==l?void 0:l.campaign_type)||"default",publication_mode:(null==l?void 0:l.publication_mode)||"pending_review",article_url:"",research_url:"",feature_image_id:null,feature_image_title:"",title_override:"",slug_override:""};d((function(e){return[t].concat(li(e))})),ke(e).then((function(r){var n=Re,o=null!=r&&r.task?n(di(di({},r.task),{},{id:e})):n(di(di({},t),{},{id:e}));d((function(t){return t.map((function(t){return t.id===e?o:t}))}))})).catch((function(t){var r;d((function(t){return t.filter((function(t){return t.id!==e}))})),de(null!==(r=null==t?void 0:t.message)&&void 0!==r?r:"Failed to create task.","error")}))},ze=function(){var e=ci(ii().mark((function e(t){var r;return ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you want to delete this post task?")){e.next=2;break}return e.abrupt("return");case 2:return ne((function(e){return[].concat(li(e),[t])})),e.prev=3,e.next=6,Oe(t);case 6:d((function(e){return e.filter((function(e){return e.id!==t}))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),de(null!==(r=null===e.t0||void 0===e.t0?void 0:e.t0.message)&&void 0!==r?r:"Failed to delete post task.","error");case 12:return e.prev=12,ne((function(e){return e.filter((function(e){return e!==t}))})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,9,12,15]])})));return function(_x){return e.apply(this,arguments)}}(),Fe=function(){var e=ci(ii().mark((function e(t){var r;return ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=l&&l.webhook_id){e.next=3;break}return de("Select a webhook before retrying.","error"),e.abrupt("return");case 3:if(!j){e.next=5;break}return e.abrupt("return");case 5:return k(fe(t)),r=u.map((function(e){return fe(e.id)===fe(t)?di(di({},e),{},{status:"pending",error_message:null,progress:null}):e})),e.prev=7,e.next=10,Se(r);case 10:d(r),de("Post task set to pending.","info"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),de((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Failed to reset post task.","error");case 17:return e.prev=17,k(null),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[7,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=ci(ii().mark((function e(){var t;return ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=l&&l.webhook_id){e.next=3;break}return de("Select a webhook before retrying.","error"),e.abrupt("return");case 3:if(u.some((function(e){return"failed"===e.status}))){e.next=7;break}return de("No failed post tasks to retry.","info"),e.abrupt("return");case 7:if(!S){e.next=9;break}return e.abrupt("return");case 9:return O(!0),t=u.map((function(e){return"failed"===e.status?di(di({},e),{},{status:"pending",error_message:null,progress:null}):e})),e.prev=11,e.next=14,Se(t);case 14:d(t),de("Failed post tasks set to pending.","info"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(11),de((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Failed to reset post tasks.","error");case 21:return e.prev=21,O(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[11,18,21,24]])})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=ci(ii().mark((function e(t){return ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=2;break}return e.abrupt("return");case 2:return ee(!0),e.prev=3,e.next=6,Ce(t);case 6:ge(),de("Post tasks imported.","success"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Failed to import post tasks:",e.t0),de((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Failed to import post tasks.","error");case 14:return e.prev=14,ee(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=ci(ii().mark((function e(){return ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K){e.next=2;break}return e.abrupt("return");case 2:return Z(!0),e.prev=3,e.next=6,Ee();case 6:d((function(e){return e.filter((function(e){return"completed"!==e.status}))})),de("Completed post tasks cleared.","success"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Failed to clear completed:",e.t0),de((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Failed to clear completed post tasks.","error");case 14:return e.prev=14,Z(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,10,14,17]])})));return function(){return e.apply(this,arguments)}}(),We=function(){var e=ci(ii().mark((function e(){var t,r,n,o,a,i,c,d,p,f,h,m,v,g=arguments;return ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=g.length>0&&void 0!==g[0]?g[0]:{},p=[],vi(null==l?void 0:l.title)&&p.push("Campaign title is required."),vi(null==l?void 0:l.campaign_type)&&p.push("Campaign Type is required."),vi(null==l?void 0:l.language)&&p.push("Campaign Language is required."),vi(null==l?void 0:l.tone_of_voice)&&p.push("Campaign Tone of Voice is required."),vi(null==l?void 0:l.point_of_view)&&p.push("Campaign Point of View is required."),vi(null==l?void 0:l.readability)&&p.push("Campaign Readability is required."),vi(null==l?void 0:l.target_country)&&p.push("Campaign Target Country is required."),vi(null==l?void 0:l.post_type)&&p.push("Campaign Post Type is required."),vi(null==l?void 0:l.publication_mode)&&p.push("Campaign Publication is required."),vi(null==l?void 0:l.default_author_id)&&p.push("Campaign Default Author is required."),vi(null==l?void 0:l.webhook_id)&&p.push("Campaign Webhook is required."),f={};try{f=null!=l&&l.content_fields?"string"==typeof l.content_fields?JSON.parse(l.content_fields):l.content_fields:{}}catch(e){f={}}if((Array.isArray(null===(t=f)||void 0===t?void 0:t.custom_fields)?f.custom_fields:[]).forEach((function(e,t){vi(null==e?void 0:e.meta_key)&&p.push("Custom Field ".concat(t+1,": Meta Key is required.")),vi(null==e?void 0:e.prompt)&&p.push("Custom Field ".concat(t+1,": Generation Prompt is required.")),vi(null==e?void 0:e.prompt_context)&&p.push("Custom Field ".concat(t+1,": Prompt Context is required."))})),u.forEach((function(e){"rewrite_blog_post"===(e.campaign_type||(null==l?void 0:l.campaign_type)||"default")?vi(e.research_url)&&p.push("Task #".concat(e.id,": Research URL is required for rewrite type.")):vi(e.topic)&&p.push("Task #".concat(e.id,": Topic is required.")),!vi(e.title_override)&&vi(e.slug_override)&&p.push("Task #".concat(e.id,": Slug Override is required when a Title Override is provided."));var t,r=e.publication_mode||(null==l?void 0:l.publication_mode)||"pending_review";"schedule_date"===r&&(vi(e.publication_date)?p.push("Task #".concat(e.id,": Publication Date is required when Publication is Schedule Date.")):gi(e.publication_date)&&p.push("Task #".concat(e.id,": Publication Date cannot be in the past."))),"publish_randomly"===r&&(vi(e.publication_random_from)||vi(e.publication_random_to)?p.push("Task #".concat(e.id,": Random publish range is required when Publication is Publish Randomly.")):(t=e.publication_random_from)&&String(t)<Gn()?p.push("Task #".concat(e.id,": Random publish start date cannot be in the past.")):e.publication_random_to<e.publication_random_from&&p.push("Task #".concat(e.id,": Random publish end date must be on or after the start date.")))})),!(p.length>0)){e.next=21;break}return de(p[0],"error"),e.abrupt("return",!1);case 21:if(!B){e.next=23;break}return e.abrupt("return");case 23:return U(!0),h=null!=(null==d?void 0:d.rss_config),m=null!==(r=null!==(n=null==d?void 0:d.status)&&void 0!==n?n:l.status)&&void 0!==r?r:"paused",v={title:l.title,post_type:l.post_type,publication_mode:l.publication_mode,default_author_id:l.default_author_id,webhook_id:l.webhook_id,campaign_type:l.campaign_type,tone_of_voice:l.tone_of_voice,point_of_view:l.point_of_view,readability:l.readability,language:l.language,target_country:l.target_country,instruction_id:null!==(o=l.instruction_id)&&void 0!==o?o:null,content_fields:l.content_fields,rss_enabled:h?"yes":null!==(a=l.rss_enabled)&&void 0!==a?a:"no",rss_config:null!==(i=null!==(c=null==d?void 0:d.rss_config)&&void 0!==c?c:l.rss_config)&&void 0!==i?i:null,status:m},e.prev=27,e.next=30,Promise.all([we(v),Se(u)]);case 30:return h&&s((function(e){return di(di({},e),{},{rss_enabled:"yes",rss_config:d.rss_config})})),null!=(null==d?void 0:d.status)&&s((function(e){return di(di({},e),{},{status:d.status})})),x(!1),de("Changes saved.","success"),e.abrupt("return",!0);case 37:return e.prev=37,e.t0=e.catch(27),console.error("Failed to save:",e.t0),de((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Failed to save.","error"),e.abrupt("return",!1);case 42:return e.prev=42,U(!1),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[27,37,42,45]])})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=ci(ii().mark((function e(){var t,r,n,a,i,s;return ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=6;break}return e.next=3,We();case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:if(null!=l&&l.webhook_id){e.next=9;break}return de("Select a webhook before running.","error"),e.abrupt("return");case 9:if(t=ue()){e.next=13;break}return de("No pending post tasks to run.","info"),e.abrupt("return");case 13:if(!W){e.next=15;break}return e.abrupt("return");case 15:return q(!0),g(!0),oe.current=!1,(r="active"===(null==l?void 0:l.status))||(ae.current=!0,ie.current=fe(t.id)),e.prev=20,de("Run starting...","info"),e.next=24,Le(t.id,null!==(n=l.webhook_id)&&void 0!==n?n:0);case 24:return d((function(e){return e.map((function(e){return fe(e.id)===fe(t.id)?di(di({},e),{},{status:"processing",error_message:null,progress:null}):e}))})),e.next=27,qt(o);case 27:i=e.sent,s=Array.isArray(i)?i:null!==(a=null==i?void 0:i.tasks)&&void 0!==a?a:[],Te(s),e.next=37;break;case 32:e.prev=32,e.t0=e.catch(20),g(!1),r||(ae.current=!1,ie.current=null),de((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Failed to start run.","error");case 37:return e.prev=37,q(!1),e.finish(37);case 40:case"end":return e.stop()}}),e,null,[[20,32,37,40]])})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=ci(ii().mark((function e(){return ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe.current=!0,ae.current=!1,ie.current=null,!V){e.next=5;break}return e.abrupt("return");case 5:return Y(!0),e.prev=6,e.next=9,Pe();case 9:d((function(e){return e.map((function(e){return"processing"===e.status?di(di({},e),{},{status:"cancelled"}):e}))})),de("Run stopped.","info"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),de((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Failed to stop run.","error");case 16:return e.prev=16,Y(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[6,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=ci(ii().mark((function e(){var t,r,n,a;return ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae();case 3:t=e.sent,r=new Blob([JSON.stringify(t.data,null,2)],{type:"application/json"}),n=URL.createObjectURL(r),(a=document.createElement("a")).href=n,a.download="campaign-".concat(o,".json"),a.click(),URL.revokeObjectURL(n),de("Export downloaded.","success"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Failed to export:",e.t0),de((null===e.t0||void 0===e.t0?void 0:e.t0.message)||"Failed to export.","error");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();if(ve||!l)return(0,Ne.jsx)(Cr,{});var $e,Ye=(null==be?void 0:be.webhooks)||[],Je=(null==me?void 0:me.users)||[],Ke=(null==me?void 0:me.taxonomies)&&Object.keys(me.taxonomies).length>0?me.taxonomies:null!==(e=$t())&&void 0!==e?e:{};return(0,Ne.jsxs)("div",{className:"flex flex-col xl:flex-row gap-4 lg:gap-6",children:[(0,Ne.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ne.jsxs)("div",{className:"poststation-sticky-header sticky top-8 px-4 py-3 sm:py-4 mb-4 sm:mb-6 bg-gray-50 border-b border-gray-200 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,Ne.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,Ne.jsx)(bi,{value:l.title,onChange:function(e){Ie(di(di({},l),{},{title:e}))}}),(0,Ne.jsxs)("label",{className:"poststation-switch flex items-center gap-2 shrink-0 cursor-pointer",title:"When Live is on, pending tasks run automatically without clicking Run. New or saved tasks start immediately.",children:[(0,Ne.jsx)("input",{type:"checkbox",className:"poststation-field-checkbox",checked:"active"===(null==l?void 0:l.status),disabled:B,onChange:function(){var e=ci(ii().mark((function e(t){var r,n,o;return ii().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.checked?"active":"paused",o=null!==(r=null==l?void 0:l.status)&&void 0!==r?r:"paused",s((function(e){return e?di(di({},e),{},{status:n}):e})),e.next=5,We({status:n});case 5:e.sent||s((function(e){return e?di(di({},e),{},{status:o}):e}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),(0,Ne.jsx)("span",{className:"poststation-switch-track"}),(0,Ne.jsx)("span",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",title:"When Live is on, pending tasks run automatically without clicking Run. New or saved tasks start immediately.",children:"Live"})]})]}),(0,Ne.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 shrink-0",children:[(0,Ne.jsx)(De,{variant:"secondary",onClick:Ve,children:"Export"}),(0,Ne.jsx)(De,{variant:"secondary",onClick:We,loading:B,disabled:!b||B,children:b?"Save Changes":"Saved"}),"active"===(null==l?void 0:l.status)?(0,Ne.jsx)("span",{className:"text-sm font-medium ".concat(b?"text-gray-500":"text-green-600"),title:b?"Save to activate live mode.":"Campaign is live; tasks run automatically.",children:"Running"}):v?(0,Ne.jsx)(De,{variant:"danger",onClick:He,loading:V,children:"Stop"}):(0,Ne.jsx)(De,{variant:"success",onClick:qe,loading:W,disabled:W||0===u.filter((function(e){return"pending"===e.status})).length,children:"Run"})]})]}),(0,Ne.jsxs)(Lr,{className:"mb-5",children:[(0,Ne.jsxs)("div",{className:"px-5 py-3 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition-colors",onClick:function(){return h(!f)},children:[(0,Ne.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Campaign Settings"}),(0,Ne.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700",children:[f?"Hide":"Show",(0,Ne.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(f?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),f&&(0,Ne.jsxs)(Ar,{className:"px-5 py-4 space-y-6",children:[(0,Ne.jsx)(no,{campaign:l,onChange:Ie,webhooks:Ye,users:Je}),"yes"===(null==l?void 0:l.rss_enabled)&&(0,Ne.jsx)("div",{className:"border-t border-gray-200 pt-6",children:(0,Ne.jsxs)("div",{className:"flex items-start gap-3 rounded-lg border border-gray-200 bg-gray-50/50 px-4 py-3",children:[(0,Ne.jsx)("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-amber-100 text-amber-700",children:(0,Ne.jsx)("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":!0,children:(0,Ne.jsx)("path",{d:"M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20C5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1Z"})})}),(0,Ne.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,Ne.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,Ne.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"RSS Feeds"}),(null==l||null===(t=l.rss_config)||void 0===t||null===(t=t.sources)||void 0===t?void 0:t.length)>0&&(0,Ne.jsx)("span",{className:"inline-flex items-center rounded-md bg-gray-200/80 px-2 py-0.5 text-xs font-medium text-gray-700",children:($e=l.rss_config.frequency_interval,{15:"Every 15 min",60:"Hourly",360:"Every 6 h",1440:"Daily"}[$e]||"Every ".concat($e," min"))})]}),(null==l||null===(r=l.rss_config)||void 0===r||null===(r=r.sources)||void 0===r?void 0:r.length)>0?(0,Ne.jsxs)("ul",{className:"mt-1.5 space-y-0.5",children:[l.rss_config.sources.slice(0,5).map((function(e,t){return(0,Ne.jsx)("li",{className:"text-xs text-gray-600 truncate",title:e.feed_url||"",children:e.feed_url||""},t)})),l.rss_config.sources.length>5&&(0,Ne.jsxs)("li",{className:"text-xs text-gray-500",children:["+",l.rss_config.sources.length-5," more"]})]}):(0,Ne.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"No feeds configured. Add feed URLs to run RSS checks."})]}),(0,Ne.jsx)(De,{type:"button",variant:"secondary",size:"sm",onClick:function(){return A(!0)},className:"shrink-0",children:"Set Feeds"})]})}),(0,Ne.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,Ne.jsx)("div",{className:"mb-4",children:(0,Ne.jsx)(dt,{label:"Instruction set",tooltip:"Optional preset instructions for title, body, and section generation.",labelAction:(0,Ne.jsx)(De,{type:"button",variant:"secondary",size:"sm",onClick:function(){return C(!0)},children:"Add new preset"}),options:Kt().map((function(e){return{value:Number(e.id),label:e.name,description:e.description||"",icon:(0,Ne.jsx)(yi,{type:e.key,className:"w-4 h-4"})}})),value:null!==(n=null==l?void 0:l.instruction_id)&&void 0!==n?n:null,onChange:function(e){return Ie(di(di({},l),{},{instruction_id:null!=e?e:null}))},placeholder:"None"})}),(0,Ne.jsx)(ya,{campaign:l,onChange:Ie,taxonomies:Ke})]})]})]}),(0,Ne.jsx)(Lr,{children:(0,Ne.jsx)(Ar,{children:(0,Ne.jsx)(Ca,{tasks:u,campaign:l,onAddTask:Me,onUpdateTask:function(e,t){d((function(r){return r.map((function(r){return r.id===e?di(di({},r),t):r}))})),x(!0)},onDeleteTask:ze,onDuplicateTask:function(e){var t,r,n,o,a=u.find((function(t){return t.id===e}));if(a){var i=Dt(),s=(a.id,a.post_id,a.error_message,a.status,ai(a,oi)),c=di(di(di({},s),{},{id:i,status:"pending"},Vn(s,l||{})),{},{campaign_type:s.campaign_type||(null==l?void 0:l.campaign_type)||"default",topic:null!==(t=s.topic)&&void 0!==t?t:"",keywords:null!==(r=s.keywords)&&void 0!==r?r:"",title_override:null!==(n=s.title_override)&&void 0!==n?n:"",slug_override:null!==(o=s.slug_override)&&void 0!==o?o:""});d((function(e){return[c].concat(li(e))})),x(!0),ke(i).then((function(e){var t,r,n,o,a,c,u,p,f,h=null!=e&&e.task?di(di(di(di({},e.task),s),{},{id:i,status:null!==(t=e.task.status)&&void 0!==t?t:"pending"},Vn(s,l||{})),{},{campaign_type:s.campaign_type||(null==l?void 0:l.campaign_type)||"default",topic:null!==(r=s.topic)&&void 0!==r?r:"",keywords:null!==(n=s.keywords)&&void 0!==n?n:"",title_override:null!==(o=s.title_override)&&void 0!==o?o:"",slug_override:null!==(a=s.slug_override)&&void 0!==a?a:""}):di(di(di({},s),{},{id:i,status:"pending"},Vn(s,l||{})),{},{campaign_type:s.campaign_type||(null==l?void 0:l.campaign_type)||"default",topic:null!==(c=s.topic)&&void 0!==c?c:"",keywords:null!==(u=s.keywords)&&void 0!==u?u:"",title_override:null!==(p=s.title_override)&&void 0!==p?p:"",slug_override:null!==(f=s.slug_override)&&void 0!==f?f:""});d((function(e){return e.map((function(e){return e.id===i?h:e}))})),x(!0)})).catch((function(e){var t;d((function(e){return e.filter((function(e){return e.id!==i}))})),de(null!==(t=null==e?void 0:e.message)&&void 0!==t?t:"Failed to duplicate task.","error")}))}},onRunTask:Fe,retryingTaskId:j,onRetryFailedTasks:Be,retryFailedLoading:S,onImportTasks:Ue,onClearCompleted:Ge,loading:_e,importLoading:X,clearCompletedLoading:K,deletingTaskIds:re})})})]}),(0,Ne.jsx)(Pa,{}),(0,Ne.jsx)(tn,{isOpen:E,onClose:function(){return C(!1)},mode:"add",onSaved:function(e){null!=e&&Ie(di(di({},l),{},{instruction_id:e}))}}),(0,Ne.jsx)(Ha,{isOpen:P,onClose:function(){return A(!1)},campaign:l,onSave:function(){return ge()},onRunNowComplete:function(e){z(null!=e?e:null),D(!0)},onRssConfigChange:function(e){Ie(di(di({},l),{},{rss_enabled:"yes",rss_config:e}))},onTriggerSave:We}),(0,Ne.jsx)(ti,{isOpen:I,onClose:function(){D(!1),z(null)},data:M,campaignId:o,onAddedToTasks:function(e){var t;if(Array.isArray(e)&&0!==e.length){var r=null!==(t=null==l?void 0:l.campaign_type)&&void 0!==t?t:"default",n=e.map((function(e){var t,n,o,a;return di(di({},Vn(e,l||{})),{},{campaign_type:e.campaign_type||r,topic:null!==(t=e.topic)&&void 0!==t?t:"",keywords:null!==(n=e.keywords)&&void 0!==n?n:"",title_override:null!==(o=e.title_override)&&void 0!==o?o:"",slug_override:null!==(a=e.slug_override)&&void 0!==a?a:""})}));d((function(e){return[].concat(li(n),li(e))}))}}})]})}function wi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ji(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ji(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ji(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ki(e){var t=e.isOpen,r=e.onClose,n=e.mode,o=void 0===n?"add":n,i=e.webhook,l=void 0===i?null:i,s=e.onSaved,c=wi((0,a.useState)(""),2),u=c[0],d=c[1],p=wi((0,a.useState)(""),2),f=p[0],h=p[1],m=wi((0,a.useState)({}),2),v=m[0],g=m[1],y=dn(zt,{onSuccess:function(e,t){Ot(),null==s||s(),r()}}),b=y.mutate,x=y.loading;return(0,a.useEffect)((function(){t&&("edit"===o&&l?(d(l.name||""),h(l.url||"")):(d(""),h("")),g({}))}),[t,o,l]),(0,Ne.jsx)(sr,{isOpen:t,onClose:r,title:"edit"===o?"Edit Webhook":"New Webhook",size:"md",children:(0,Ne.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),t={},u.trim()||(t.name="Name is required"),f.trim()?/^https?:\/\/.+/.test(f)||(t.url="Please enter a valid URL"):t.url="URL is required",g(t),0===Object.keys(t).length&&b({id:null==l?void 0:l.id,name:u,url:f})},className:"space-y-4",children:[(0,Ne.jsx)(Ye,{label:"Name",tooltip:"Friendly name used to identify this webhook.",value:u,onChange:function(e){return d(e.target.value)},placeholder:"e.g., Content Generator",error:v.name}),(0,Ne.jsx)(Ye,{label:"URL",tooltip:"Endpoint that receives the generation payload.",type:"url",value:f,onChange:function(e){return h(e.target.value)},placeholder:"https://api.example.com/webhook",error:v.url}),(0,Ne.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,Ne.jsx)(De,{type:"button",variant:"secondary",onClick:r,children:"Cancel"}),(0,Ne.jsxs)(De,{type:"submit",loading:x,children:["edit"===o?"Update":"Create"," Webhook"]})]})]})})}function _i(e){return _i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_i(e)}function Si(){Si=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),l=new L(n||[]);return o(i,"_invoke",{value:O(e,r,l)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var x={};c(x,i,(function(){return this}));var w=Object.getPrototypeOf,j=w&&w(w(P([])));j&&j!==r&&n.call(j,i)&&(x=j);var k=b.prototype=g.prototype=Object.create(x);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,a,i,l){var s=d(e[o],e,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==_i(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,l)}))}l(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function O(t,r,n){var o=p;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var l=n.delegate;if(l){var s=N(l,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var c=d(t,r,n);if("normal"===c.type){if(o=n.done?m:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=m,n.method="throw",n.arg=c.arg)}}}function N(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,N(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function P(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(_i(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},_(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new S(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(k),c(k,s,"Generator"),c(k,i,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=P,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return l.type="throw",l.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],l=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:P(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function Oi(e){return function(e){if(Array.isArray(e))return Ti(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ai(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ni(e,t,r,n,o,a,i){try{var l=e[a](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(n,o)}function Ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ci(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ei(Object(r),!0).forEach((function(t){Li(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ei(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Li(e,t,r){return(t=function(e){var t=function(e){if("object"!=_i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=_i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],s=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw o}}return l}}(e,t)||Ai(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ai(e,t){if(e){if("string"==typeof e)return Ti(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ti(e,t):void 0}}function Ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ii(){var e=Pi((0,a.useState)([]),2),t=e[0],r=e[1],n=Pi((0,a.useState)([]),2),o=n[0],i=n[1],l=Pi((0,a.useState)({open:!1,mode:"add",webhook:null}),2),s=l[0],c=l[1],u=Jt(),d=un((0,a.useCallback)((function(){return Mt()}),[]),[],{initialData:u}),p=d.data,f=d.loading,h=(d.error,d.refetch),m=function(e){c({open:!0,mode:e,webhook:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null})},v=dn(Ft,{onSuccess:Ot}).mutate,g=function(){var e,t=(e=Si().mark((function e(t){return Si().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you want to delete this webhook? This action cannot be undone.")){e.next=2;break}return e.abrupt("return");case 2:return r((function(e){return[].concat(Oi(e),[t])})),e.prev=3,e.next=6,v(t);case 6:i((function(e){return[].concat(Oi(e),[t])})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error("Failed to delete webhook:",e.t0);case 12:return e.prev=12,r((function(e){return e.filter((function(e){return e!==t}))})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,9,12,15]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Ni(a,n,o,i,l,"next",e)}function l(e){Ni(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(_x){return t.apply(this,arguments)}}();if(f)return(0,Ne.jsx)(Cr,{});var y=((null==p?void 0:p.webhooks)||[]).filter((function(e){return!o.includes(e.id)}));return(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)(Tr,{title:"Webhooks",description:"Manage webhook endpoints for external integrations",actions:(0,Ne.jsx)(De,{onClick:function(){return m("add")},children:"Add Webhook"})}),0===y.length?(0,Ne.jsx)(_r,{icon:(0,Ne.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-full h-full",children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"})}),title:"No webhooks yet",description:"Create your first webhook to enable external integrations",action:(0,Ne.jsx)(De,{onClick:function(){return m("add")},children:"Add Webhook"})}):(0,Ne.jsxs)(yr,{children:[(0,Ne.jsx)(br,{children:(0,Ne.jsxs)(wr,{children:[(0,Ne.jsx)(jr,{children:"Name"}),(0,Ne.jsx)(jr,{children:"URL"}),(0,Ne.jsx)(jr,{children:"Created"}),(0,Ne.jsx)(jr,{className:"w-24",children:"Actions"})]})}),(0,Ne.jsx)(xr,{children:y.map((function(e){return(0,Ne.jsxs)(wr,{children:[(0,Ne.jsx)(kr,{children:(0,Ne.jsx)("span",{className:"font-medium",children:e.name})}),(0,Ne.jsx)(kr,{children:(0,Ne.jsx)("code",{className:"text-sm text-gray-600 bg-gray-100 px-2 py-1 rounded",children:e.url})}),(0,Ne.jsx)(kr,{children:new Date(e.created_at).toLocaleDateString()}),(0,Ne.jsx)(kr,{children:(0,Ne.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Ne.jsx)("button",{type:"button",className:"poststation-icon-btn",onClick:function(){return m("edit",e)},title:"Edit","aria-label":"Edit",children:(0,Ne.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,Ne.jsx)("button",{type:"button",className:"poststation-icon-btn-danger",onClick:function(){return g(e.id)},disabled:t.includes(e.id),title:"Delete","aria-label":"Delete",children:t.includes(e.id)?(0,Ne.jsxs)("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,Ne.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ne.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,Ne.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,Ne.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},e.id)}))})]}),(0,Ne.jsx)(ki,{isOpen:s.open,onClose:function(){c((function(e){return Ci(Ci({},e),{},{open:!1})}))},mode:s.mode,webhook:s.webhook,onSaved:function(){h()}})]})}function Di(){return(0,Ne.jsx)(hr,{children:(0,Ne.jsx)(Rr,{children:(0,Ne.jsx)(Br,{children:(0,Ne.jsxs)(pe,{children:[(0,Ne.jsx)(ue,{path:"/",element:(0,Ne.jsx)(ce,{to:"/campaigns",replace:!0})}),(0,Ne.jsx)(ue,{path:"/settings",element:(0,Ne.jsx)(jn,{})}),(0,Ne.jsx)(ue,{path:"/campaigns",element:(0,Ne.jsx)(In,{})}),(0,Ne.jsx)(ue,{path:"/campaigns/:id",element:(0,Ne.jsx)(xi,{})}),(0,Ne.jsx)(ue,{path:"/webhooks",element:(0,Ne.jsx)(Ii,{})})]})})})})}var Ri=r(72),Mi=r.n(Ri),zi=r(825),Fi=r.n(zi),Bi=r(659),Ui=r.n(Bi),Gi=r(56),Wi=r.n(Gi),qi=r(540),Hi=r.n(qi),Vi=r(113),$i=r.n(Vi),Yi=r(972),Ji={};Ji.styleTagTransform=$i(),Ji.setAttributes=Wi(),Ji.insert=Ui().bind(null,"head"),Ji.domAPI=Fi(),Ji.insertStyleElement=Hi(),Mi()(Yi.A,Ji),Yi.A&&Yi.A.locals&&Yi.A.locals;var Ki=document.getElementById("poststation-app");Ki&&(0,o.H)(Ki).render((0,Ne.jsx)(xe,{children:(0,Ne.jsx)(Di,{})}))})();