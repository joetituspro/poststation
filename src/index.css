@import "tailwindcss";

/* Custom base styles */
@layer base {
	body {
		@apply bg-gray-50;
	}
}

/* WordPress admin overrides for the app container */
#poststation-app {
	margin-left: -20px;
	margin-right: 0;
	margin-top: -10px;
	overflow: visible;
	--poststation-top-offset: 32px;
	font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", sans-serif;
	color: #111827;
	background: #f9fafb;
}

#poststation-app *,
#poststation-app *::before,
#poststation-app *::after {
	box-sizing: border-box;
}

#poststation-app h1,
#poststation-app h2,
#poststation-app h3,
#poststation-app h4,
#poststation-app h5,
#poststation-app h6,
#poststation-app p,
#poststation-app ul,
#poststation-app ol,
#poststation-app li,
#poststation-app figure,
#poststation-app blockquote {
	margin: 0;
	padding: 0;
}

#poststation-app button,
#poststation-app input,
#poststation-app select,
#poststation-app textarea {
	font: inherit;
	color: inherit;
}

#poststation-app button {
	cursor: pointer;
}

#poststation-app button:disabled {
	cursor: not-allowed;
}

/* App-scoped form controls to avoid WordPress admin style bleed */
#poststation-app .poststation-field {
	@apply block w-full max-w-none rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 shadow-none transition;
	@apply placeholder:text-gray-400 focus:border-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500;
	@apply disabled:cursor-not-allowed disabled:bg-gray-50 disabled:text-gray-500;
}

#poststation-app .poststation-field-error {
	@apply border-red-300 focus:border-red-500 focus:ring-red-500;
}

#poststation-app select.poststation-field {
	@apply pr-8;
}

#poststation-app textarea.poststation-field {
	@apply min-h-10 field-sizing-content resize-y;
}

/* Switch-style checkbox: wrap in label.poststation-switch and add span.poststation-switch-track after input */
#poststation-app .poststation-switch {
	@apply inline-flex items-center gap-3 cursor-pointer;
}
#poststation-app .poststation-switch input.poststation-field-checkbox {
	@apply sr-only;
}
#poststation-app .poststation-switch .poststation-switch-track {
	@apply relative inline-flex h-6 w-11 shrink-0 rounded-full bg-gray-200 transition-colors duration-200;
}
#poststation-app .poststation-switch .poststation-switch-track::after {
	content: "";
	@apply absolute left-0.5 top-0.5 h-5 w-5 rounded-full bg-white shadow-sm ring-0 transition duration-200;
}
#poststation-app .poststation-switch input:focus-visible + .poststation-switch-track {
	@apply ring-2 ring-indigo-500 ring-offset-2;
}
#poststation-app .poststation-switch input:checked + .poststation-switch-track {
	@apply bg-indigo-600;
}
#poststation-app .poststation-switch input:checked + .poststation-switch-track::after {
	@apply translate-x-5;
}
#poststation-app .poststation-switch input:disabled + .poststation-switch-track {
	@apply opacity-50 cursor-not-allowed;
}

#poststation-app .poststation-field-color {
	@apply h-10 w-full cursor-pointer rounded-lg border border-gray-300 bg-white p-1;
}

#poststation-app .poststation-icon-btn {
	@apply inline-flex items-center justify-center rounded-md border border-gray-300 bg-white p-1.5 text-gray-500 transition;
	@apply hover:border-indigo-300 hover:bg-indigo-50 hover:text-indigo-600;
	@apply disabled:cursor-not-allowed disabled:opacity-50;
}

#poststation-app a {
	color: inherit;
	text-decoration: none;
}

@media (min-width: 783px) {
	#poststation-app {
		margin-left: -20px;
	}
}

@media (min-width: 1024px) {
	#poststation-app .poststation-desktop-sidebar {
		position: sticky;
		align-self: flex-start;
		top: var(--poststation-top-offset, 32px);
		height: calc(100vh - var(--poststation-top-offset, 32px));
		left: auto;
		bottom: auto;
		transform: none;
	}
}

/* Sticky header on Campaign edit - below WP admin bar */
.poststation-sticky-header {
	position: sticky;
	top: var(--poststation-top-offset, 32px);
	z-index: 99990;
	width: 100%;
}

@media screen and (max-width: 782px) {
	.poststation-sticky-header {
		top: 0;
	}
}

body.admin-bar .poststation-mobile-overlay,
body.admin-bar .poststation-mobile-sidebar {
	top: 32px;
	height: calc(100vh - 32px);
}

@media screen and (max-width: 782px) {
	body.admin-bar .poststation-mobile-overlay,
	body.admin-bar .poststation-mobile-sidebar {
		top: 46px;
		height: calc(100vh - 46px);
	}
}
